// For license information, see `http://ep00.epimg.net/js/gdt/0681c221600c/a81a11db86dc/launch-f2b3c876fe9c.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2021-03-24T10:39:23Z",environment:"production",turbineBuildDate:"2021-02-01T22:48:08Z",turbineVersion:"27.1.0"},dataElements:{"omniture:fromHome":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"https://elpais.com/"==_satellite.getVar("referringURL").replace(/[\?#].*?$/g,"")?_satellite.getVar("pageName"):""}}},geoRegion:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.geoRegion"}},canonicalURL:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.canonicalURL"}},"paywall:privateMode":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.privateMode"}},referringURL:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.referringURL"}},"omniture:hourSection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.getTimeParting("h",_satellite.getVar("date:gmt"))}}},"omniture:adblocker":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"0"==_satellite.getVar("adblocker")?'D="sin_ADBLOCK-"+User-Agent':"1"==_satellite.getVar("adblocker")?'D="con_ADBLOCK-"+User-Agent':"not-set"}}},"device:type":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"device.type"}},ssl:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.ssl"}},"omniture:trackingServer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"1"==_satellite.getVar("ssl")?s.trackingServerSecure:s.trackingServer}}},date:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date"}},subCategory1:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.category.subCategory1"}},"paywall:product":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.product"}},"device:cookieEnabled":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"device.cookieEnabled"}},language:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.language"}},event:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"event"}},"omniture:visitNumMonth":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DTM.s.getVisitNum()}}},editionNavigation:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.editionNavigation"}},"device:language":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"device.language"}},"omniture:joinDate":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DTM.s.getTimeParting("d",_satellite.getVar("date:gmt"))+"-"+_satellite.getVar("date:day")+"/"+_satellite.getVar("date:month")+"/"+_satellite.getVar("date:fullYear")+"-"+_satellite.getVar("omniture:fullHour")}}},thematic:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.thematic"}},server:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.server"}},"paywall:ad":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.ad"}},serverAMP:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.serverAMP"}},"Visitor:version":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof Visitor&&"undefined"!=typeof Visitor.version?"Visitor "+Visitor.version:"Visitor error"}}},org:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.org"}},pageType:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.category.pageType"}},clickOrigin:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.clickOrigin"}},"omniture:author":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DTM.tools.omniture.getDL().authors}}},"omniture:articleURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"articulo"==_satellite.getVar("pageType")?"D=g":""}}},businessUnit:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.businessUnit"}},newsletters:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.newsletters"}},"omniture:tags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DTM.tools.omniture.getDL().tags}}},"date:year":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.year"}},"omniture:dayType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.getTimeParting("w",_satellite.getVar("date:gmt"))}}},registeredUser:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.registeredUser"}},"paywall:status":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.status"}},cms:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.cms"}},articleID:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.articleID"}},onsiteSearchTerm:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.onsiteSearchTerm"}},pageName:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.pageName"}},"paywall:type":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.type"}},"date:day":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.day"}},edition:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.edition"}},"omniture:newRepeat":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.getNewRepeat()}}},destinationURL:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.destinationURL"}},"paywall:active":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.active"}},"paywall:counter":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.counter"}},"DTM:version":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"DTM.version"}},pageInstanceID:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInstanceID"}},"paywall:freePage":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.freePage"}},"date:hours":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.hours"}},"cookie:visitorID":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"AMCV_2387401053DB208C0A490D4C%40AdobeOrg"}},secondaryCategories:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.category.secondaryCategories"}},subCategory2:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.category.subCategory2"}},"date:gmt":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.gmt"}},paywall:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall"}},"AppMeasurement:version":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"DTM.s.version"}},test:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.test"}},pageID:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.pageID"}},"date:minutes":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.minutes"}},"omniture:articleDays":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DTM.s.articleDays(_satellite.getVar("creationDate"))}}},onsiteSearchResults:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.onsiteSearchResults"}},primaryCategory:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.category.primaryCategory"}},userType:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.userType"}},country:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.country"}},"omniture:weekDay":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.getTimeParting("d",_satellite.getVar("date:gmt"))}}},campaign:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.campaign"}},"date:fullYear":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.fullYear"}},"queryParam:o":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"o",caseInsensitive:!0}},"omniture:visitNumDay":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DTM.s.getVisitNum("d","s_vnum_d","s_invisit_d")}}},"omniture:registeredUser":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"1"==_satellite.getVar("registeredUser")?"logueado":"0"==_satellite.getVar("registeredUser")?"anonimo":"not-set"}}},creationDate:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.creationDate"}},publisher:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.publisher"}},tags:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.tags"}},sysEnv:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.sysEnv"}},"paywall:signwall":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.signwall"}},"queryParam:event":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"event",caseInsensitive:!0}},platform:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.platform"}},"date:dstStart":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.dstStart"}},"queryParam:prod":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"prod",caseInsensitive:!0}},"omniture:articleTitle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"articulo"==_satellite.getVar("pageType")?_satellite.getVar("pageTitle"):""}}},"date:dstEnd":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.dstEnd"}},"queryParam:event_log":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"event_log",caseInsensitive:!0}},"paywall:access":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.access"}},domain:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.domain"}},"date:seconds":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.seconds"}},userName:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.userName"}},siteID:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.siteID"}},"date:month":{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.date.month"}},"Visitor:version copy":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof Visitor&&"undefined"!=typeof Visitor.version?"Visitor "+Visitor.version:"Visitor error"}}},"omniture:getLoadTime":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("pageInstanceID");return e.substr(0,e.indexOf("_")),(((new Date).getTime()-parseInt(e))/1e3).toFixed(2)}}},encoded:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.encoded"}},onsiteSearch:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.onsiteSearch"}},"omniture:fullHour":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("date:hours")+":"+_satellite.getVar("date:minutes")+":"+_satellite.getVar("date:seconds")}}},profileID:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.profileID"}},author:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.author"}},"device:platform":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"device.platform"}},"queryParam:rel":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rel",caseInsensitive:!0}},urlParams:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.urlParams"}},pageTitle:{defaultValue:"",modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.pageTitle"}},"device:userAgent":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"device.userAgent"}},"omniture:registeredUserAMP":{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.registeredUserAMP"}},signwall:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"paywall.signwall"}},brandedContent:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.brandedContent"}},omniture:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{e=window.DTM.tools.omniture.getDL()}catch(t){e={}}return e}}},pageTypology:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.pageTypology"}},registeredUserAMP:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"user.registeredUserAMP"}},facebook:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{e=window.DTM.tools.facebook.getDL()}catch(t){e={}}return e}}},comscore:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{e=window.DTM.tools.comscore.getDL()}catch(t){e={}}return e}}},videoContent:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.videoContent"}},chartbeat:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{e=window.DTM.tools.chartbeat.getDL()}catch(t){e={}}return e}}},"queryParam:bid":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"bid",caseInsensitive:!0}},elpais:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{e=window.DTM.tools.elpais.getDL()}catch(t){e={}}return e}}},liveContent:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.liveContent"}},audioContent:{modulePath:"adobe-contexthub/src/lib/dataElement/dataElement.js",settings:{item:"page.pageInfo.audioContent"}},"omniture:videoContent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0===_satellite.getVar("videoContent")?"1":!1===_satellite.getVar("videoContent")?"0":"not-set"}}},krux:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{e=window.DTM.tools.krux.getDL()}catch(t){e={}}return e}}},"queryParam:mid":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"mid",caseInsensitive:!0}}},extensions:{"adobe-mcid":{displayName:"Experience Cloud ID Service",modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,n,g){"use strict";var r=n("@adobe/reactor-document"),a=n("../codeLibrary/VisitorAPI"),m=n("../../view/utils/timeUnits"),h=function(e){return e.reduce(function(e,t){var n=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=n,e},{})},i=function(e){var t=g.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var n=h(t.variables||[]),r=t.doesOptInApply;r&&("boolean"==typeof r?n.doesOptInApply=r:t.optInCallback&&(n.doesOptInApply=t.optInCallback));var a=t.isOptInStorageEnabled;a&&(n.isOptInStorageEnabled=a);var i=t.optInCookieDomain;i&&(n.optInCookieDomain=i);var o=t.optInStorageExpiry;if(o){var s=t.timeUnit;if(s&&m[s]){var l=o*m[s];n.optInStorageExpiry=l}}else!0===a&&(n.optInStorageExpiry=33696e3);var u=t.previousPermissions;u&&(n.previousPermissions=u);var c=t.preOptInApprovals;if(c)n.preOptInApprovals=c;else{var d=t.preOptInApprovalInput;d&&(n.preOptInApprovals=d)}var f=t.isIabContext;f&&(n.isIabContext=f);var p=e.getInstance(t.orgId,n);return g.logger.info('Created instance using orgId: "'+t.orgId+'"'),g.logger.info("Set variables: "+JSON.stringify(n)),p.getMarketingCloudVisitorID(function(e){g.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),p},o=function(t){return(g.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(t):e.value===t})},s=null;_satellite.getVisitorId=function(){return s},o(r.location.pathname)?g.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):s=i(a),e.exports=s},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,r=this;return function(){r.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(n,e){(e||n&&!W.isObjectEmpty(n))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function f(e,t,n){var r=null==e?void 0:e[t];return void 0===r?n:r}function a(e){for(var t=/^\d+$/,n=0,r=e.length;n<r;n++)if(!t.test(e[n]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var r=parseInt(e[n],10),a=parseInt(t[n],10);if(a<r)return 1;if(r<a)return-1}return 0}function n(e,t){if(e===t)return 0;var n=e.toString().split("."),r=t.toString().split(".");return a(n.concat(r))?(i(n,r),o(n,r)):NaN}function s(e){return e===Object(e)&&0===Object.keys(e).length}function l(e){return"function"==typeof e||e instanceof Array&&e.length}function r(e,t){var n=0<arguments.length&&void 0!==e?arguments[0]:"",r=1<arguments.length&&void 0!==t?arguments[1]:function(){return!0};this.log=fe("log",n,r),this.warn=fe("warn",n,r),this.error=fe("error",n,r)}function j(e,t){var a=(0<arguments.length&&void 0!==e?arguments[0]:{}).cookieName,i=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies;if(!a||!i)return{get:ke,set:ke,remove:ke};var o={remove:function(){i.remove(a)},get:function(){var e=i.get(a),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{};var n=o.get(),r=Object.assign(n,e);i.set(a,JSON.stringify(r),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}};return o}function u(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function c(e,t){function n(e,t){var n=be(e);return n.length?n.every(function(e){return!!t[e]}):ve(t)}function r(){w(T),P(B.COMPLETE),I(_.status,_.permissions),u&&C.set(_.permissions,{optInCookieDomain:c,optInStorageExpiry:d}),E.execute(je)}function a(n){return function(e,t){if(!ye(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return P(B.CHANGED),Object.assign(T,Ce(be(e),n)),t||r(),_}}var i=0<arguments.length&&void 0!==e?arguments[0]:{},o=i.doesOptInApply,s=i.previousPermissions,l=i.preOptInApprovals,u=i.isOptInStorageEnabled,c=i.optInCookieDomain,d=i.optInStorageExpiry,f=i.isIabContext,p=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies,g=Oe(s);Me(g,"Invalid `previousPermissions`!"),Me(l,"Invalid `preOptInApprovals`!");var m,h,b,v,y,C=j({cookieName:"adobeujs-optin"},{cookies:p}),_=this,I=H(_),E=ue(),S=Ee(g),D=Ee(l),A=u?C.get():{},k={},O=(y=A,Se(S)||y&&Se(y)?B.COMPLETE:B.PENDING),M=(m=D,h=S,b=A,v=Ce(le,!o),o?Object.assign({},v,m,h,b):v),T=_e(M),P=function(e){return O=e},w=function(e){return M=e};_.deny=a(!1),_.approve=a(!0),_.denyAll=_.deny.bind(_,le),_.approveAll=_.approve.bind(_,le),_.isApproved=function(e){return n(e,_.permissions)},_.isPreApproved=function(e){return n(e,D)},_.fetchPermissions=function(e,t){var n=1<arguments.length&&void 0!==t&&arguments[1],r=n?_.on(B.COMPLETE,e):ke;return!o||o&&_.isComplete||l?e(_.permissions):n||E.add(je,function(){return e(_.permissions)}),r},_.complete=function(){_.status===B.CHANGED&&r()},_.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(xe);k[e.name]||(k[e.name]=e).onRegister.call(e,_)},_.execute=we(k),_.memoizeContent=function(e){Ae(e)&&C.set(e,{optInCookieDomain:c,optInStorageExpiry:d})},_.getMemoizedContent=function(e){var t=C.get();if(t)return t[e]},Object.defineProperties(_,{permissions:{get:function(){return M}},status:{get:function(){return O}},Categories:{get:function(){return G}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return _.status===B.PENDING}},isComplete:{get:function(){return _.status===B.COMPLETE}},__plugins:{get:function(){return Object.keys(k)}},isIabContext:{get:function(){return f}}})}function d(e,t){function n(){a=null,e.call(e,new u("The call took longer than you wanted!"))}function r(){a&&(clearTimeout(a),e.apply(e,arguments))}if(void 0===t)return e;var a=setTimeout(n,t);return r}function p(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var o;!o;){e=e.parent;try{e.frames.__tcfapiLocator&&(o=e)}catch(e){}if(e===window.top)break}if(o){var s={};return window.__tcfapi=function(e,t,n,r){var a=Math.random()+"",i={__tcfapiCall:{command:e,parameter:r,version:t,callId:a}};s[a]=n,o.postMessage(i,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var n=t.__tcfapiReturn;"function"==typeof s[n.callId]&&(s[n.callId](n.returnValue,n.success),delete s[n.callId])}},!1),window.__tcfapi}me.error("__tcfapi not found")}else me.error("__tcfapi not found")}function g(t,e,n){var r=2<arguments.length&&void 0!==n?arguments[2]:[],a=!0===t.vendor.consents[e],i=r.every(function(e){return!0===t.purpose.consents[e]});return a&&i}function m(){var n=this;n.name="iabPlugin",n.version="0.0.2";var i,o=ue(),s={transparencyAndConsentData:null},l=function(e,t){var n=1<arguments.length&&void 0!==t?arguments[1]:{};return s[e]=n};n.fetchConsentData=function(e){var t=d(e.callback,e.timeout);u({callback:t})},n.isApproved=function(e){var n=e.callback,r=e.category,t=e.timeout;if(s.transparencyAndConsentData)return n(null,g(s.transparencyAndConsentData,ie[r],oe[r]));var a=d(function(e,t){n(e,g(t,ie[r],oe[r]))},t);u({category:r,callback:a})},n.onRegister=function(r){i=r;var t=Object.keys(ie),e=function(e,n){!e&&n&&(t.forEach(function(e){var t=g(n,ie[e],oe[e]);r[t?"approve":"deny"](e,!0)}),r.complete())};n.fetchConsentData({callback:e})};var u=function(e){var t=e.callback;if(s.transparencyAndConsentData)return t(null,s.transparencyAndConsentData);o.add("FETCH_CONSENT_DATA",t),r(function(e,t){if(t){var n=_e(e),r=i.getMemoizedContent("iabConsentHash"),a=ge(n.tcString).toString(32);n.consentString=e.tcString,n.hasConsentChangedSinceLastCmpPull=r!==a,l("transparencyAndConsentData",n),i.memoizeContent({iabConsentHash:a})}o.execute("FETCH_CONSENT_DATA",[null,s.transparencyAndConsentData])})},r=function(e){var t=Pe(ie),n=p();"function"==typeof n&&n("getTCData",2,e,t)}}var Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,r=1;r<arguments.length;++r)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var h,b,v,y,z={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},C=z.STATE_KEYS_MAP,_=function(i){function r(){}function a(n,r){var a=this;return function(){var e=i(0,n),t={};return t[n]=e,a.setStateAndPublish(t),r(e),e}}this.getMarketingCloudVisitorID=function(e){e=e||r;var t=this.findField(C.MCMID,e),n=a.call(this,C.MCMID,e);return void 0!==t?t:n()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}},I=z.MESSAGES,E=z.ASYNC_API_MAP,S=z.SYNC_API_MAP,D=function(){function a(){}function i(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(I.GETSTATE),""}}function e(r){this[E[r]]=function(e){e=e||a;var t=this.findField(r,e),n=i.call(this,r,e);return void 0!==t?t:n()}}function t(e){this[S[e]]=function(){return this.findField(e,a)||{}}}Object.keys(E).forEach(e,this),Object.keys(S).forEach(t,this)},A=z.ASYNC_API_MAP,k=function(){Object.keys(A).forEach(function(t){this[A[t]]=function(e){this.callbackRegistry.add(t,e)}},this)},W=(function(e,t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)};var n=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")&&0<=t.indexOf("Windows NT 6")};t.getIeVersion=function(){return document.documentMode?document.documentMode:n()?7:null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"===q(e)&&!1===Array.isArray(e)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(n,e){return e.reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},Object.create(null))},t.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var r=parseInt(e.d_ottl,10);return isNaN(r)&&(r=7200),{optOut:t,d_ottl:r}},t.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}(y={exports:{}},y.exports),y.exports),O=(W.isObjectEmpty,W.isValueEmpty,W.getIeVersion,W.encodeAndBuildRequest,W.isObject,W.defineGlobalNamespace,W.pluck,W.parseOptOut,W.normalizeBoolean,t),M=z.MESSAGES,T={0:"prefix",1:"orgID",2:"state"},J=function(i,o){this.parse=function(e){try{var n={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(n[T[t]]=2!==t?e:JSON.parse(e))}),n}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var n=i!==t.orgID,r=!o||e.origin!==o,a=-1===Object.keys(M).indexOf(t.prefix);return n||r||a},this.send=function(e,t,n){var r=t+"|"+i;n&&n===Object(n)&&(r+="|"+JSON.stringify(n));try{e.postMessage(r,o)}catch(i){}}},P=z.MESSAGES,w=function(e,t,n,r){function a(e){Object.assign(p,e)}function i(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function s(e){!m&&g&&(m=!0,h.send(r,e))}function l(){a(new _(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),Y.removeEventListener("message",u)}function u(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,Y.clearTimeout(p._handshakeTimeout),Y.removeEventListener("message",u),a(new D(p)),Y.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(P.GETSTATE)}}function c(){g&&postMessage?(Y.addEventListener("message",u),s(P.HANDSHAKE),p._handshakeTimeout=setTimeout(l,250)):l()}function d(){Y.s_c_in||(Y.s_c_il=[],Y.s_c_in=0),p._c="Visitor",p._il=Y.s_c_il,p._in=Y.s_c_in,p._il[p._in]=p,Y.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,g=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"";var m=!(p._instanceType="child"),h=new J(e,g);p.callbackRegistry=O(),p.init=function(){d(),f(),a(new k(p)),c()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=i},x=z.MESSAGES,L=z.ALL_APIS,V=z.ASYNC_API_MAP,R=z.FIELDGROUP_TO_FIELD,K=function(a,r){function i(){var r={};return Object.keys(L).forEach(function(e){var t=L[e],n=a[t]();W.isValueEmpty(n)||(r[e]=n)}),r}function o(){var n=[];return a._loading&&Object.keys(a._loading).forEach(function(e){if(a._loading[e]){var t=R[e];n.push(t)}}),n.length?n:null}function t(n){return function r(){var e=o();if(e){var t=V[e[0]];a[t](r,!0)}else n()}}function n(e,t){var n=i();r.send(e,t,n)}function s(e){u(e),n(e,x.HANDSHAKE)}function l(e){t(function(){n(e,x.PARENTSTATE)})()}function u(t){function e(e){n.call(a,e),r.send(t,x.PARENTSTATE,{CUSTOMERIDS:a.getCustomerIDs()})}var n=a.setCustomerIDs;a.setCustomerIDs=e}return function(e){r.isInvalid(e)||(r.parse(e).prefix===x.HANDSHAKE?s:l)(e.source)}},X=function(r,n){function a(t){return function(e){i[t]=e,++o===s&&n(i)}}var i={},o=0,s=Object.keys(r).length;Object.keys(r).forEach(function(e){var t=r[e];if(t.fn){var n=t.args||[]
;n.unshift(a(e)),t.fn.apply(t.context||null,n)}})},$={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),r=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,r<0?t.length:r))},set:function(e,t,n){var r=f(n,"cookieLifetime"),a=f(n,"expires"),i=f(n,"domain"),o=f(n,"secure"),s=f(n,"sameSite"),l=o?"Secure":"",u=s?"SameSite="+s+";":"";if(a&&"SESSION"!==r&&"NONE"!==r){var c=""!==t?parseInt(r||0,10):-60;if(c)(a=new Date).setTime(a.getTime()+1e3*c);else if(1===a){var d=(a=new Date).getYear();a.setYear(d+2+(d<1900?1900:0))}}else a=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(a?" expires="+a.toGMTString()+";":"")+(i?" domain="+i+";":"")+u+l,this.get(e)===t):0},remove:function(e,t){var n=f(t,"domain");n=n?" domain="+n+";":"";var r=f(t,"secure"),a=f(t,"sameSite"),i=r?"Secure":"",o=a?"SameSite="+a+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n+o+i}},Q=function(e,t){!e&&Y.location&&(e=Y.location.hostname);var n,r=e.split("."),a=t||{};for(n=r.length-2;0<=n;n--)if(a.domain=r.slice(n).join("."),$.set("test","cookie",a))return $.remove("test",a),a.domain;return""},Z={compare:n,isLessThan:function(e,t){return n(e,t)<0},areVersionsDifferent:function(e,t){return 0!==n(e,t)},isGreaterThan:function(e,t){return 0<n(e,t)},isEqual:function(e,t){return 0===n(e,t)}},N=!!Y.postMessage,ee={postMessage:function(e,t,n){var r=1;t&&(N?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},receiveMessage:function(t,n){var e;try{N&&(t&&(e=function(e){if("string"==typeof n&&e.origin!==n||"[object Function]"===Object.prototype.toString.call(n)&&!1===n(e.origin))return!1;t(e)}),Y.addEventListener?Y[t?"addEventListener":"removeEventListener"]("message",e):Y[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},te=function(e){var t,n,r="0123456789",a="",i="",o=8,s=10,l=10;if(1==e){for(r+="ABCDEF",t=0;t<16;t++)n=Math.floor(Math.random()*o),a+=r.substring(n,n+1),n=Math.floor(Math.random()*o),i+=r.substring(n,n+1),o=16;return a+"-"+i}for(t=0;t<19;t++)n=Math.floor(Math.random()*s),a+=r.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&n<2?s=10:2<t&&(s=10),n=Math.floor(Math.random()*l),i+=r.substring(n,n+1),0===t&&9==n?l=3:(1==t||2==t)&&10!=l&&n<2?l=10:2<t&&(l=10);return a+i},ne=function(r){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(Y.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new Y[this.corsMetadata.corsType]},fireCORS:function(i,e){function t(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void o.handleCORSError(i,null,"Response is not JSON")}catch(e){return void o.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var n=i.callback,r=Y,a=0;a<n.length;a++)r=r[n[a]];r(t)}catch(e){o.handleCORSError(i,e,"Error forming callback function")}}var o=this;e&&(i.loadErrorHandler=e);try{var n=this.getCORSInstance();n.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=r.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)}),n.onerror=function(e){o.handleCORSError(i,e,"onerror")},n.ontimeout=function(e){o.handleCORSError(i,e,"ontimeout")},n.send(),r._log.requests.push(i.corsUrl)}catch(r){this.handleCORSError(i,r,"try-catch")}},handleCORSError:function(e,t,n){r.CORSErrors.push({corsData:e,error:t,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t},re={POST_MESSAGE_ENABLED:!!Y.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},ae=function(g,t){var a=Y.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",n="?d_nsid="+g.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),g.loadSSL&&(t=g.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+g.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+g.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof g.dpIframeSrc&&g.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(g._subdomain||this.subdomain||(new Date).getTime())+"_"+g.idSyncContainerID,this.iframeHost=this.getIframeHost(g.dpIframeSrc),this.url=g.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:re.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(g.idSyncDisableSyncs||g.disableIdSyncs||g.idSyncDisable3rdPartySyncing||g.disableThirdPartyCookies||g.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||g._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||g._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(r=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=n.id,r.name=n.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=n.url,n.newIframeCreated=!0,t(),a.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,r=a.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){r.jsonForComparison.push(e),r.jsonWaiting.push(e),r.processSyncOnPage(e)}var n,r=this;if(e===Object(e)&&e.ibs)if(n=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var a,i,o,s=!1;for(a=0,i=this.jsonForComparison.length;a<i;a++)if(o=this.jsonForComparison[a],n===JSON.stringify(o.ibs||[])){s=!0;break}s?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!re.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l),this.requestToProcess()}g.idSyncDisableSyncs||g.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=re.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var n=g._getField("MCAAMLH"),r=e.d_region||e.dcs_region;return n?r&&(g._setFieldExpire("MCAAMLH",t),g._setField("MCAAMLH",r),parseInt(n,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,g._setField("MCSYNCSOP",""),g._setField("MCSYNCS",""),n=r)):(n=r)&&(g._setFieldExpire("MCAAMLH",t),g._setField("MCAAMLH",n)),n||(n=""),n},processSyncOnPage:function(e){var t,n,r,a;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(r=0;r<n;r++)(a=t[r]).syncOnPage&&this.checkFirstPartyCookie(a,"","syncOnPage")},process:function(e){var t,n,r,a,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,r=0;r<n;r++)a=t[r],i=[o("ibs"),o(a.id||""),o(a.tag||""),W.encodeAndBuildRequest(a.url||[],","),o(a.ttl||""),"","",a.fireURLSync?"true":"false"],a.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):a.fireURLSync&&this.checkFirstPartyCookie(a,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,n){var r="syncOnPage"===n,a=r?"MCSYNCSOP":"MCSYNCS";g._readVisitor();var i,o,s=g._getField(a),l=!1,u=!1,c=Math.ceil((new Date).getTime()/re.MILLIS_PER_DAY);s?(i=s.split("*"),l=(o=this.pruneSyncData(i,e.id,c)).dataPresent,u=o.dataValid,l&&u||this.fireSync(r,e,t,i,a,c)):(i=[],this.fireSync(r,e,t,i,a,c))},pruneSyncData:function(e,t,n){var r,a,i,o=!1,s=!1;for(a=0;a<e.length;a++)r=e[a],i=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(o=!0,n<i?s=!0:(e.splice(a,1),a--)):i<=n&&(e.splice(a,1),a--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,n,r,c,a){var d=this;if(e){if("img"===t.tag){var i,o,s,l,u=t.url,f=g.loadSSL?"https:":"http:";for(i=0,o=u.length;i<o;i++){s=u[i],l=/^\/\//.test(s);var p=new Image;p.addEventListener("load",function(o,s,l,u){return function(){d.onPagePixels[o]=null,g._readVisitor();var e,t,n,r,a=g._getField(c),i=[];if(a)for(t=0,n=(e=a.split("*")).length;t<n;t++)(r=e[t]).match("^"+s.id+"-")||i.push(r);d.setSyncTrackingData(i,s,l,u)}}(this.onPagePixels.length,t,c,a)),p.src=(l?f:"")+s,this.onPagePixels.push(p)}}}else this.addMessage(n),this.setSyncTrackingData(r,t,c,a)},addMessage:function(e){var t=encodeURIComponent(g._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((re.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,n,r){e.push(t.id+"-"+(r+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),g._setField(n,e.join("*"))},sendMessages:function(){var e,t=this,n="",r=encodeURIComponent;this.regionChanged&&(n=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?re.POST_MESSAGE_ENABLED?(e=n+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ee.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof g._subdomain&&g._subdomain.length?this.subdomain=g._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(g.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof g.idSyncIDCallResult?g.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof g.idSyncAfterIDCallResult&&g.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return g._forceSyncIDCall||!e||t-e>re.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},F={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},U={getConfigNames:function(){return Object.keys(F)},getConfigs:function(){return F},normalizeConfig:function(e,t){return F[e]&&"boolean"===F[e].type?"function"!=typeof t?t:t():t}},H=function(e){var a={};return e.on=function(e,t,n){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");a.hasOwnProperty(e)||(a[e]=[]);var r=a[e].push({callback:t,context:n})-1;return function(){a[e].splice(r,1),a[e].length||delete a[e]}},e.off=function(e,t){a.hasOwnProperty(e)&&(a[e]=a[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(a.hasOwnProperty(e)){var t=[].slice.call(arguments,1);a[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},B={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},G={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ie=(e(h={},G.AAM,565),e(h,G.ECID,565),h),oe=(e(b={},G.AAM,[1,10]),e(b,G.ECID,[1,10]),b),se=["videoaa","iabConsentHash"],le=(v=G,Object.keys(v).map(function(e){return v[e]})),ue=function(){var r={};return r.callbacks=Object.create(null),r.add=function(e,t){if(!l(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");r.callbacks[e]=r.callbacks[e]||[];var n=r.callbacks[e].push(t)-1;return function(){r.callbacks[e].splice(n,1)}},r.execute=function(e,t){if(r.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;r.callbacks[e].length;){var n=r.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete r.callbacks[e]}catch(r){}}},r.executeAll=function(n,e){(e||n&&!s(n))&&Object.keys(r.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";r.execute(e,t)},r)},r.hasCallbacks=function(){return Boolean(Object.keys(r.callbacks).length)},r},ce=function(){},de=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},fe=function(r,a,e){return e()?function(){if(de(r)){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console[r].apply(console,[a].concat(t))}}:ce},pe=r,ge=function(){for(var a=[],e=0;e<256;e++){for(var t=e,n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;a.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t||(t=0),t^=-1;for(var n=0;n<e.length;n++){var r=255&(t^e.charCodeAt(n));t=t>>>8^a[r]}return(t^=-1)>>>0}}(),me=new pe("[ADOBE OPT-IN]"),he=function(e,t){return q(e)===t},be=function(e,t){return e instanceof Array?e:he(e,"string")?[e]:t||[]},ve=function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})},ye=function(e,t){var n=1<arguments.length&&void 0!==t&&arguments[1];return!(!e||Ie(e))&&be(e).every(function(e){return-1<le.indexOf(e)||n&&-1<se.indexOf(e)})},Ce=function(e,n){return e.reduce(function(e,t){return e[t]=n,e},{})},_e=function(e){return JSON.parse(JSON.stringify(e))},Ie=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Ee=function(e){if(Ae(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Se=function(e){return void 0===e||(Ae(e)?ye(Object.keys(e),!0):De(e))},De=function(e){try{var t=JSON.parse(e);return!!e&&he(e,"string")&&ye(Object.keys(t),!0)}catch(e){return!1}},Ae=function(e){return null!==e&&he(e,"object")&&!1===Array.isArray(e)},ke=function(){},Oe=function(e){return he(e,"function")?e():e},Me=function(e,t){Se(e)||me.error("".concat(t))},Te=function(t){return Object.keys(t).map(function(e){return t[e]})},Pe=function(e){return Te(e).filter(function(e,t,n){return n.indexOf(e)===t})},we=function(d){return function(e){var t=0<arguments.length&&void 0!==e?arguments[0]:{},n=t.command,r=t.params,a=void 0===r?{}:r,i=t.callback,o=void 0===i?ke:i;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),l=d[s[0]],u=s[1];if(!l||"function"!=typeof l[u])throw new Error("Make sure the plugin and API name exist.");var c=Object.assign(a,{callback:o});l[u].call(l,c)}catch(d){me.error("[execute] Something went wrong: "+d.message)}}};u.prototype=Object.create(Error.prototype),u.prototype.constructor=u;var je="fetchPermissions",xe="[OptIn#registerPlugin] Plugin is invalid.";c.Categories=G,c.TimeoutError=u;var Le=Object.freeze({OptIn:c,IabPlugin:m}),Ve=function(d,f){d.publishDestinations=function(e,t,n){var r=t,a=n;try{a="function"==typeof a?a:e.callback}catch(d){a=function(){}}var i=f;if(i.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void a({error:"subdomain is not a populated string."});if(!(r instanceof Array&&r.length))return void a({error:"messages is not a populated array."});var o=!1;if(r.forEach(function(e){"string"==typeof e&&e.length&&(i.addMessage(e),o=!0)}),!o)return void a({error:"None of the messages are populated strings."})}else{if(!W.isObject(e))return void a({error:"Invalid parameters passed."});var s=e;if("string"!=typeof(e=s.subdomain)||!e.length)return void a({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void a({error:"config.urlDestinations is not a populated array."});var u=[];l.forEach(function(e){W.isObject(e)&&(e.hideReferrer?e.message&&i.addMessage(e.message):u.push(e))}),function c(){u.length&&setTimeout(function(){var e=new Image,t=u.shift();e.src=t.url,i.onPageDestinationsFired.push(t),c()},100)}()}i.iframe?(a({message:"The destination publishing iframe is already attached and loaded."}),i.requestToProcess()):!d.subdomain&&d._getField("MCMID")?(i.subdomain=e,i.doAttachIframe=!0,i.url=i.getUrl(),i.readyToAttachIframe()?(i.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),i.attachIframe()):a({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):i.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else a({error:"The destination publishing iframe is disabled in the Visitor library."})}},Re=function q(e){function t(e,t){return e>>>t|e<<32-t}for(var n,r,a=Math.pow,i=a(2,32),o="",s=[],l=8*e.length,u=q.h=q.h||[],c=q.k=q.k||[],d=c.length,f={},p=2;d<64;p++)if(!f[p]){for(n=0;n<313;n+=p)f[n]=p;u[d]=a(p,.5)*i|0,c[d++]=a(p,1/3)*i|0}for(e+="\x80";e.length%64-56;)e+="\0";for(n=0;n<e.length;n++){if((r=e.charCodeAt(n))>>8)return;s[n>>2]|=r<<(3-n)%4*8}for(s[s.length]=l/i|0,s[s.length]=l,r=0;r<s.length;){var g=s.slice(r,r+=16),m=u;for(u=u.slice(0,8),n=0;n<64;n++){var h=g[n-15],b=g[n-2],v=u[0],y=u[4],C=u[7]+(t(y,6)^t(y,11)^t(y,25))+(y&u[5]^~y&u[6])+c[n]+(g[n]=n<16?g[n]:g[n-16]+(t(h,7)^t(h,18)^h>>>3)+g[n-7]+(t(b,17)^t(b,19)^b>>>10)|0);(u=[C+((t(v,2)^t(v,13)^t(v,22))+(v&u[1]^v&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+C|0}for(n=0;n<8;n++)u[n]=u[n]+m[n]|0}for(n=0;n<8;n++)for(r=3;r+1;r--){var _=u[n]>>8*r&255;o+=(_<16?0:"")+_.toString(16)}return o},Ne=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Re(e)),e},Fe=function(e){return String(e).trim().toLowerCase()},Ue=Le.OptIn;W.defineGlobalNamespace(),window.adobe.OptInCategories=Ue.Categories;var He=function(r,n,e){function f(){b._customerIDsHashChanged=!1}function t(e){var r=e;return function(e){var t=e||E.location.href;try{var n=b._extractParamFromUri(t,r);if(n)return U.parsePipeDelimetedKeyValues(n)}catch(e){}}}function a(e){function t(e,t,n){e&&e.match(re.VALID_VISITOR_ID_REGEX)&&(n===O&&(I=!0),t(e))}t(e[O],b.setMarketingCloudVisitorID,O),b._setFieldExpire(j,-1),t(e[P],b.setAnalyticsVisitorID)}function i(e){e=e||{},b._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",b._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},b._supplementalDataIDLast=e.supplementalDataIDLast||"",b._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function a(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}function t(e,t){var n=t[0],r=t[1];return null!=r&&r!==x&&(e=a(n,r,e)),e}var n,r=e.reduce(t,"");return(n=(n=r)?n+="|":n)+"TS="+U.getTimestampInSeconds()}function s(e){var t=e.minutesToLive,n="";return(b.idSyncDisableSyncs||b.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function l(){return!(!b.configs.doesOptInApply||v.optIn.isComplete&&d())}function d(){return b.configs.doesOptInApply&&b.configs.isIabContext?v.optIn.isApproved(v.optIn.Categories.ECID)&&_:v.optIn.isApproved(v.optIn.Categories.ECID)}function u(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",r=b[t];b[t]=function(e){return d()&&b.isAllowed()?r.apply(b,arguments):("function"==typeof e&&b._callCallback(e,[n]),n)}})}function c(){var e=b._getAudienceManagerURLData(),t=e.url;return b._loadData(k,t,null,e)}function p(e,t){if(_=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(y=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),c(),h()}function g(e,t){if(_=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(y=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),b.init(),h()}function m(){v.optIn.isComplete&&(v.optIn.isApproved(v.optIn.Categories.ECID)?b.configs.isIabContext?v.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(b.init(),h()):b.configs.isIabContext?v.optIn.execute({command:"iabPlugin.fetchConsentData",callback:p}):(u(),h()))}function h(){v.optIn.off("complete",m)}if(!e||e.split("").reverse().join("")!==r)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var b=this,v=window.adobe,y="",C=0,_=!1,I=!1;b.version="5.2.0";var E=Y,S=E.Visitor;S.version=b.version,S.AuthState=z.AUTH_STATE,S.OptOut=z.OPT_OUT,E.s_c_in||(E.s_c_il=[],E.s_c_in=0),b._c="Visitor",b._il=E.s_c_il,b._in=E.s_c_in,b._il[b._in]=b,E.s_c_in++,b._instanceType="regular",b._log={requests:[]},b.marketingCloudOrgID=r,b.cookieName="AMCV_"+r,b.sessionCookieName="AMCVS_"+r;var D={};n&&n.secureCookie&&n.sameSiteCookie&&(D={sameSite:n.sameSiteCookie,secure:n.secureCookie}),b.cookieDomain=b.useLocalStorage?"":Q(null,D),b.loadSSL=!0,b.loadTimeout=3e4,b.CORSErrors=[],b.marketingCloudServer=b.audienceManagerServer="dpm.demdex.net",b.sdidParamExpiry=30;var A=null,k="MC",O="MCMID",M="MCIDTS",T="A",P="MCAID",w="AAM",j="MCAAMB",x="NONE",L=function(e){return!Object.prototype[e]},V=ne(b);b.FIELDS=z.FIELDS,b.cookieRead=function(e){return b.useLocalStorage?e===b.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):$.get(e)},b.cookieWrite=function(e,t,n){var r=""+t;if(b.useLocalStorage)return e===b.sessionCookieName?sessionStorage.setItem(e,r):localStorage.setItem(e,r);var a=b.cookieLifetime?(""+b.cookieLifetime).toUpperCase():"",i={expires:n,domain:b.cookieDomain,cookieLifetime:a};return b.configs&&b.configs.secureCookie&&"https:"===location.protocol&&(i.secure=!0),b.configs&&b.configs.sameSiteCookie&&"https:"===location.protocol&&(i.sameSite=z.SAME_SITE_VALUES[b.configs.sameSiteCookie.toUpperCase()]||"Lax"),$.set(e,r,i)},b.removeCookie=function(e){if(b.useLocalStorage)return e===b.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:b.cookieDomain};return b.configs&&b.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),b.configs&&b.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=z.SAME_SITE_VALUES[b.configs.sameSiteCookie.toUpperCase()]||"Lax"),$.remove(e,t)},b.resetState=function(e){e?b._mergeServerState(e):i()},b._isAllowedDone=!1,b._isAllowedFlag=!1,b.isAllowed=function(){return b._isAllowedDone||(b._isAllowedDone=!0,(b.cookieRead(b.cookieName)||b.cookieWrite(b.cookieName,"T",1))&&(b._isAllowedFlag=!0)),"T"===b.cookieRead(b.cookieName)&&b.removeCookie(b.cookieName),b._isAllowedFlag},b.setMarketingCloudVisitorID=function(e){b._setMarketingCloudFields(e)},b._use1stPartyMarketingCloudServer=!1,b.getMarketingCloudVisitorID=function(e,t){b.marketingCloudServer&&b.marketingCloudServer.indexOf(".demdex.net")<0&&(b._use1stPartyMarketingCloudServer=!0);var n=b._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return b._getRemoteField(O,r,e,t,n)};var R=function(t,e){var n={};b.getMarketingCloudVisitorID(function(){e.forEach(function(e){n[e]=b._getField(e,!0)}),-1!==e.indexOf("MCOPTOUT")?b.isOptedOut(function(e){n.MCOPTOUT=e,t(n)},null,!0):t(n)},!0)};b.getVisitorValues=function(e,t){var n={MCMID:{fn:b.getMarketingCloudVisitorID,args:[!0],context:b},MCOPTOUT:{fn:b.isOptedOut,args:[void 0,!0],context:b},MCAID:{fn:b.getAnalyticsVisitorID,args:[!0],context:b},MCAAMLH:{fn:b.getAudienceManagerLocationHint,args:[!0],context:b},MCAAMB:{fn:b.getAudienceManagerBlob,args:[!0],context:b}},r=t&&t.length?W.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?R(e,t):X(r,e)},b._currentCustomerIDs={},b._customerIDsHashChanged=!1,b._newCustomerIDsHash="",b.setCustomerIDs=function(e,t){if(!b.isOptedOut()&&e){if(!W.isObject(e)||W.isObjectEmpty(e))return!1;var n,r,a,i;for(n in b._readVisitor(),e)if(L(n)&&(b._currentCustomerIDs.dataSources=b._currentCustomerIDs.dataSources||{},t=(r=e[n]).hasOwnProperty("hashType")?r.hashType:t,r))if("object"===q(r)){var o={};if(r.id){if(t){if(!(i=Ne(Fe(r.id),t)))return;r.id=i,o.hashType=t}o.id=r.id}null!=r.authState&&(o.authState=r.authState),b._currentCustomerIDs.dataSources[n]=o}else if(t){if(!(i=Ne(Fe(r),t)))return;b._currentCustomerIDs.dataSources[n]={id:i,hashType:t}}else b._currentCustomerIDs.dataSources[n]={id:r};var s=b.getCustomerIDs(!0),l=b._getField("MCCIDH"),u="";for(a in l||(l=0),s){var c=s[a];if(!W.isObjectEmpty(c))for(n in c)L(n)&&(u+=(u?"|":"")+n+"|"+((r=c[n]).id?r.id:"")+(r.authState?r.authState:""))}b._newCustomerIDsHash=String(b._hash(u)),b._newCustomerIDsHash!==l&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(f))}},b.syncIdentity=function(e,t){if(!b.isOptedOut()&&e){if(!W.isObject(e)||W.isObjectEmpty(e))return!1;var n,r,a,i,o;for(n in b._readVisitor(),e)if(L(n)&&(b._currentCustomerIDs.nameSpaces=b._currentCustomerIDs.nameSpaces||{},t=(r=e[n]).hasOwnProperty("hashType")?r.hashType:t,r&&"object"===q(r))){var s={};if(r.id){if(t){if(!(a=Ne(Fe(r.id),t)))return;r.id=a,s.hashType=t}s.id=r.id}null!=r.authState&&(s.authState=r.authState),r.dataSource&&(b._currentCustomerIDs.dataSources=b._currentCustomerIDs.dataSources||{},i=r.dataSource,b._currentCustomerIDs.dataSources[i]=s),b._currentCustomerIDs.nameSpaces[n]=s}var l=b.getCustomerIDs(!0),u=b._getField("MCCIDH"),c="";for(o in u||(u="0"),l){var d=l[o];if(!W.isObjectEmpty(d))for(n in d)L(n)&&(c+=(c?"|":"")+n+"|"+((r=d[n]).id?r.id:"")+(r.authState?r.authState:""))}b._newCustomerIDsHash=String(b._hash(c)),b._newCustomerIDsHash!==u&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(f))}},b.getCustomerIDs=function(e){b._readVisitor();var t,n,r={dataSources:{},nameSpaces:{}},a=b._currentCustomerIDs.dataSources;for(t in a)L(t)&&(n=a[t]).id&&(r.dataSources[t]||(r.dataSources[t]={}),r.dataSources[t].id=n.id,null!=n.authState?r.dataSources[t].authState=n.authState:r.dataSources[t].authState=S.AuthState.UNKNOWN,n.hashType&&(r.dataSources[t].hashType=n.hashType));var i=b._currentCustomerIDs.nameSpaces;for(t in i)L(t)&&(n=i[t]).id&&(r.nameSpaces[t]||(r.nameSpaces[t]={}),r.nameSpaces[t].id=n.id,null!=n.authState?r.nameSpaces[t].authState=n.authState:r.nameSpaces[t].authState=S.AuthState.UNKNOWN,n.hashType&&(r.nameSpaces[t].hashType=n.hashType));return e?r:r.dataSources},b.setAnalyticsVisitorID=function(e){b._setAnalyticsFields(e)},b.getAnalyticsVisitorID=function(e,t,n){if(!U.isTrackingServerPopulated()&&!n)return b._callCallback(e,[""]),"";var r="";if(n||(r=b.getMarketingCloudVisitorID(function(){b.getAnalyticsVisitorID(e,!0)})),r||n){var a=n?b.marketingCloudServer:b.trackingServer,i="";b.loadSSL&&(n?b.marketingCloudServerSecure&&(a=b.marketingCloudServerSecure):b.trackingServerSecure&&(a=b.trackingServerSecure));var o={};if(a){var s="http"+(b.loadSSL?"s":"")+"://"+a+"/id",l="d_visid_ver="+b.version+"&mcorgid="+encodeURIComponent(b.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":""),u=["s_c_il",b._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];i=s+"?"+l+"&callback=s_c_il%5B"+b._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=u}return o.url=i,b._getRemoteField(n?O:P,i,e,t,o)}return""},b.getAudienceManagerLocationHint=function(e,t){if(b.getMarketingCloudVisitorID(function(){b.getAudienceManagerLocationHint(e,!0)})){var n=b._getField(P);if(!n&&U.isTrackingServerPopulated()&&(n=b.getAnalyticsVisitorID(function(){b.getAudienceManagerLocationHint(e,!0)})),n||!U.isTrackingServerPopulated()){var r=b._getAudienceManagerURLData(),a=r.url;return b._getRemoteField("MCAAMLH",a,e,t,r)}}return""},b.getLocationHint=b.getAudienceManagerLocationHint,b.getAudienceManagerBlob=function(e,t){if(b.getMarketingCloudVisitorID(function(){b.getAudienceManagerBlob(e,!0)})){var n=b._getField(P);if(!n&&U.isTrackingServerPopulated()&&(n=b.getAnalyticsVisitorID(function(){b.getAudienceManagerBlob(e,!0)})),n||!U.isTrackingServerPopulated()){var r=b._getAudienceManagerURLData(),a=r.url;return b._customerIDsHashChanged&&b._setFieldExpire(j,-1),b._getRemoteField(j,a,e,t,r)}}return""},b._supplementalDataIDCurrent="",b._supplementalDataIDCurrentConsumed={},b._supplementalDataIDLast="",b._supplementalDataIDLastConsumed={};var N=!(b.getSupplementalDataID=function(e,t){b._supplementalDataIDCurrent||t||(b._supplementalDataIDCurrent=b._generateID(1));var n=b._supplementalDataIDCurrent;return b._supplementalDataIDLast&&!b._supplementalDataIDLastConsumed[e]?(n=b._supplementalDataIDLast,b._supplementalDataIDLastConsumed[e]=!0):n&&(b._supplementalDataIDCurrentConsumed[e]&&(b._supplementalDataIDLast=b._supplementalDataIDCurrent,b._supplementalDataIDLastConsumed=b._supplementalDataIDCurrentConsumed,b._supplementalDataIDCurrent=n=t?"":b._generateID(1),b._supplementalDataIDCurrentConsumed={}),n&&(b._supplementalDataIDCurrentConsumed[e]=!0)),n});b._liberatedOptOut=null,b.getOptOut=function(e,t){var n=b._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;if(d())return b._getRemoteField("MCOPTOUT",r,e,t,n);if(b._registerCallback("liberatedOptOut",e),null!==b._liberatedOptOut)return b._callAllCallbacks("liberatedOptOut",[
b._liberatedOptOut]),N=!1,b._liberatedOptOut;if(N)return null;N=!0;var a="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[a],Y[a]=function(e){if(e===Object(e)){var t,n,r=W.parseOptOut(e,t,x);t=r.optOut,n=1e3*r.d_ottl,b._liberatedOptOut=t,setTimeout(function(){b._liberatedOptOut=null},n)}b._callAllCallbacks("liberatedOptOut",[t]),N=!1},V.fireCORS(n),null};var F={subscribed:(b.isOptedOut=function(n,r,e){r||(r=S.OptOut.GLOBAL);var t=b.getOptOut(function(e){var t=e===S.OptOut.GLOBAL||0<=e.indexOf(r);b._callCallback(n,[t])},e);return t?t===S.OptOut.GLOBAL||0<=t.indexOf(r):null},!1),callbacks:[]};b.onReceiveEcid=function(e){if(d())return b.getMarketingCloudVisitorID(e,!0);F.subscribed=!0,e&&"function"==typeof e&&F.callbacks.push(e)},b._fields=null,b._fieldsExpired=null,b._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},b._generateID=te,b._generateLocalMID=function(){var e=b._generateID(0);return G.isClientSideMarketingCloudVisitorID=!0,e},b._callbackList=null,b._callCallback=function(e,t){try{"function"==typeof e?e.apply(E,t):e[1].apply(e[0],t)}catch(e){}},b._registerCallback=function(e,t){t&&(null==b._callbackList&&(b._callbackList={}),null==b._callbackList[e]&&(b._callbackList[e]=[]),b._callbackList[e].push(t))},b._callAllCallbacks=function(e,t){if(null!=b._callbackList){var n=b._callbackList[e];if(n)for(;0<n.length;)b._callCallback(n.shift(),t)}},b._addQuerystringParam=function(e,t,n,r){var a=encodeURIComponent(t)+"="+encodeURIComponent(n),i=U.parseHash(e),o=U.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+a+i;var s=o.split("?"),l=s[0]+"?",u=s[1];return l+U.addQueryParamAtLocation(u,a,r)+i},b._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},b._parseAdobeMcFromUrl=t(re.ADOBE_MC),b._parseAdobeMcSdidFromUrl=t(re.ADOBE_MC_SDID),b._attemptToPopulateSdidFromUrl=function(e){var t=b._parseAdobeMcSdidFromUrl(e),n=1e9;t&&t.TS&&(n=U.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===r&&n<b.sdidParamExpiry&&(b._supplementalDataIDCurrent=t.SDID,b._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},b._attemptToPopulateIdsFromUrl=function(){var e=b._parseAdobeMcFromUrl();if(e&&e.TS){var t=U.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>re.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==r)return;a(e)}},b._mergeServerState=function(e){if(e)try{if(r=e,(e=U.isObject(r)?r:JSON.parse(r))[b.marketingCloudOrgID]){var t=e[b.marketingCloudOrgID];n=t.customerIDs,U.isObject(n)&&b.setCustomerIDs(n),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var n,r},b._timeout=null,b._loadData=function(e,t,n,r){t=b._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=b._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=b._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),G.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===V.corsMetadata.corsType&&V.fireCORS(r,n,e)},b._clearTimeout=function(e){null!=b._timeout&&b._timeout[e]&&(clearTimeout(b._timeout[e]),b._timeout[e]=0)},b._settingsDigest=0,b._getSettingsDigest=function(){if(!b._settingsDigest){var e=b.version;b.audienceManagerServer&&(e+="|"+b.audienceManagerServer),b.audienceManagerServerSecure&&(e+="|"+b.audienceManagerServerSecure),b._settingsDigest=b._hash(e)}return b._settingsDigest},b._readVisitorDone=!1,b._readVisitor=function(){if(!b._readVisitorDone){b._readVisitorDone=!0;var e,t,n,r,a,i,o=b._getSettingsDigest(),s=!1,l=b.cookieRead(b.cookieName),u=new Date;if(l||I||b.discardTrackingServerECID||(l=b.cookieRead(re.FIRST_PARTY_SERVER_COOKIE)),null==b._fields&&(b._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)n=(t=l[e].split("-"))[0],r=l[e+1],1<t.length?(a=parseInt(t[1],10),i=0<t[1].indexOf("s")):(a=0,i=!1),s&&("MCCIDH"===n&&(r=""),0<a&&(a=u.getTime()/1e3-60)),n&&r&&(b._setField(n,r,1),0<a&&(b._fields["expire"+n]=a+(i?"s":""),(u.getTime()>=1e3*a||i&&!b.cookieRead(b.sessionCookieName))&&(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[n]=!0)));!b._getField(P)&&U.isTrackingServerPopulated()&&(l=b.cookieRead("s_vi"))&&1<(l=l.split("|")).length&&0<=l[0].indexOf("v1")&&(0<=(e=(r=l[1]).indexOf("["))&&(r=r.substring(0,e)),r&&r.match(re.VALID_VISITOR_ID_REGEX)&&b._setField(P,r))}},b._appendVersionTo=function(e){var t="vVersion|"+b.version,n=e?b._getCookieVersion(e):null;return n?Z.areVersionsDifferent(n,b.version)&&(e=e.replace(re.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},b._writeVisitor=function(){var e,t,n=b._getSettingsDigest();for(e in b._fields)L(e)&&b._fields[e]&&"expire"!==e.substring(0,6)&&(t=b._fields[e],n+=(n?"|":"")+e+(b._fields["expire"+e]?"-"+b._fields["expire"+e]:"")+"|"+t);n=b._appendVersionTo(n),b.cookieWrite(b.cookieName,n,1)},b._getField=function(e,t){return null==b._fields||!t&&b._fieldsExpired&&b._fieldsExpired[e]?null:b._fields[e]},b._setField=function(e,t,n){null==b._fields&&(b._fields={}),b._fields[e]=t,n||b._writeVisitor()},b._getFieldList=function(e,t){var n=b._getField(e,t);return n?n.split("*"):null},b._setFieldList=function(e,t,n){b._setField(e,t?t.join("*"):"",n)},b._getFieldMap=function(e,t){var n=b._getFieldList(e,t);if(n){var r,a={};for(r=0;r<n.length;r+=2)a[n[r]]=n[r+1];return a}return null},b._setFieldMap=function(e,t,n){var r,a=null;if(t)for(r in a=[],t)L(r)&&(a.push(r),a.push(t[r]));b._setFieldList(e,a,n)},b._setFieldExpire=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),null==b._fields&&(b._fields={}),b._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),t<0?(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[e]=!0):b._fieldsExpired&&(b._fieldsExpired[e]=!1),n&&(b.cookieRead(b.sessionCookieName)||b.cookieWrite(b.sessionCookieName,"1"))},b._findVisitorID=function(e){return e&&("object"===q(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=x),e&&(e===x||e.match(re.VALID_VISITOR_ID_REGEX))||(e="")),e},b._setFields=function(e,t){if(b._clearTimeout(e),null!=b._loading&&(b._loading[e]=!1),G.fieldGroupObj[e]&&G.setState(e,!1),e===k){!0!==G.isClientSideMarketingCloudVisitorID&&(G.isClientSideMarketingCloudVisitorID=!1);var n=b._getField(O);if(!n||b.overwriteCrossDomainMCIDAndAID){if(!(n="object"===q(t)&&t.mid?t.mid:b._findVisitorID(t))){if(b._use1stPartyMarketingCloudServer&&!b.tried1stPartyMarketingCloudServer)return b.tried1stPartyMarketingCloudServer=!0,void b.getAnalyticsVisitorID(null,!1,!0);n=b._generateLocalMID()}b._setField(O,n)}n&&n!==x||(n=""),"object"===q(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&b._setFields(w,t),b._use1stPartyMarketingCloudServer&&t.mid&&b._setFields(T,{id:t.id})),b._callAllCallbacks(O,[n])}if(e===w&&"object"===q(t)){var r=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(r=parseInt(t.id_sync_ttl,10));var a=H.getRegionAndCheckIfChanged(t,r);b._callAllCallbacks("MCAAMLH",[a]);var i=b._getField(j);(t.d_blob||t.blob)&&((i=t.d_blob)||(i=t.blob),b._setFieldExpire(j,r),b._setField(j,i)),i||(i=""),b._callAllCallbacks(j,[i]),!t.error_msg&&b._newCustomerIDsHash&&b._setField("MCCIDH",b._newCustomerIDsHash)}if(e===T){var o=b._getField(P);o&&!b.overwriteCrossDomainMCIDAndAID||((o=b._findVisitorID(t))?o!==x&&b._setFieldExpire(j,-1):o=x,b._setField(P,o)),o&&o!==x||(o=""),b._callAllCallbacks(P,[o])}if(b.idSyncDisableSyncs||b.disableIdSyncs)H.idCallNotProcesssed=!0;else{H.idCallNotProcesssed=!1;var s={};s.ibs=t.ibs,s.subdomain=t.subdomain,H.processIDCallData(s)}if(t===Object(t)){var l,u;d()&&b.isAllowed()&&(l=b._getField("MCOPTOUT"));var c=W.parseOptOut(t,l,x);l=c.optOut,u=c.d_ottl,b._setFieldExpire("MCOPTOUT",u,!0),b._setField("MCOPTOUT",l),b._callAllCallbacks("MCOPTOUT",[l])}},b._loading=null,b._getRemoteField=function(n,e,t,r,a){var i,o="",s=U.isFirstPartyAnalyticsVisitorIDCall(n),l={MCAAMLH:!0,MCAAMB:!0};if(d()&&b.isAllowed())if(b._readVisitor(),!(!(o=b._getField(n,!0===l[n]))||b._fieldsExpired&&b._fieldsExpired[n])||b.disableThirdPartyCalls&&!s)o||(n===O?(b._registerCallback(n,t),o=b._generateLocalMID(),b.setMarketingCloudVisitorID(o)):n===P?(b._registerCallback(n,t),o="",b.setAnalyticsVisitorID(o)):r=!(o=""));else if(n===O||"MCOPTOUT"===n?i=k:"MCAAMLH"===n||n===j?i=w:n===P&&(i=T),i)return!e||null!=b._loading&&b._loading[i]||(null==b._loading&&(b._loading={}),b._loading[i]=!0,i===w&&(C=0),b._loadData(i,e,function(e){if(!b._getField(n)){e&&G.setState(i,!0);var t="";n===O?t=b._generateLocalMID():i===w&&(t={error_msg:"timeout"}),b._setFields(i,t)}},a)),b._registerCallback(n,t),o||(e||b._setFields(i,{id:x}),"");return n!==O&&n!==P||o!==x||(r=!(o="")),t&&r&&b._callCallback(t,[o]),n===O&&F.subscribed&&(F.callbacks&&F.callbacks.length&&F.callbacks.forEach(function(e){b._callCallback(e,[o])}),F.subscribed=!1,F.callbacks.length=0),o},b._setMarketingCloudFields=function(e){b._readVisitor(),b._setFields(k,e)},b._mapCustomerIDs=function(e){b.getAudienceManagerBlob(e,!0)},b._setAnalyticsFields=function(e){b._readVisitor(),b._setFields(T,e)},b._setAudienceManagerFields=function(e){b._readVisitor(),b._setFields(w,e)},b._getAudienceManagerURLData=function(e){var t=b.audienceManagerServer,n="",r=b._getField(O),a=b._getField(j,!0),i=b._getField(P),o=i&&i!==x?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(b.loadSSL&&b.audienceManagerServerSecure&&(t=b.audienceManagerServerSecure),t){var s,l,u,c=b.getCustomerIDs(!0);if(c)for(l in c){var d=c[l];if(!W.isObjectEmpty(d)){var f="nameSpaces"===l?"&d_cid_ns=":"&d_cid_ic=";for(s in d)L(s)&&(u=d[s],o+=f+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(b.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver="+b.version+(y&&-1!==p.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+y:"")+(C&&-1!==p.indexOf("demdex.net")?"&d_cf="+C:"")+"&d_rtbd=json&d_ver=2"+(!r&&b._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(b.marketingCloudOrgID)+"&d_nsid="+(b.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===A?"&d_coop_safe=1":!1===A?"&d_coop_unsafe=1":"")+(a?"&d_blob="+encodeURIComponent(a):"")+o,m=["s_c_il",b._in,e];return{url:n=p+"?"+g+"&d_cb=s_c_il%5B"+b._in+"%5D."+e,corsUrl:p+"?"+g,callback:m}}return{url:n}},b.appendVisitorIDsTo=function(e){try{var t=[[O,b._getField(O)],[P,b._getField(P)],["MCORGID",b.marketingCloudOrgID]];return b._addQuerystringParam(e,re.ADOBE_MC,o(t))}catch(t){return e}},b.appendSupplementalDataIDTo=function(e,t){if(!(t=t||b.getSupplementalDataID(U.generateRandomString(),!0)))return e;try{var n=o([["SDID",t],["MCORGID",b.marketingCloudOrgID]]);return b._addQuerystringParam(e,re.ADOBE_MC_SDID,n)}catch(t){return e}};var U={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var r=e.split("&");return n=null!=n?n:r.length,r.splice(n,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===P&&(t||(t=b.trackingServer),n||(n=b.trackingServerSecure),!("string"!=typeof(r=b.loadSSL?n:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){$.remove(e,{domain:b.cookieDomain})},isTrackingServerPopulated:function(){return!!b.trackingServer||!!b.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};b._helpers=U;var H=ae(b,S);b._destinationPublishing=H,b.timeoutMetricsLog=[];var B,G={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case k:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case T:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case w:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};b.isClientSideMarketingCloudVisitorID=function(){return G.isClientSideMarketingCloudVisitorID},b.MCIDCallTimedOut=function(){return G.MCIDCallTimedOut},b.AnalyticsIDCallTimedOut=function(){return G.AnalyticsIDCallTimedOut},b.AAMIDCallTimedOut=function(){return G.AAMIDCallTimedOut},b.idSyncGetOnPageSyncInfo=function(){return b._readVisitor(),b._getField("MCSYNCSOP")},b.idSyncByURL=function(e){if(!b.isOptedOut()){var t=s(e||{});if(t.error)return t.error;var n,r,a=e.url,i=encodeURIComponent,o=H;return a=a.replace(/^https:/,"").replace(/^http:/,""),n=W.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",i(e.dpid),"img",i(a),t.ttl,"",n],o.addMessage(r.join("|")),o.requestToProcess(),"Successfully queued"}},b.idSyncByDataSource=function(e){if(!b.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,b.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ve(b,H),b._getCookieVersion=function(e){e=e||b.cookieRead(b.cookieName);var t=re.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},b._resetAmcvCookie=function(e){var t=b._getCookieVersion();t&&!Z.isLessThan(t,e)||b.removeCookie(b.cookieName)},b.setAsCoopSafe=function(){A=!0},b.setAsCoopUnsafe=function(){A=!1},function(){if(b.configs=Object.create(null),U.isObject(n))for(var e in n)L(e)&&(b[e]=n[e],b.configs[e]=n[e])}(),u(),b.init=function(){l()&&(v.optIn.fetchPermissions(m,!0),!v.optIn.isApproved(v.optIn.Categories.ECID))||B||(B=!0,function(){if(U.isObject(n)){b.idSyncContainerID=b.idSyncContainerID||0,A="boolean"==typeof b.isCoopSafe?b.isCoopSafe:U.parseBoolean(b.isCoopSafe),b.resetBeforeVersion&&b._resetAmcvCookie(b.resetBeforeVersion),b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl(),b._readVisitor();var e=b._getField(M),t=Math.ceil((new Date).getTime()/re.MILLIS_PER_DAY);b.idSyncDisableSyncs||b.disableIdSyncs||!H.canMakeSyncIDCall(e,t)||(b._setFieldExpire(j,-1),b._setField(M,t)),b.getMarketingCloudVisitorID(),b.getAudienceManagerLocationHint(),b.getAudienceManagerBlob(),b._mergeServerState(b.serverState)}else b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl()}(),function(){if(!b.idSyncDisableSyncs&&!b.disableIdSyncs){H.checkDPIframeSrc();var e=function(){var e=H;e.readyToAttachIframe()&&e.attachIframe()};E.addEventListener("load",function(){S.windowLoaded=!0,e()});try{ee.receiveMessage(function(e){H.receiveMessage(e.data)},H.iframeHost)}catch(e){}}}(),b.whitelistIframeDomains&&re.POST_MESSAGE_ENABLED&&(b.whitelistIframeDomains=b.whitelistIframeDomains instanceof Array?b.whitelistIframeDomains:[b.whitelistIframeDomains],b.whitelistIframeDomains.forEach(function(e){var t=new J(r,e),n=K(b,t);ee.receiveMessage(n,e)})))}};He.config=U;var Be=Y.Visitor=He,Ge=function(a){if(W.isObject(a))return Object.keys(a).filter(function(e){return""!==a[e]&&U.getConfigs()[e]}).reduce(function(e,t){var n=U.normalizeConfig(t,a[t]),r=W.normalizeBoolean(n);return e[t]=r,e},Object.create(null))},qe=Le.OptIn,Ye=Le.IabPlugin;Be.getInstance=function(r,e){if(!r)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");r.indexOf("@")<0&&(r+="@AdobeOrg");var t=function(){var e=Y.s_c_il;if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===r)return n}}();if(t)return t;var a,n=Ge(e)||{};a=n||{},Y.adobe.optIn=Y.adobe.optIn||function(){var e=W.pluck(a,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=a.optInCookieDomain||a.cookieDomain;t=(t=t||Q())===window.location.hostname?"":t,e.optInCookieDomain=t;var n=new qe(e,{cookies:$});if(e.isIabContext&&e.doesOptInApply){var r=new Ye;n.registerPlugin(r)}return n}();var i=r.split("").reverse().join(""),o=new Be(r,null,i);n.cookieDomain&&(o.cookieDomain=n.cookieDomain),n.sameSiteCookie&&n.secureCookie&&(o.configs={sameSiteCookie:n.sameSiteCookie,secureCookie:n.secureCookie}),Y.s_c_il.splice(--Y.s_c_in,1);var s=W.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var l,u=function(){try{return Y.self!==Y.parent}catch(r){return!0}}()&&((l=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==l.cookieRead("TEST_AMCV_COOKIE")||(l.removeCookie("TEST_AMCV_COOKIE"),0))&&Y.parent?new w(r,n,o,Y.parent):new Be(r,n,i);return o=null,u.init(),u},function(){function e(){Be.windowLoaded=!0}Y.addEventListener?Y.addEventListener("load",e):Y.attachEvent&&Y.attachEvent("onload",e),Be.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}},settings:{orgId:"2387401053DB208C0A490D4C@AdobeOrg",variables:[{name:"trackingServer",value:"metrics.elpais.com"},{name:"trackingServerSecure",value:"smetrics.elpais.com"},{name:"secureCookie",value:"true"},{name:"sameSiteCookie",value:"none"},{name:"marketingCloudServer",value:"metrics.elpais.com"},{name:"marketingCloudServerSecure",value:"smetrics.elpais.com"}]},hostedLibFilesBaseUrl:"//ep00.epimg.net/js/gdt/0681c221600c/a81a11db86dc/dac682423e09/hostedLibFiles/EPf0412a5c65e5429ab0e5ed8ba2256510/"},"adobe-analytics":{displayName:"Adobe Analytics",modules:{"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,n,r){"use strict";var a,i=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-promise"),s=n("@adobe/reactor-window"),l=n("../helpers/settingsHelper"),u=n("../helpers/augmenters"),c=n("../helpers/applyTrackerVariables"),d=n("../helpers/loadLibrary"),f=n("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),p="beforeSettings",g=r.getSharedModule("adobe-mcid","mcid-instance"),m=function(e){return!e||"true"===i.get(e)},h=function(r){return o.all(u.map(function(e){var t;try{t=e(r)}catch(n){setTimeout(function(){throw n})}return o.resolve(t)})).then(function(){return r})},b=function(e){return g&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=g),e},v=function(e){return r.logger.info('Setting version on tracker: "'+f+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=f:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+f&&(e.version+="-"+f),e},y=function(e,t,n){return t.loadPhase===p&&t.source&&(r.logger.info("Calling custom script before settings."),t.source.call(s,n)),c(n,e||{}),t.loadPhase!==p&&t.source&&(r.logger.info("Calling custom script after settings."),t.source.call(s,n)),n},C=function(e,t){return l.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},_=(a=r.getExtensionSettings(),m(a.trackingCookieName)?d(a).then(h).then(b).then(v).then(y.bind(null,a.trackerProperties,a.customSetup||{})).then(C.bind(null,a)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return _}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,n){"use strict";var r=n("../helpers/augmenters");e.exports=function(e){r.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-window"),i={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[r.buildInfo.environment]&&(t=e[r.buildInfo.environment]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&a&&a._satellite&&a._satellite.company&&a._satellite.company.orgId&&(t=!0),t}};e.exports=i}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,n,o){"use strict";var a=n("@adobe/reactor-query-string"),i=n("@adobe/reactor-window"),s=/eVar([0-9]+)/,l=/prop([0-9]+)/,u=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),c=function(e,t,n){return n.indexOf(e)===t},d=function(e,t,n){var r=Object.keys(t).filter(u.test.bind(u));return n&&r.push("events"),(r=r.concat((e.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&c(e,t,r)}).join(",")},f=function(e,t){var n=t.map(function(e){return e.name});return(n=n.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&c(e,t,n)}).join(",")},r=function(e,t,n){e[t]=n[t].join(",")},p=function(a,e,t){var i=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var n=s.exec(e.value);if(n)t=i+"v"+n[1];else{var r=l.exec(e.value);r&&(t=i+"c"+r[1])}}a[e.name]=t})},g={linkDownloadFileTypes:r,linkExternalFilters:r,linkInternalFilters:r,hierarchies:function(t,e,n){n[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:p,eVars:p,campaign:function(e,t,n){if("queryParam"===n[t].type){var r=a.parse(i.location.search);e[t]=r[n[t].value]}else e[t]=n[t].value},events:function(e,t,n){var r=n[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t});e[t]=r.join(",")}};e.exports=function(t,r){var a={};r=r||{},Object.keys(r).forEach(function(e){var t=g[e],n=r[e];t?t(a,e,r):a[e]=n}),a.events&&t.events&&0<t.events.length&&(a.events=t.events+","+a.events);var e=r&&r.events&&0<r.events.length,n=d(t,a,e);n&&(a.linkTrackVars=n);var i=f(t,r.events||[]);i&&(a.linkTrackEvents=i),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(a)+'".'),Object.keys(a).forEach(function(e){t[e]=a[e]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-load-script"),i=n("@adobe/reactor-window"),o=n("@adobe/reactor-promise"),s=n("./settingsHelper"),l=n("./pollHelper"),u=function(e,t){if(!i.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+i.AppMeasurement);r.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var n=i.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(r.logger.info("Setting the tracker as window.s"),i.s=n),n},c=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===i.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var n={namespace:i._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=n,t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},d=function(e){return o.all(c(e).map(function(e){return r.logger.info("Loading script: "+e),a(e)}))},f=function(e,t){if(e.libraryCode.accounts)if(t.sa){var n=s.getReportSuites(e.libraryCode.accounts);r.logger.info('Setting the following report suites on the tracker: "'+n+'"'),t.sa(n)}else r.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},p=function(e){if(i[e])return r.logger.info('Found tracker located at: "'+e+'".'),i[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=d(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var n=s.getReportSuites(e.libraryCode.accounts);return t.then(u.bind(null,e,n));case s.LIB_TYPES.PREINSTALLED:return t.then(l.poll.bind(null,i,e.libraryCode.trackerVariableName)).then(f.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(p.bind(null,e.libraryCode.trackerVariableName)).then(f.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,n=function(e){return e.getUTCDate().toString(36)},r=function(e){return e.substr(e.length-1)},a=function(e){return Math.floor(e.getUTCHours()/t)},i=function(e){var t=(e.getUTCMonth()+1+12*a(e)).toString(36);return r(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+i(t)+n(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,n,r){"use strict";var o=n("@adobe/reactor-promise"),s=40,l=250,u=function(e,t,n){r.logger.info('Found property located at: "'+t+'"].'),e(n)},a=function(a,i){return new o(function(e,t){if(a[i])return u(e,i,a[i]);var n=1,r=setInterval(function(){a[i]&&(u(e,i,a[i]),clearInterval(r)),s<=n&&(clearInterval(r),t(new Error('Bailing out. Cannot find the variable name: "'+i+'"].'))),n++},l)})};e.exports={poll:function(e,t){return r.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),a(e,t)}}}}},settings:{orgId:"2387401053DB208C0A490D4C@AdobeOrg",customSetup:{source:function(e){return e.articleDays=function(e){if(void 0===e||null==/^\d{4}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])$/gi.exec(e))return"";var t=e.split("/"),n=new Date(t[0],t[1]-1,t[2]),r=new Date,a=parseInt((r-n)/864e5);return a<0?"error":a.toString()},e.getQueryParam=new Function("p","d","u","h","var s=this,v='',i,j,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'',h);if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v"),e.p_gpv=new Function("k","u","h","var s=this,v='',q;j=h==1?'#':'?';i=u.indexOf(j);if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"),e.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return''"),e.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v"),e.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L"),e.getTimeParting=new Function("t","z","var s=this,cy;dc=new Date('1/1/2000');if(dc.getDay()!=6||dc.getMonth()!=0){return'Data Not Available'}else{;z=parseFloat(z);var dsts=new Date(s.dstStart);var dste=new Date(s.dstEnd);fl=dste;cd=new Date();if(cd>dsts&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneOffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear();var days=['domingo','lunes','martes','miercoles','jueves','viernes','sabado'];if(thisy!=s.currentYear){return'Data Not Available'}else{;thish=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow=days[thisd];var ap='AM';var dt='laborable';var mint='00';if(thismin>30){mint='30'}if(thish>=12){ap='PM';thish=thish-12};if (thish==0){thish=12};if(thisd==6||thisd==0){dt='festivo'};var timestring=thish+':'+mint+ap;if(t=='h'){return timestring}if(t=='d'){return dow};if(t=='w'){return dt}}};"),e.getVisitNum=new Function("tp","c","c2","var s=this,e=new Date,cval,cvisit,ct=e.getTime(),d;if(!tp){tp='m';}if(tp=='m'||tp=='w'||tp=='d'){eo=s.endof(tp),y=eo.getTime();e.setTime(y);}else {d=tp*86400000;e.setTime(ct+d);}if(!c){c='s_vnum';}if(!c2){c2='s_invisit';}cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {return 'unknown visit number';}}else {if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {s.c_w(c,e.getTime()+'&vn=1',e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return 1;}}"),e.dimo=new Function("m","y","var d=new Date(y,m+1,0);return d.getDate();"),e.endof=new Function("x","var t=new Date;t.setHours(0);t.setMinutes(0);t.setSeconds(0);if(x=='m'){d=DTM.s.dimo(t.getMonth(),t.getFullYear())-t.getDate()+1;}else if(x=='w'){d=7-t.getDay();}else {d=1;}t.setDate(t.getDate()+d);return t;"),e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),window.s_getLoadTime=function(){if(!window.s_loadT){var e=(new Date).getTime(),t=window.performance?performance.timing:0,n=t?t.requestStart:window.inHeadTS||0;s_loadT=n?Math.round((e-n)/100):"",s_loadT/=10}return s_loadT},e.usePlugins=!0,e.doPlugins=function(e){"undefined"!=typeof e.linkType&&("e"==e.linkType?DTM.trackEvent(DTM.events.EXITLINK,{externalLink:e.linkURL}):"d"==e.linkType&&DTM.trackEvent(DTM.events.DOWNLOADLINK,{downloadLink:e.linkURL}))},window.DTM.tools.omniture.loaded=!0,window.setTimeout(function(){"undefined"!=typeof DTM.tools.omniture.consentsID&&"undefined"!=typeof window.gdprAppliesGlobally?DTM.trackGDPRPV("omniture","lib + consents"):!1!==DTM.tools.omniture.trackPV()&&window.DTM.notify("PV tracked in tool <omniture> (lib)")},700),!1}},libraryCode:{type:"managed",accounts:{staging:["prisacomprensapreprod"],production:["prisacomglobal"],development:["prisacomprensapreprod"]},useActivityMap:!0,scopeTrackerGlobally:!0},trackerProperties:{charSet:"UTF-8",currencyCode:"EUR",trackingServer:"metrics.elpais.com",trackInlineStats:!1,visitorNamespace:"prisacom",trackDownloadLinks:!0,trackExternalLinks:!0,writeSecureCookies:!0,linkExternalFilters:[],linkInternalFilters:["elpais.com","javascript:"],linkLeaveQueryString:!0,trackingServerSecure:"smetrics.elpais.com",linkDownloadFileTypes:["avi","css","csv","doc","docx","eps","exe","jpg","js","m4v","mov","mp3","pdf","png","ppt","pptx","rar","svg","tab","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip"]}},hostedLibFilesBaseUrl:"//ep00.epimg.net/js/gdt/0681c221600c/a81a11db86dc/dac682423e09/hostedLibFiles/EPbde2f7ca14e540399dcc1f8208860b7b/"},core:{displayName:"Core",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var r=n("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-cookie");e.exports=function(e){return r.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),s=n("@adobe/reactor-query-string");e.exports=function(e){var t=s.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),r=Object.keys(t),a=0;a<r.length;a++){var i=r[a];if(i.toLowerCase()===n)return t[i]}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(
var n=t.split("."),r=e,a=0,i=n.length;a<i;a++){if(null==r)return undefined;r=r[n[a]]}return r}}}},hostedLibFilesBaseUrl:"//ep00.epimg.net/js/gdt/0681c221600c/a81a11db86dc/dac682423e09/hostedLibFiles/EP2348d2a246a14598a388a7b6b9a290a6/"},"adobe-contexthub":{displayName:"Adobe ContextHub",modules:{"adobe-contexthub/src/lib/dataElement/dataElement.js":{name:"contexthub",displayName:"Context Hub",script:function(e,t,n,i){"use strict";function o(e,t){if(t===undefined||null===t)return undefined;for(var n=t,r=e.split("."),a=0;a<r.length;++a){if(n[r[a]]===undefined)return undefined;n=n[r[a]]}return n}var s=n("@adobe/reactor-window");e.exports=function(e){var t=i.getExtensionSettings(),n="ContextHub";if("custom"===t.dataSchemaType&&t.root!==undefined&&(n=t.root.replace("window.","")),"ContextHub"===n&&s[n]!==undefined&&"function"==typeof s[n].getAllStores){var r=e.item.replace(/\./g,"/");return s[n].getItem("/store/"+r)}var a=o(n,s);return o(e.item,a)}}}},settings:{root:"digitalData",dataSchema:{type:"object",$schema:"http://json-schema.org/draft-04/schema#",properties:{page:{type:"object",properties:{category:{type:"object",properties:{pageType:{type:"string"},subCategory1:{type:"string"},subCategory2:{type:"string"},primaryCategory:{type:"string"},secondaryCategories:{type:"string"}}},pageInfo:{type:"object",properties:{cms:{type:"string"},org:{type:"string"},ssl:{type:"string"},date:{type:"object",properties:{day:{type:"string"},gmt:{type:"string"},year:{type:"string"},hours:{type:"string"},month:{type:"string"},dstEnd:{type:"string"},minutes:{type:"string"},seconds:{type:"string"},dstStart:{type:"string"},fullYear:{type:"string"}}},tags:{type:"string"},test:{type:"string"},author:{type:"object"},domain:{type:"string"},pageID:{type:"string"},server:{type:"string"},siteID:{type:"string"},sysEnv:{type:"string"},edition:{type:"string"},campaign:{type:"string"},language:{type:"string"},pageName:{type:"string"},platform:{type:"string"},thematic:{type:"string"},adblocker:{type:"string"},articleID:{type:"string"},geoRegion:{type:"string"},pageTitle:{type:"string"},publisher:{type:"string"},serverAMP:{type:"string"},urlParams:{type:"object"},clickOrigin:{type:"string"},liveContent:{type:"string"},articleTitle:{type:"string"},audioContent:{type:"string"},businessUnit:{type:"string"},canonicalURL:{type:"string"},creationDate:{type:"string"},onsiteSearch:{type:"string"},pageTypology:{type:"string"},previousPage:{type:"string"},referringURL:{type:"string"},videoContent:{type:"string"},brandedContent:{type:"string"},destinationURL:{type:"string"},onsiteSearchTerm:{type:"string"},editionNavigation:{type:"string"},onsiteSearchResults:{type:"string"}}},pageInstanceID:{type:"string"}}},user:{type:"object",properties:{userID:{type:"string"},country:{type:"string"},userName:{type:"string"},userType:{type:"string"},profileID:{type:"string"},registeredUser:{type:"string"},registeredUserAMP:{type:"string"}}},event:{type:"array",items:{category:{type:"object"},eventInfo:{type:"object"},attributes:{type:"object"}}},device:{type:"object",properties:{type:{type:"string"},language:{type:"string"},platform:{type:"string"},userAgent:{type:"string"},cookieEnabled:{type:"boolean"}}},paywall:{type:"object",properties:{ad:{type:"string"},access:{type:"string"},active:{type:"boolean"},status:{type:"string"},counter:{type:"integer"},product:{type:"string"},freePage:{type:"string"},signwall:{type:"string"},cartProduct:{type:"integer"},privateMode:{type:"string"},transactionID:{type:"string"},blockedCounter:{type:"string"}}}}},dataSchemaType:"custom"},hostedLibFilesBaseUrl:"//ep00.epimg.net/js/gdt/0681c221600c/a81a11db86dc/dac682423e09/hostedLibFiles/EP76cc9a1cb360441db5c7bfb163c22e2b/"}},company:{orgId:"2387401053DB208C0A490D4C@AdobeOrg"},property:{name:"EL PAIS PEP",settings:{domains:["elpais.com"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!1}},rules:[]};var _satellite=function(){"use strict";function e(n){if(n.__esModule)return n;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return n[e]}})}),r}function t(e){var t={exports:{}};return e(t,t.exports),t.exports}function n(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}function u(e){return Boolean(e&&"undefined"!=typeof e.length)}function r(){}function a(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function o(r,a){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,i._immediateFn(function(){var e=1===r._state?a.onFulfilled:a.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(n){return void l(a.promise,n)}s(a.promise,t)}else(1===r._state?s:l)(a.promise,r._value)})):r._deferreds.push(a)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(a(n,t),e)}e._state=1,e._value=t,c(e)}catch(r){l(e,r)}}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(r){if(n)return;n=!0,l(t,r)}}function p(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function g(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}if(window.atob){var h=function(e){var n=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){n.push({rule:t,event:e})})}),n.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},b="debug",v=function(t,e){var n=function(){return"true"===t.getItem(b)},r=function(e){t.setItem(b,e)},a=[],i=function(e){a.push(e)};return e.outputEnabled=n(),{onDebugChanged:i,getDebugEnabled:n,setDebugEnabled:function(t){n()!==t&&(r(t),e.outputEnabled=t,a.forEach(function(e){e(t)}))}}},y="Module did not export a function.",C=function(i,o){return function(e,t,n){n=n||[];var r=i.getModuleExports(e.modulePath);if("function"!=typeof r)throw new Error(y);var a=o(e.settings||{},t);return r.bind(null,a).apply(null,n)}},_=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},I={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},E="\ud83d\ude80",S=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":E,D=!1,A=function(e){if(D&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(S),e!==I.DEBUG||window.console[e]||(e=I.INFO),window.console[e].apply(window.console,t)}},k=A.bind(null,I.LOG),O=A.bind(null,I.INFO),M=A.bind(null,I.DEBUG),T=A.bind(null,I.WARN),P=A.bind(null,I.ERROR),w={log:k,info:O,debug:M,warn:T,error:P,deprecation:function(){var e=D;D=!0,A.apply(null,Array.prototype.concat(I.WARN,Array.prototype.slice.call(arguments))),e||(D=!1)},get outputEnabled(){return D},set outputEnabled(e){D=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:k.bind(null,t),info:O.bind(null,t),debug:M.bind(null,t),warn:T.bind(null,t),error:P.bind(null,t)}}},j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x=t(function(r){!function(e){if(r.exports=e(),!!0){var t=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=t,n}}}(function(){function l(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function c(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function e(u){function s(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=l({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(t);/^[\{\[]/.test(r)&&(t=r)}catch(o){}t=u.write?u.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var i in n)n[i]&&(a+="; "+i,!0!==n[i]&&(a+="="+n[i].split(";")[0]));return document.cookie=e+"="+t+a}}function t(e,t){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var i=r[a].split("="),o=i.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var s=c(i[0]);if(o=(u.read||u)(o,s)||c(o),t)try{o=JSON.parse(o)}catch(l){}if(n[s]=o,e===s)break}catch(l){}}return e?n[e]:n}}return s.set=n,s.get=function(e){return t(e,!1)},s.getJSON=function(e){return t(e,!0)},s.remove=function(e,t){n(e,"",l(t,{expires:-1}))},s.defaults={},s.withConverter=e,s}return e(function(){})})}),L={get:x.get,set:x.set,remove:x.remove},V=window,R="com.adobe.reactor.",N=function(r,e){var a=R+(e||"");return{getItem:function(e){try{return V[r].getItem(a+e)}catch(t){return null}},setItem:function(e,t){try{return V[r].setItem(a+e,t),!0}catch(n){return!1}}}},F="_sdsat_",U="dataElements.",H="dataElementCookiesMigrated",B=N("localStorage"),G=N("sessionStorage",U),q=N("localStorage",U),Y={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},z={},W=function(e){var t;try{t=JSON.stringify(e)}catch(n){}return t},J=function(e,t,n){var r;switch(t){case Y.PAGEVIEW:return void(z[e]=n);case Y.SESSION:return void((r=W(n))&&G.setItem(e,r));case Y.VISITOR:return void((r=W(n))&&q.setItem(e,r))}},K=function(e,t){var n=L.get(F+e);n!==undefined&&J(e,t,n)},X={setValue:J,getValue:function(e,t){var n;switch(t){case Y.PAGEVIEW:return z.hasOwnProperty(e)?z[e]:null;case Y.SESSION:return null===(n=G.getItem(e))?n:JSON.parse(n);case Y.VISITOR:return null===(n=q.getItem(e))?n:JSON.parse(n)}},migrateCookieData:function(t){B.getItem(H)||(Object.keys(t).forEach(function(e){K(e,t[e].storageDuration)}),B.setItem(H,!0))}},$=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},Q=function(s,l,u,c){return function(e,t){var n=l(e);if(!n)return c?"":undefined;var r,a=n.storageDuration;try{r=s.getModuleExports(n.modulePath)}catch(o){return void w.error($(n,e,o.message,o.stack))}if("function"==typeof r){var i;try{i=r(u(n.settings,t),t)}catch(o){return void w.error($(n,e,o.message,o.stack))}return a&&(null!=i?X.setValue(e,a,i):i=X.getValue(e,a)),null==i&&null!=n.defaultValue&&(i=n.defaultValue),"string"==typeof i&&(n.cleanText&&(i=_(i)),n.forceLowerCase&&(i=i.toLowerCase())),i}w.error($(n,e,"Module did not export a function."))}},Z={text:function(e){return e.textContent},cleanText:function(e){return _(e.textContent)}},ee=function(e,t,n){for(var r,a=e,i=0,o=t.length;i<o;i++){if(null==a)return undefined;var s=t[i];if(n&&"@"===s.charAt(0)){var l=s.slice(1);a=Z[l](a)}else if(a.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var u=r[1];a=a.getAttribute(u)}else a=a[s]}return a},te=function(i,o,s){return function(e,t){var n;if(o(e))n=s(e,t);else{var r=e.split("."),a=r.shift();"this"===a?t&&(n=ee(t.element,r,!0)):"event"===a?t&&(n=ee(t,r)):"target"===a?t&&(n=ee(t.target,r)):n=ee(i[a],r)}return n}},ne=function(n,r){return function(e){var t=e.split(".")[0];return Boolean(r(e)||"this"===t||"event"===t||"target"===t||n.hasOwnProperty(t))}},re=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},ae=function(){var o={},n=function(e){var t=o[e];if(!t)throw new Error("Module "+e+" not found.");return t},e=function(){Object.keys(o).forEach(function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");w.error(t)}})},r=function(e){var t=n(e);return t.hasOwnProperty("exports")||(t.exports=re(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,n,r,a){var i={definition:t,extensionName:n,require:r,turbine:a};i.require=r,o[e]=i},hydrateCache:e,getModuleExports:r,getModuleDefinition:function(e){return n(e).definition},getModuleExtensionName:function(e){return n(e).extensionName}}},ie=!1,oe=function(r){return function(t,n){var e=r._monitors;e&&(ie||(w.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ie=!0),e.forEach(function(e){e[t]&&e[t](n)}))}},se=function(a,i,o){var n,r,s,l,u=[],c=function(e,t,n){if(!a(t))return e;u.push(t);var r=i(t,n);return u.pop(),null==r&&o?"":r};return n=function(e,n){var t=/^%([^%]+)%$/.exec(e);return t?c(e,t[1],n):e.replace(/%(.+?)%/g,function(e,t){return c(e,t,n)})},r=function(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var i=r[a],o=e[i];n[i]=l(o,t)}return n},s=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(l(e[r],t));return n},l=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?s(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return 10<u.length?(w.error("Data element circular reference detected: "+u.join(" -> ")),e):l(e,t)}},le=function(a){return function(e,t){if("string"==typeof e)a[arguments[0]]=t;else if(arguments[0]){var n=arguments[0];for(var r in n)a[r]=n[r]}}},ue=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new d(e,t,n)),n},i.prototype["finally"]=n,i.all=function(t){return new i(function(a,i){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},i)}s[t]=e,0==--l&&a(s)}catch(r){i(r)}}if(!u(t))return i(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(0===s.length)return a([]);for(var l=s.length,e=0;e<s.length;e++)o(e,s[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(a){return new i(function(e,t){if(!u(a))return t(new TypeError("Promise.race accepts an array"));for(var n=0,r=a.length;n<r;n++)i.resolve(a[n]).then(e,t)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ue(e,0)},i._unhandledRejectionFn=function kt(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ce=e(Object.freeze({__proto__:null,"default":i})),de="undefined"!=typeof window&&window.Promise||void 0!==j&&j.Promise||ce["default"]||ce,fe=function(u,n,r){return function(s,t,l,e){return e.then(function(){var i,o=s.delayNext;return new de(function(e,t){var n=u(s,l,[l]);if(!o)return e();var r=s.timeout,a=new de(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+r/1e3+" seconds to complete. "))},r)});de.race([n,a]).then(e,t)})["catch"](function(e){return clearTimeout(i),e=n(e),r(s,t,e),de.reject(e)}).then(function(){clearTimeout(i)})})}},pe=function(l,n,r,a,u){return function(o,t,s,e){return e.then(function(){var i;return new de(function(e,t){var n=l(o,s,[s]),r=o.timeout,a=new de(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))},r)});de.race([n,a]).then(e,t)})["catch"](function(e){return clearTimeout(i),e=n(e),a(o,t,e),de.reject(e)}).then(function(e){if(clearTimeout(i),!r(o,e))return u(o,t),de.reject()})})}},ge=de.resolve(),me=function(r,a,e){return function(t,n){return t.conditions&&t.conditions.forEach(function(e){ge=r(e,t,n,ge)}),t.actions&&t.actions.forEach(function(e){ge=a(e,t,n,ge)}),ge=(ge=ge.then(function(){e(t)}))["catch"](function(){})}},he=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},be=function(o,s,l,u){return function(e,t){var n;if(e.conditions)for(var r=0;r<e.conditions.length;r++){n=e.conditions[r];try{var a=o(n,t,[t]);if(he(a))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!s(n,a))return l(n,e),!1}catch(i){return u(n,e,i),!1}}return!0}},ve=function(n,r){return function(e,t){n(e,t)&&r(e,t)}},ye=function(n){return function(e){var t=n.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath}},Ce=function(a){return function(e){var t=e.rule,n=e.event,r=a.getModuleDefinition(n.modulePath).name;return{$type:a.getModuleExtensionName(n.modulePath)+"."+r,$rule:{id:t.id,name:t.name}}}},_e=function(s,l,u,c,d,f){return function(n,e){var r=e.rule,t=e.event;t.settings=t.settings||{};try{var a=d(e);l(t,null,[function i(e){var t=u(a,e);n(function(){s(t,r)})}])}catch(o){f.error(c(t,r,o))}}},Ie=function(a,i,o,s){return function(e,t,n){var r=i(e);o.error(a(r,t.name,n)),s("ruleActionFailed",{rule:t,action:e})}},Ee=function(a,i,o,s){return function(e,t,n){var r=i(e);o.error(a(r,t.name,n)),s("ruleConditionFailed",{rule:t,condition:e})}},Se=function(r,a,i){return function(e,t){var n=r(e);a.log('Condition "'+n+'" for rule "'+t.name+'" was not met.'),i("ruleConditionFailed",{rule:t,condition:e})}},De=function(t,n){return function(e){t.log('Rule "'+e.name+'" fired.'),n("ruleCompleted",{rule:e})}},Ae=function(i,o,s){return function(e,t){var n;if(e.actions)for(var r=0;r<e.actions.length;r++){n=e.actions[r];try{i(n,t,[t])}catch(a){return void o(n,e,a)}}s(e)}},ke=function(n,r,a,i){return function(e,t){i("ruleTriggered",{rule:t}),n?a(t,e):r(t,e)}},Oe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Me=function(e,t){return t&&!e.negate||!t&&e.negate},Te=[],Pe=!1,we=function(e){Pe?e():Te.push(e)},je=function(e,t,n){e(t).forEach(function(e){n(we,e)}),Pe=!0,Te.forEach(function(e){e()}),Te=[]},xe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Le=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Ne=g()?Object.assign:function(e){for(var t,n,r=p(e),a=1;a<arguments.length;a++){for(var i in t=Object(arguments[a]))Ve.call(t,i)&&(r[i]=t[i]);if(Le){n=Le(t);for(var o=0;o<n.length;o++)Re.call(t,n[o])&&(r[n[o]]=t[n[o]])}}return r},Fe=function(e,t){return Ne(t=t||{},e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return w.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ue=function(l,u){return function(e,t){var n=l[e];if(n){var r=n.modules;if(r)for(var a=Object.keys(r),i=0;i<a.length;i++){var o=a[i],s=r[o];if(s.shared&&s.name===t)return u.getModuleExports(o)}}}},He=function(e,t){return function(){return t?e(t):{}}},Be=function(n,r){return function(e){if(r){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}return n+e}},Ge=".js",qe=function(e){return e.substr(0,e.lastIndexOf("/"))},Ye=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ze=function(e,t){Ye(t,Ge)||(t+=Ge);var n=t.split("/"),r=qe(e).split("/");return n.forEach(function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))}),r.join("/")},We=document,Je=function(n,r){return new de(function(e,t){r.onload=function(){e(r)},r.onerror=function(){t(new Error("Failed to load script "+n))}})},Ke=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Je(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},Xe=function(e,t,n,r){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var s=e.length;0<o&&o<s&&(s=o);for(var l=0;l<s;++l){var u,c,d,f,p=e[l].replace(i,"%20"),g=p.indexOf(n);0<=g?(u=p.substr(0,g),c=p.substr(g+1)):(u=p,c=""),d=decodeURIComponent(u),f=decodeURIComponent(c),m(a,d)?Array.isArray(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a},$e=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Qe=function(n,r,a,e){return r=r||"&",a=a||"=",null===n&&(n=undefined),"object"==typeof n?Object.keys(n).map(function(e){var t=encodeURIComponent($e(e))+a;return Array.isArray(n[e])?n[e].map(function(e){return t+encodeURIComponent($e(e))}).join(r):t+encodeURIComponent($e(n[e]))}).join(r):e?encodeURIComponent($e(e))+a+encodeURIComponent($e(n)):""},Ze=t(function(e,t){t.decode=t.parse=Xe,t.encode=t.stringify=Qe}),et="@adobe/reactor-",tt={cookie:L,document:We,"load-script":Ke,"object-assign":Ne,promise:de,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),Ze.parse(e)},stringify:function(e){return Ze.stringify(e)}},window:V},nt=function(r){return function(e){if(0===e.indexOf(et)){var t=e.substr(et.length),n=tt[t];if(n)return n}if(0===e.indexOf("./")||0===e.indexOf("../"))return r(e);throw new Error('Cannot resolve module "'+e+'".')}},rt=function(e,o,s,l,u){var c=e.extensions,d=e.buildInfo,f=e.property.settings;if(c){var p=Ue(c,o);Object.keys(c).forEach(function(r){var a=c[r],e=He(l,a.settings);if(a.modules){var t=w.createPrefixedLogger(a.displayName),n=Be(a.hostedLibFilesBaseUrl,d.minified),i={buildInfo:d,getDataElementValue:u,getExtensionSettings:e,getHostedLibFileUrl:n,getSharedModule:p,logger:t,propertySettings:f,replaceTokens:l,onDebugChanged:s.onDebugChanged,get debugEnabled(){return s.getDebugEnabled()}};Object.keys(a.modules).forEach(function(n){var e=a.modules[n],t=nt(function(e){var t=ze(n,e);return o.getModuleExports(t)});o.registerModule(n,e,r,t,i)})}}),o.hydrateCache()}return o},at=function(e,t,n,r,a){var i=w.createPrefixedLogger("Custom Script");e.track=function(e){w.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name},e.company=t.company,e.buildInfo=t.buildInfo,e.logger=i,e.notify=function(e,t){switch(w.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=r,e.setVar=a,e.setCookie=function(e,t,n){var r="",a={};n&&(r=", { expires: "+n+" }",a.expires=n);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";w.deprecation(i),L.set(e,t,a)},e.readCookie=function(e){return w.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),L.get(e)},e.removeCookie=function(e){w.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),L.remove(e)},e.cookie=L,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(w.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},it=window._satellite;if(it&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var ot=it.container;delete it.container;var st=ot.property.settings.undefinedVarsReturnEmpty,lt=ot.property.settings.ruleComponentSequencingEnabled,ut=ot.dataElements||{};X.migrateCookieData(ut);var ct,dt=function(e){return ut[e]},ft=ae(),pt=Q(ft,dt,function(){return ct.apply(null,arguments)},st),gt={},mt=le(gt),ht=ne(gt,dt),bt=te(gt,dt,pt);ct=se(ht,bt,st);var vt=v(N("localStorage"),w);at(it,ot,vt.setDebugEnabled,bt,mt),rt(ot,ft,vt,ct,pt);var yt=oe(it),Ct=C(ft,ct),_t=ye(ft),It=Se(_t,w,yt),Et=Ee(Oe,_t,w,yt),St=Ie(Oe,_t,w,yt),Dt=De(w,yt),At=_e(ke(lt,ve(be(Ct,Me,It,Et),Ae(Ct,St,Dt)),me(pe(Ct,xe,Me,Et,It),fe(Ct,xe,St),Dt),yt),Ct,Fe,Oe,Ce(ft),w);je(h,ot.rules||[],At)}return it}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();

window.DTM={version:"launch-eppep-1.1",initialized:!0,dateInit:new Date,toolsInitialized:!1,dataLayerGenerated:!1,validPage:!0,translatePage:!1,paywallSync:"no-paywall",internalTest:"",allowAll:!0,PLATFORM:{AMP:"amp",FBIA:"fbia",MOBILEWEB:"mobileWeb",WEB:"web",WIDGET:"widget",AMPPLAYER:"ampPlayer"},CONSENTS:{ACCEPT:1,REJECT:0,WAITING:2,DEFAULT:-1},TRACK_DELAY:"delay",TRACK_TOP:"top",TRACK_NO:"notrack",TRACK_CUSTOM:"custom",TOOL_DISABLED:0,TOOL_ENABLED:1,TOOL_ONLYEVENTS:2,TIME_DELAY:800,delayCompleted:!1,userInfoCompleted:!1,paywallActive:"undefined"!=typeof DTM&&void 0!==DTM.paywallActive&&DTM.paywallActive,config:"undefined"!=typeof DTM&&void 0!==DTM.config?DTM.config:{},pageDataLayer:"undefined"!=typeof DTM&&void 0!==DTM.pageDataLayer&&DTM.pageDataLayer,notify:function(e,t,a){var s;void 0!==t&&void 0!==a&&void 0!==window.digitalData.event[t]&&(s=window.digitalData.event[t].eventInfo.effect,window.digitalData.event[t].eventInfo.effect=""==s?a:s+","+a,e="Event <"+window.digitalData.event[t].eventInfo.eventName+"> tracked in tool <"+a+">");try{var i=(new Date).getTime()-DTM.dateInit.getTime();e="DTM: "+e,i=(i/=1e3).toFixed(2),_satellite.logger.info(e+" ("+i+"s)")}catch(e){console.info("Error DTM.notify")}},isValidPage:function(){if("undefined"==typeof digitalData)return!1;this.translatePage=-1!=_satellite.getVar("server").indexOf("translate.goog"),this.validPage=-1!=_satellite.getVar("server").indexOf("elpais.com")||this.translatePage},init:function(){this.notify("Version <"+this.version+"> fired "+_satellite.buildInfo.environment,!0),this.notify("Page <"+window.location.href+">"),this.dataLayer.init(),this.isValidPage(),this.tools.init(),_satellite.pageBottom(),this.trackPV(),this.events.init()},dataLayer:{digitalData:{},regExp:{blogs:/http.?:\/\/([^\/]+)\/([^\/]+)\/(.*)/i,diario:/http.?:\/\/([^\/]*)\/diario\/(\d+)\/(\d+)\/(\d+)\/([^\/]*)\/?/i,elecciones:/http.?:\/\/([^\/]*)\/elecciones\/(\d{4})\/([^\/]*)\/.*/i,eleccionesHome:/http.?:\/\/([^\/]*)\/elecciones\/(.*?).html/i,eleccionesPortadas:/http.?:\/\/([^\/]*)\/elecciones\/(\d{4})\//i,especiales:/http.?:\/\/[^\/]*\/([^\/]*)\/(\d{4})\/([^\/]*)\//i,especialesPortadas:/http.?:\/\/([^\/]*)\/([^\/]*)\/([^\/]*)\//i,moviles:/(http.?:\/\/[^\/]*)\/m\/(.*)/i,noticia:/http.?:\/\/([^\/]*)\/([^\/]*)\/(\d+)\/(\d+)\/(\d+)\/([^\/]*)\/(.*)\.html/i,portada:/http.?:\/\/([^\/]*)\/?(.*)/i,portadilla:/http.?:\/\/([^\/]*)\/([^\/]*)\/(.*)/i,seccion:/http.?:\/\/([^\.]*)\./i,seccionVirtual:/http.?:\/\/([^\/]*).elpais.com\/seccion\/([^\/]*)/i,sorteos:/([^\/]*)\/?/,tag:/([^\/]+)\/([^\/]+)\/?.*/i,tagRamas:/^([^\/]+)\/([^\/]+)\/.*/i,result_re:void 0,result_re2:void 0,result_re3:void 0,result_re4:void 0,result_re5:void 0,result_re6:void 0,result_re7:void 0},vars:{articleID:"",audioContent:"not-set",author:[],businessUnit:"noticias",canonicalURL:"",cms:"",cookiePaywallProduct:!1,creationDate:"",domain:"elpais.com",direccion:document.location.href.replace(/[\?#].*?$/g,""),destinationURL:document.location.href,edition:void 0!==window.PEPedition?window.PEPedition.toLowerCase():"españa",geoRegion:"españa",language:document.documentElement.lang||"es",liveContent:"not-set",org:"prisa",pageName:"elpaiscom"+document.location.href.replace(/[\?#].*?$/g,"").replace(/http.?:\/\/[^\/]*/,""),pageTitle:document.title&&""!=document.title?document.title:document.getElementsByTagName("title")[0]?document.getElementsByTagName("title")[0].innerHTML:"not-set",pageType:"",pageTypology:void 0!==window.dtm_pageTypology?window.dtm_pageTypology:"",paywall:{access:"not-set",active:"0",ad:"none",counter:"not-set",freePage:"not-set",privateMode:"not-set",product:"not-set",signwall:"0",status:"0"},platform:"web",protocol:"https:"==document.location.protocol?"1":"0",publisher:"el pais",referringURL:document.referrer,search:"0",search_keyword:"",search_results:"0",seccion:"channel",server:window.location.host,serverAMP:"",siteID:"elpaiscom",subseccion:"seccion",subsubseccion:"",sysEnv:"web",test:"",thematic:"informacion",trackingCodes:["id_externo_display","id_externo_sem","id_externo_nwl","id_externo_promo","id_externo_rsoc","id_externo_ref","id_externo_portada","id_externo_noti","sdi","sse","sma","prm","sap","ssm","afl","agr","int","noti","cid","idexterno"],seccion_omniture:"seccion",subseccion_omniture:"subseccion",tags:[],urlParams:!1,videoContent:"not-set"},init:function(){this.multidistribution.init(),this.generateDL(),void 0!==DTM.pageDataLayer&&this.pageDL(),window.digitalData={page:{pageInfo:{articleID:this.vars.articleID,audioContent:this.vars.audioContent,author:0!=this.vars.author?this.vars.author:this.arrayAuthors(),brandedContent:"0",businessUnit:this.vars.businessUnit,campaign:"",canonicalURL:""==this.vars.canonicalURL?this.getCanonical():this.vars.canonicalURL,clickOrigin:"",cms:""==this.vars.cms?this.getCMS(this.vars.server):this.vars.cms,creationDate:this.vars.creationDate,date:{day:DTM.utils.formatDate(DTM.dateInit.getDate()),dstEnd:"12/31/"+DTM.dateInit.getFullYear(),dstStart:"1/1/"+DTM.dateInit.getFullYear(),fullYear:DTM.dateInit.getFullYear(),gmt:0<=-DTM.dateInit.getTimezoneOffset()/60-1?"+"+(-DTM.dateInit.getTimezoneOffset()/60-1).toString():-DTM.dateInit.getTimezoneOffset()/60-1,hours:DTM.utils.formatDate(DTM.dateInit.getHours()),minutes:DTM.utils.formatDate(DTM.dateInit.getMinutes()),month:DTM.utils.formatDate(DTM.dateInit.getMonth()+1),seconds:DTM.utils.formatDate(DTM.dateInit.getSeconds()),year:DTM.dateInit.getFullYear()},destinationURL:this.vars.destinationURL,domain:this.vars.domain,edition:this.vars.edition,editionNavigation:this.vars.edition,geoRegion:this.vars.geoRegion,language:this.vars.language,liveContent:this.vars.liveContent,onsiteSearch:"",onsiteSearchTerm:"",onsiteSearchResults:"",org:this.vars.org,pageID:document.location.href,pageName:this.vars.pageName,pageTitle:this.vars.pageTitle,pageTypology:this.vars.pageTypology,platform:this.vars.platform,publisher:this.vars.publisher,referringURL:this.vars.referringURL,server:this.vars.server,serverAMP:this.vars.serverAMP,siteID:this.vars.siteID,ssl:this.vars.protocol,sysEnv:this.vars.sysEnv,tags:0!=this.vars.tags.length?this.vars.tags:this.arrayTags(),test:this.vars.test,thematic:this.vars.thematic,urlParams:this.vars.urlParams,videoContent:this.vars.videoContent},category:{pageType:this.vars.pageType,primaryCategory:this.vars.seccion,subCategory1:this.vars.subseccion,subCategory2:this.vars.subsubseccion}},user:{profileID:"not-set",registeredUser:"not-set",registeredUserAMP:"",userName:"",country:"",userType:"not-set"},device:{userAgent:navigator.userAgent,cookieEnabled:navigator.cookieEnabled,language:navigator.language,platform:navigator.platform,type:this.getDeviceType()},paywall:{access:this.vars.paywall.access,active:this.vars.paywall.active,ad:this.vars.paywall.ad,counter:this.vars.paywall.counter,freePage:this.vars.paywall.freePage,privateMode:this.vars.paywall.privateMode,product:this.vars.paywall.product,signwall:this.vars.paywall.signwall,status:this.vars.paywall.status},event:[]},this.setParam("page.pageInfo.urlParams",this.getUrlParams()),this.internalSearch(),this.getUserInfo(),this.setParam("page.pageInfo.campaign",this.getCampaign()),this.setParam("page.pageInfo.brandedContent",this.isBrandedContent()),this.setParam("page.pageInfo.clickOrigin",DTM.utils.getQueryParam("rel")),DTM.notify("Data Layer generated"),DTM.dataLayerGenerated=!0},pageDL:function(){var e;DTM.pageDataLayer&&(e=DTM.pageDataLayer,this.vars.seccion=this.dataLayerParamExists("primaryCategory")?e.primaryCategory:this.vars.seccion,this.vars.subseccion=this.dataLayerParamExists("subCategory1")?e.subCategory1:this.vars.subseccion,this.vars.subsubseccion=this.dataLayerParamExists("subCategory2")?e.subCategory2:this.vars.subsubseccion,this.vars.pageType=this.dataLayerParamExists("pageType")?e.pageType.trim():this.vars.pageType,this.vars.language=(this.dataLayerParamExists("language")?e:this.vars).language,this.vars.sysEnv=(this.dataLayerParamExists("sysEnv")?e:this.vars).sysEnv,this.vars.thematic=(this.dataLayerParamExists("thematic")?e:this.vars).thematic,this.vars.destinationURL=(this.dataLayerParamExists("destinationURL")?e:this.vars).destinationURL,this.vars.edition=(this.dataLayerParamExists("edition")?e:this.vars).edition,this.vars.creationDate=(this.dataLayerParamExists("creationDate")?e:this.vars).creationDate,this.vars.audioContent=(this.dataLayerParamExists("audioContent")?e:this.vars).audioContent,this.vars.liveContent=this.dataLayerParamExists("liveContent")&&"boolean"==typeof e.liveContent?!0===e.liveContent?"1":"0":this.vars.liveContent,this.vars.videoContent=(this.dataLayerParamExists("videoContent")?e:this.vars).videoContent,this.vars.pageTitle=(this.dataLayerParamExists("pageTitle")?e:this.vars).pageTitle,this.vars.referringURL=(this.dataLayerParamExists("referringURL")?e:this.vars).referringURL,this.vars.siteID=this.dataLayerParamExists("siteID")?this.vars.siteID+"/"+e.siteID:this.vars.siteID,this.vars.pageName=this.dataLayerParamExists("pageName")?e.pageName:this.dataLayerParamExists("siteID")?this.vars.siteID+this.vars.destinationURL.replace(/[\?#].*?$/g,"").replace(/http.?:\/\/[^\/]*/,""):this.vars.pageName,this.vars.tags=this.dataLayerParamExists("tags")?e.tags:[],this.vars.author=this.dataLayerParamExists("author")?e.author:[],this.vars.pageID=document.location.href,this.vars.articleID=this.dataLayerParamExists("articleID")?e.articleID:""!=this.vars.articleID?this.vars.articleID:"articulo"==this.vars.pageType?DTM.utils.encoder.encode(this.vars.destinationURL.replace(/[\?#].*?$/g,"")):"",this.vars.geoRegion=(this.dataLayerParamExists("geoaRegion")?e:this.vars).geoRegion,this.vars.org=(this.dataLayerParamExists("org")?e:this.vars).org,this.vars.publisher=(this.dataLayerParamExists("publisher")?e:this.vars).publisher,this.vars.pageTypology=(this.dataLayerParamExists("pageTypology")?e:this.vars).pageTypology,this.vars.protocol=(this.dataLayerParamExists("protocol")?e:this.vars).protocol,this.vars.businessUnit=(this.dataLayerParamExists("businessUnit")?e:this.vars).businessUnit,this.vars.test=(this.dataLayerParamExists("test")?e:this.vars).test,this.vars.paywall={access:this.dataLayerParamExists("paywallAccess")?e.paywallAccess:this.vars.paywall.access,active:this.dataLayerParamExists("paywallActive")?e.paywallActive:this.vars.paywall.active,ad:this.dataLayerParamExists("paywallAd")?e.paywallAd:this.vars.paywall.ad,counter:this.dataLayerParamExists("paywallCounter")?e.paywallCounter:this.vars.paywall.counter,freePage:this.dataLayerParamExists("paywallFreePage")?e.paywallFreePage:this.vars.paywall.freePage,privateMode:(this.dataLayerParamExists("privateMode")?e:this.vars.paywall).privateMode,product:this.dataLayerParamExists("paywallProduct")?e.paywallProduct:this.vars.paywall.product,signwall:this.dataLayerParamExists("signwall")?e.signwall:this.dataLayerParamExists("paywall")?"reg"==e.paywall?"1":"0":this.vars.paywall.signwall,status:this.dataLayerParamExists("paywallStatus")?e.paywallStatus:this.vars.paywall.status})},generateDL:function(){switch(this.regExp.result_re4=this.regExp.seccion.exec(this.vars.direccion),this.regExp.result_re4&&(this.vars.seccion_omniture=this.regExp.result_re4[1]),"brasil"==this.vars.seccion_omniture&&(this.vars.domain="brasil.elpais.com"),this.vars.seccion_omniture){case"cartelera":this.cartelera();break;case"chinawatch":this.chinawatch();break;case"eskup":this.eskup();break;case"resultados":this.resultados();break;case"programacion-tv":this.programaciontv();break;case"servicios":this.servicios();break;default:this.regExp.result_re=this.regExp.noticia.exec(this.vars.direccion),this.regExp.result_re?this.articulo():(this.regExp.result_re5=this.regExp.seccionVirtual.exec(this.vars.direccion),this.regExp.result_re5?(this.vars.pageType="portada","brasil"==this.regExp.result_re5[1]?(this.vars.seccion=this.regExp.result_re5[2],this.vars.subseccion=this.regExp.result_re5[2]+">home"):(this.vars.seccion=this.regExp.result_re5[1],this.vars.subseccion=this.regExp.result_re5[1]+">"+this.regExp.result_re5[2]+">home")):-1<this.vars.direccion.indexOf("//elpais.com/especiales/")||-1<this.vars.direccion.indexOf("//elpais.com/promociones/")||-1<this.vars.direccion.indexOf("elpais.com/publi-especial/")||-1<this.vars.direccion.indexOf("elpais.com/concursos/")||-1<this.vars.direccion.indexOf("//www.elpais.com/especial")||-1<this.vars.direccion.indexOf("//elpais.com/suscripciones/especiales")||-1<this.vars.direccion.indexOf("//cat.elpais.com/especials/")||-1<this.vars.direccion.indexOf("//brasil.elpais.com/especiais/")||-1<this.vars.direccion.indexOf("//verne.elpais.com/especial/")?(this.regExp.result_re5=this.regExp.especiales.exec(this.vars.direccion),this.especiales()):(this.regExp.result_re6=this.regExp.diario.exec(this.vars.direccion),this.regExp.result_re6?this.diario():(this.regExp.result_re2=this.regExp.portadilla.exec(this.vars.direccion),this.regExp.result_re2?this.portadillas():(this.regExp.result_re3=this.regExp.portada.exec(this.vars.direccion),this.regExp.result_re3&&(this.regExp.result_re3[2]=this.regExp.result_re3[2].replace(/\?.*/,"")),!this.regExp.result_re3||0!=this.regExp.result_re3[2].indexOf("index.html")&&""!=this.regExp.result_re3[2]?"cincodias.elpais.com"==this.regExp.result_re3[1]&&""!=this.regExp.result_re3[2]?(this.vars.pageType="portada",this.vars.seccion="cincodias",this.vars.subseccion="cincodias>"+this.regExp.result_re3[2]+">home"):(this.vars.seccion="desconocido",this.vars.pageType="",this.vars.subseccion="desconocido>desconocido"):this.portada()),"elpais"==this.vars.seccion&&(this.vars.seccion=this.vars.seccion_omniture))))}-1<this.vars.direccion.indexOf("//retina.elpais.com")&&-1==this.vars.pageName.indexOf("elpaiscom/retina")&&(this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/retina")),-1<this.vars.direccion.indexOf("//cincodias.elpais.com")&&-1==this.vars.pageName.indexOf("elpaiscom/cincodias")&&(this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/cincodias")),"deportes"==this.vars.seccion&&(this.vars.thematic="deportes")},articulo:function(){if(this.vars.seccion=this.regExp.result_re[2],this.vars.seccion_omniture=this.regExp.result_re[2],this.vars.subseccion_omniture=this.regExp.result_re[6],this.vars.tituloarticulo=!0,this.vars.creationDate=this.regExp.result_re[3]+"/"+this.regExp.result_re[4]+"/"+this.regExp.result_re[5],-1<this.vars.subseccion_omniture.indexOf("album")||"fotorrelato"==this.vars.subseccion_omniture||"videos"==this.vars.subseccion_omniture||"media"==this.vars.subseccion_omniture){var e,t="videos"==this.vars.subseccion_omniture?"videos":"media"==this.vars.subseccion_omniture?"media":"fotografia";this.vars.pageType="videos"==this.vars.subseccion_omniture||"media"==this.vars.subseccion_omniture?"articulo":"fotogaleria",void 0!==window.subseccion_publi&&""!=window.subseccion_publi?"elpais"==this.vars.seccion_omniture?-1==window.subseccion_publi.indexOf("|")?(this.vars.seccion=window.subseccion_publi,this.vars.subseccion=this.vars.seccion+">"+t):(e=subseccion_publi.split("|"),this.vars.seccion=e[0],this.vars.subseccion=e[0]+">"+e[1]+">"+t):(this.vars.seccion=this.vars.seccion_omniture,"smartlife"==subseccion_publi||"tpymes"==subseccion_publi?(this.vars.subseccion=this.vars.seccion_omniture+">"+("tpymes"==subseccion_publi?"territorio_pyme":subseccion_publi),this.vars.subsubseccion=this.vars.subseccion+">"+t):this.vars.subseccion=this.vars.seccion_omniture+">"+t):(this.vars.seccion="elpais"==this.vars.seccion_omniture?t:this.vars.seccion_omniture,this.vars.subseccion=t)}else{if(this.vars.pageType="articulo",void 0!==window.PEPtipologia&&"blogs"==window.PEPtipologia)this.vars.seccion="blogs",this.vars.subseccion="blogs>"+this.vars.subseccion_omniture;else if("elpais"==this.vars.seccion_omniture||"brasil"==this.vars.seccion_omniture)this.vars.seccion_omniture=this.vars.subseccion_omniture,this.vars.subseccion_omniture="",this.vars.subseccion=this.vars.seccion_omniture;else{if(-1<this.vars.direccion.indexOf("cincodias.elpais.com"))switch(this.vars.subseccion_omniture){case"smartphones":case"tablets":case"smarttv":case"gadgets":case"pymes":case"motor":case"lifestyle":this.vars.subsubseccion=this.vars.seccion_omniture+">smartlife>"+this.vars.subseccion_omniture,this.vars.subseccion_omniture="smartlife";break;case"autonomos":case"pyme":case"emprendedores":case"franquicias":case"guias_pymes":case"financiacion":this.vars.subsubseccion=this.vars.seccion_omniture+">territorio_pyme>"+this.vars.subseccion_omniture,this.vars.subseccion_omniture="territorio_pyme"}this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture}"elpais"!=this.vars.seccion&&"brasil"!=this.vars.seccion||(this.vars.seccion=this.vars.seccion_omniture)}this.vars.articleID=this.regExp.result_re[7],DTM.events.vars.trackLinks="1"},cartelera:function(){this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/servicios/cartelera"),this.vars.pageType="servicios",-1!=this.vars.pageTitle.indexOf("página no encontrada")?(this.vars.seccion="error-404",this.vars.subseccion="error-404>cartelera"):(this.vars.seccion="servicios",this.vars.subseccion="servicios>cartelera")},chinawatch:function(){this.vars.seccion="chinawatch",this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/chinawatch"),-1!=this.vars.pageTitle.indexOf("page not found")?(this.vars.seccion="error-404",this.vars.subseccion="error-404>chinawatch",this.vars.pageType=""):(this.regExp.result_re=/^http.?:\/\/[^\/]*\/([^\/]+)\/([^\/]+)\/$/i.exec(this.vars.direccion))?(this.vars.subseccion=this.vars.seccion+">"+this.regExp.result_re[1],this.vars.pageType="articulo",this.vars.articleID=DTM.utils.encoder.encode(this.vars.direccion)):(this.regExp.result_re=/^http.?:\/\/[^\/]*\/([^\/]+)\/$/i.exec(this.vars.direccion))?(this.vars.subseccion=this.vars.seccion+">"+this.regExp.result_re[1]+">home",this.vars.pageType="portada"):(this.regExp.result_re=/^http.?:\/\/([^\/]*)\/?$/i.exec(this.vars.direccion))?(this.vars.subseccion=this.vars.seccion+">home",this.vars.pageType="portada"):this.vars.subseccion=this.vars.seccion+">desconocido"},diario:function(){this.vars.seccion="diario",this.vars.seccion_omniture="diario",this.vars.pageType="portada",""==this.regExp.result_re6[5]?this.vars.subseccion_omniture="primera":this.vars.subseccion_omniture=this.regExp.result_re6[5],this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture},eskup:function(){this.vars.seccion="eskup",this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/eskup"),-1!=this.vars.pageName.indexOf("404.html")?(this.vars.pageType="eskup",this.vars.seccion="error-404",this.vars.subseccion="error-404>eskup"):(this.regExp.result_re3=this.regExp.portada.exec(this.vars.direccion),this.regExp.result_re3&&(0==this.regExp.result_re3[2].indexOf("*")?(this.vars.pageType="eskup",this.vars.subseccion_omniture=this.regExp.result_re3[2].substr(1),this.vars.subseccion=this.vars.seccion_omniture+">temas"):-1<this.regExp.result_re3[2].indexOf("-")?(this.vars.pageType="eskup",this.vars.subseccion=this.vars.seccion_omniture+">enlaces"):-1==this.regExp.result_re3[2].indexOf(".html")&&-1==this.regExp.result_re3[2].indexOf(".pl")?(this.vars.pageType="eskup",this.vars.subseccion_omniture=this.regExp.result_re3[2].replace(/\/.*/,""),this.vars.subseccion=this.vars.seccion_omniture+">usuarios"):"http://eskup.elpais.com/index.html"==this.vars.direccion||"https://eskup.elpais.com/index.html"==this.vars.direccion?(this.vars.pageType="eskup",this.vars.subseccion=this.vars.seccion_omniture+">home"):("http://eskup.elpais.com/todos.html"==this.vars.direccion||"https://eskup.elpais.com/todos.html"==this.vars.direccion?(this.vars.pageType="eskup",this.vars.subseccion_omniture="todos"):(this.vars.pageType="eskup",this.vars.subseccion_omniture="desconocido"),this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture)))},especiales:function(){this.regExp.result_re5?(-1<this.vars.direccion.indexOf("//cat.elpais.com/especials/")?(this.vars.seccion="cat",this.vars.seccion_omniture="especiales"):(this.vars.seccion=this.regExp.result_re5[1],this.vars.seccion_omniture=this.regExp.result_re5[1]),this.vars.subseccion=this.vars.seccion_omniture+">"+this.regExp.result_re5[3]+"_"+this.regExp.result_re5[2],this.vars.pageType="especiales"):(this.regExp.result_re6=this.regExp.especialesPortadas.exec(this.vars.direccion),this.regExp.result_re6?(-1<this.vars.direccion.indexOf("//cat.elpais.com/especials/")?(this.vars.seccion="cat",this.vars.seccion_omniture="especiales"):(this.vars.seccion=this.regExp.result_re6[2],this.vars.seccion_omniture=this.regExp.result_re6[2]),this.vars.subseccion=this.vars.seccion_omniture+">"+this.regExp.result_re6[3],this.vars.pageType="portada"):"http://elpais.com/especiales/"==this.vars.direccion||"https://elpais.com/especiales/"==this.vars.direccion?(this.vars.seccion="especiales",this.vars.seccion_omniture="especiales",this.vars.subseccion=this.vars.seccion_omniture+">home",this.vars.pageType="portada"):"http://elpais.com/promociones/"==this.vars.direccion||"https://elpais.com/promociones/"==this.vars.direccion?(this.vars.seccion="promociones",this.vars.seccion_omniture="promociones",this.vars.subseccion=this.vars.seccion_omniture+">home",this.vars.pageType="portada"):(this.vars.seccion="especiales",this.vars.seccion_omniture="especiales",this.vars.subseccion=this.vars.seccion_omniture+">desconocido",this.vars.pageType="")),-1<this.vars.direccion.indexOf("//verne.elpais.com/especial/")&&(this.vars.seccion="verne",this.vars.seccion_omniture="verne",this.vars.subseccion="verne>"+this.vars.subseccion)},multidistribution:{init:function(){this.amp(),this.ia(),this.mobileWeb(),this.widget()},amp:function(){var e;void 0!==DTM.config.isAMP&&!0===DTM.config.isAMP&&(e={pageURL:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("pageURL",location.href)),server:DTM.utils.getQueryParam("server",location.href),ampdocHostname:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("ampdocHostname",location.href)),referringURL:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("r",location.href)),pageTitle:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("pageTitle",location.href)),pageTypology:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("pageTypology",location.href)),tags:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("tags",location.href)),tagsNames:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("tagsNames",location.href)),authors:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("authors",location.href)),authorsNames:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("authorsNames",location.href)),subseccion_publi:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("subseccion_publi",location.href)),tipologia:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("tipologia",location.href)),omniture_info:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("omniture_info",location.href)),pageDataLayer:DTM.utils.decodeURIComponent(DTM.utils.getQueryParam("pageDataLayer",location.href))},DTM.dataLayer.vars.sysEnv="amp",DTM.dataLayer.vars.platform=DTM.PLATFORM.AMP,DTM.dataLayer.vars.canonicalURL=""!=e.pageURL?e.pageURL:document.location.href,DTM.dataLayer.vars.destinationURL=""!=e.pageURL?e.pageURL:document.location.href,DTM.dataLayer.vars.direccion=(""!=e.pageURL?e.pageURL:document.location.href).replace(/[\?#].*?$/g,""),DTM.dataLayer.vars.pageName=DTM.dataLayer.vars.siteID+DTM.dataLayer.vars.direccion.replace(/http.?:\/\/[^\/]*/,""),DTM.dataLayer.vars.server=e.server||window.location.host,DTM.dataLayer.vars.serverAMP=""!=e.ampdocHostname?e.ampdocHostname:"",DTM.dataLayer.vars.referringURL=""!=e.referringURL?e.referringURL:document.referrer,DTM.dataLayer.vars.pageTitle=""!=e.pageTitle?e.pageTitle:"",DTM.dataLayer.vars.pageTypology=""!=e.pageTypology?e.pageTypology:"",window.listado_id_tags=""!=e.tags?e.tags:void 0,window.listado_norm_tags=""!=e.tagsNames?e.tagsNames:void 0,window.listado_id_autores=""!=e.authors?e.authors:void 0,window.listado_norm_autores=""!=e.authorsNames?e.authorsNames:void 0,window.subseccion_publi=""!=e.subseccion_publi?e.subseccion_publi:void 0,window.PEPtipologia=""!=e.tipologia?e.tipologia:void 0,window.omniture_info=""!=e.omniture_info?JSON.parse(e.omniture_info.replace(/\'/g,'"')):void 0,DTM.pageDataLayer=e.pageDataLayer?JSON.parse(e.pageDataLayer.replace(/\'/g,'"')):void 0)},ia:function(){void 0!==window.ia_document&&(DTM.dataLayer.vars.referringURL="https://www.facebook.com/",DTM.dataLayer.vars.sysEnv="multi ia",DTM.dataLayer.vars.platform=DTM.PLATFORM.FBIA,DTM.dataLayer.vars.pageTitle=window.ia_document.title,DTM.dataLayer.vars.canonicalURL=DTM.dataLayer.vars.direccion)},mobileWeb:function(){DTM.dataLayer.regExp.result_re=DTM.dataLayer.regExp.moviles.exec(DTM.dataLayer.vars.direccion),DTM.dataLayer.regExp.result_re&&(DTM.dataLayer.vars.sysEnv="web_movil",DTM.dataLayer.vars.platform=DTM.PLATFORM.MOBILEWEB,DTM.dataLayer.vars.direccion=DTM.dataLayer.regExp.result_re[1]+"/"+DTM.dataLayer.regExp.result_re[2])},widget:function(){void 0!==DTM.config.isWidget?DTM.config.isWidget&&(DTM.dataLayer.vars.platform=DTM.PLATFORM.WIDGET):(-1<document.location.href.indexOf("/Comentarios/")||-1<document.location.href.indexOf("/widgets/")||-1<document.location.href.indexOf("/Widgets/")||-1<document.location.href.indexOf("widget.html"))&&(DTM.dataLayer.vars.platform=DTM.PLATFORM.WIDGET)}},portada:function(){this.vars.pageType="portada",this.vars.seccion_omniture=this.regExp.result_re3[1].replace(/elpais\.com/,""),""==this.vars.seccion_omniture||"brasil.elpais.com"==this.regExp.result_re3[1]?(this.vars.subseccion="home",this.vars.seccion="home"):(this.vars.seccion=this.vars.seccion_omniture.substring(0,this.vars.seccion_omniture.length-1),this.vars.subseccion=this.vars.seccion+">home",this.vars.pageName="elpaiscom/"+this.vars.seccion)},portadillas:function(){var e;this.vars.seccion=this.regExp.result_re2[2],this.vars.seccion_omniture=this.regExp.result_re2[2],0==this.regExp.result_re2[3].indexOf("index.html")||""==this.regExp.result_re2[3]?(-1<this.vars.direccion.indexOf("//cincodias.elpais.com")?(this.vars.seccion="cincodias",this.vars.subseccion="cincodias>"+this.vars.seccion_omniture+">home"):"verne.elpais.com"==this.vars.server&&"mx"==this.vars.seccion?(this.vars.seccion="verne",this.vars.subseccion="verne>mexico>home",this.vars.pageName=this.vars.pageName.replace(/elpaiscom/,"elpaiscom/verne")):this.vars.subseccion=this.vars.seccion_omniture+">home",this.vars.pageType="portada","buscador"==this.regExp.result_re2[2]&&(this.vars.search="1")):-1==this.regExp.result_re2[3].indexOf("/")?(this.vars.subseccion_omniture=this.regExp.result_re2[3].replace(/\.html.*/,""),this.vars.pageType="portada",-1<this.vars.direccion.indexOf("//cincodias.elpais.com")?(this.vars.seccion="cincodias",this.vars.subseccion="cincodias>"+this.regExp.result_re2[2]+">home"):("elpais"==this.vars.seccion_omniture&&(this.vars.seccion_omniture=this.vars.subseccion_omniture,this.vars.subseccion_omniture=""),this.vars.subseccion=""!=this.vars.subseccion_omniture?this.vars.seccion_omniture+">"+this.vars.subseccion_omniture:this.vars.seccion_omniture+">home")):"tag"==this.regExp.result_re2[2]||"autor"==this.regExp.result_re2[2]||"agr"==this.regExp.result_re2[2]||"r"==this.regExp.result_re2[2]?0==this.regExp.result_re2[3].indexOf("listado")?(this.vars.pageType="portada",this.vars.subseccion="tag>listado"):void 0!==window.PEPtipologia&&"blogs"==window.PEPtipologia?(this.vars.seccion="blogs",this.vars.pageType="portada",this.vars.subseccion="blogs>"+this.regExp.result_re2[3].replace(/\/\w\/?.*?$/,"")):(e=this.regExp.result_re2[3],"r"==this.regExp.result_re2[2]&&(this.regExp.result_re7=this.regExp.tagRamas.exec(e),this.regExp.result_re7&&(this.vars.seccion=this.regExp.result_re7[1],e=e.replace(this.regExp.result_re7[1]+"/"+this.regExp.result_re7[2]+"/",""),this.regExp.result_re2[2]=this.regExp.result_re7[2],e=e.replace(/\/$/,""))),this.regExp.result_re6=this.regExp.tag.exec(e),this.vars.subseccion_omniture=this.regExp.result_re6?this.regExp.result_re6[1]+"_"+this.regExp.result_re6[2]:e,"elviajero.elpais.com"==this.regExp.result_re2[1]||"elcomidista.elpais.com"==this.regExp.result_re2[1]?(this.vars.seccion=this.regExp.result_re2[1].replace(".elpais.com",""),this.vars.subseccion=this.vars.seccion+">"+this.regExp.result_re2[2]+">"+this.vars.subseccion_omniture):this.regExp.result_re7?this.vars.subseccion=this.vars.seccion+">"+this.regExp.result_re2[2]+">"+this.vars.subseccion_omniture:this.vars.subseccion=this.regExp.result_re2[2]+">"+this.vars.subseccion_omniture,this.vars.pageType="portada"):-1<this.regExp.result_re2[3].indexOf("/")&&-1<this.vars.direccion.indexOf("//cincodias.elpais.com")?(this.vars.seccion="cincodias",this.vars.pageType="portada",this.vars.subseccion=this.vars.seccion+">"+this.regExp.result_re2[2],"herramientas"==this.regExp.result_re2[2]&&void 0!==this.regExp.result_re2[3]&&""!=this.regExp.result_re2[3]&&"/"!=this.regExp.result_re2[3]&&(this.vars.articleID=DTM.utils.encoder.encode(this.vars.direccion))):"elviajero"==this.regExp.result_re2[2]&&-1<this.regExp.result_re2[3].indexOf("destinos/")?(this.vars.seccion="elviajero",this.vars.pageType="portada",this.vars.subseccion="elviajero>destinos"):"hemeroteca"==this.regExp.result_re2[2]?(this.vars.seccion="hemeroteca",this.vars.subseccion="hemeroteca",this.vars.pageType="hemeroteca",(e=/([^\/]*)\/((portadas)(\/))?(\d+)\/(.*)/.exec(this.regExp.result_re2[3]))&&(this.vars.subseccion="hemeroteca>"+e[5],this.vars.subsubseccion=this.vars.subseccion+">"+e[1])):(this.vars.pageType="",this.vars.subseccion=this.vars.seccion_omniture+">desconocido")},programaciontv:function(){this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/servicios/programacion-tv"),this.vars.seccion="servicios",this.vars.pageType="servicios",this.vars.subseccion="servicios>programacion-tv"},resultados:function(){this.vars.seccion="resultados",this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/resultados"),this.vars.pageType="resultados",this.regExp.result_re=this.regExp.elecciones.exec(this.vars.direccion),this.regExp.result_re?(this.vars.seccion_omniture="elecciones",this.vars.subseccion_omniture=this.regExp.result_re[3]+"_"+this.regExp.result_re[2],this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture):(this.regExp.result_re2=this.regExp.eleccionesPortadas.exec(this.vars.direccion),this.regExp.result_re2?(this.vars.seccion_omniture="elecciones",this.vars.subseccion_omniture=this.regExp.result_re2[2],this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture):(this.regExp.result_re3=this.regExp.eleccionesHome.exec(this.vars.direccion),this.regExp.result_re3?(this.vars.seccion_omniture="elecciones",this.vars.subseccion_omniture=this.regExp.result_re3[2],this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture,this.vars.subsubseccion=this.vars.subseccion+">home"):(this.regExp.result_re4=/^http.?:\/\/[^\/]*\/([^\/]+)\/([^\/]+)\//i.exec(this.vars.direccion),this.regExp.result_re4?(this.vars.seccion_omniture=this.regExp.result_re4[1],this.vars.subseccion_omniture=this.regExp.result_re4[2]):this.vars.subseccion_omniture="desconocido",this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture)))},servicios:function(){this.vars.seccion="servicios",this.vars.pageName=this.vars.pageName.replace("elpaiscom","elpaiscom/servicios"),this.regExp.result_re=this.regExp.portadilla.exec(this.vars.direccion),this.vars.pageType="servicios",this.regExp.result_re?(this.vars.subseccion=this.vars.seccion_omniture+">"+this.regExp.result_re[2],"diccionarios"==this.regExp.result_re[2]&&""!=this.regExp.result_re[3]&&"index.html"!=this.regExp.result_re[3]?(this.vars.pageName="elpaiscom/servicios/diccionarios/buscador",this.vars.search="1",this.vars.search_keyword="diccionario:"+this.regExp.result_re[3].replace(/\//,">")):"sorteos"==this.regExp.result_re[2]&&""!=this.regExp.result_re[3]&&"index.html"!=this.regExp.result_re[3]&&(this.regExp.resultSo=this.regExp.sorteos.exec(this.regExp.result_re[3]),this.regExp.resultSo&&(this.vars.subseccion+=">"+this.regExp.resultSo[1]))):"http://servicios.elpais.com/"==this.vars.direccion||"https://servicios.elpais.com/"==this.vars.direccion?this.vars.subseccion=this.vars.seccion_omniture+">home":(this.vars.pageType="",this.vars.subseccion_omniture="desconocido",this.vars.subseccion=this.vars.seccion_omniture+">"+this.vars.subseccion_omniture)},arrayTags:function(){if("undefined"==typeof listado_norm_tags||"undefined"==typeof listado_id_tags)return[];var e=[],t=listado_id_tags.split(","),a=listado_norm_tags.split(",");if(t.length!=a.length)return[];for(var s=0;s<t.length;s++)e.push({id:t[s],name:a[s]});return e},arrayAuthors:function(){if("undefined"==typeof listado_norm_autores||"undefined"==typeof listado_id_autores)return[];var e=[],t=listado_id_autores.split(","),a=listado_norm_autores.split(",");if(t.length!=a.length)return[];for(var s=0;s<t.length;s++)e.push({id:t[s],name:a[s]});return e},dataLayerParamExists:function(e){return"undefined"!=typeof DTM&&void 0!==DTM.pageDataLayer&&(void 0!==DTM.pageDataLayer[e]||"string"==typeof DTM.pageDataLayer[e]&&""==DTM.pageDataLayer[e])},getCampaign:function(){var e,t="",a="",s="";_satellite.getVar("platform")==DTM.PLATFORM.AMP?""!=(e=DTM.utils.getQueryParam("ampdocUrl",location.href))&&(s=e):_satellite.getVar("platform")==DTM.PLATFORM.FBIA&&"undefined"!=typeof ia_document&&void 0!==ia_document.shareURL&&(s=ia_document.shareURL);for(var i,r=0,n=this.vars.trackingCodes.length;r<n;r++){var o=DTM.utils.getQueryParam(this.vars.trackingCodes[r],s);""!=o&&(t=o,a=this.vars.trackingCodes[r])}return"id_externo_rsoc"==a||"ssm"==a?t=""!=(i=""==(i=DTM.utils.getQueryParam("id_externo_ads"))?DTM.utils.getQueryParam("ads"):i)?t+"-"+i:t:"prm"==a?t=""!=(i=DTM.utils.getQueryParam("csl"))?t+"_"+i:t:"cid"==a&&(t=DTM.utils.encoder.decode(DTM.utils.decodeURIComponent(t))),t},getCanonical:function(){var e="";if("undefined"!=typeof document&&"function"==typeof document.querySelector)e=null!=(e=document.querySelector("link[rel='canonical']"))?e.href:"";else for(var t=document.getElementsByTagName("link"),a=0,s=t.length;a<s&&""==e;a++)"canonical"===t[a].getAttribute("rel")&&(e=t[a].getAttribute("href"));return e},getCMS:function(e){if(void 0===e||""==e)return"not-set";var t={"elpais.com":"pep","brasil.elpais.com":"pep","cincodias.elpais.com":"pep","verne.elpais.com":"pep","elcomidista.elpais.com":"pep","elviajero.elpais.com":"pep","retina.elpais.com":"pep","cat.elpais.com":"pep","resultados.elpais.com":"pep","smoda.elpais.com":"wp","motor.elpais.com":"wp","fichasyprecios.motor.elpais.com":"wp","servicios.motor.elpais.com":"wp","chinawatch.elpais.com":"wp","juegos.elpais.com":"wp","escuela.elpais.com":"wp"};return t.hasOwnProperty(e)?t[e]:"otros"},getDeviceType:function(){var e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},getUrlParams:function(){var e,t=this.vars.destinationURL;return this.vars.platform==DTM.PLATFORM.AMP?""!=(e=DTM.utils.getQueryParam("ampdocUrl",location.href))&&(t=e):this.vars.platform==DTM.PLATFORM.FBIA&&"undefined"!=typeof ia_document&&void 0!==ia_document.shareURL&&(t=ia_document.shareURL),DTM.utils.getQueryParam("",t)},getUserInfo:function(){var t="",a="",s="",i=DTM.utils.getCookie("eptz");window.setTimeout(function(){var e;void 0!==window.PRISA?null!=(e=PRISA.user.getData())&&(t=e.uid,null!=e.nickname?(a="1",s=e.nickname):a="0"):(void 0!==window.PEPuidEnv&&void 0===window.PEPuid&&(window.cookieEnabled=!!navigator.cookieEnabled,void 0!==navigator.cookieEnabled||window.cookieEnabled||(document.cookie="testcookie",cookieEnabled=-1!=document.cookie.indexOf("testcookie")),window.cookieEnabled&&(window.PEPuid=window.PEPuidEnv)),void 0!==window.PEPuid&&(t=window.PEPuid),void 0!==window.PEPuname?(a="1",s=window.PEPuname):a="0"),DTM.dataLayer.setParam("user.profileID",""!=t?t:"not-set"),DTM.dataLayer.setParam("user.registeredUser",""!=t?a:"not-set"),DTM.dataLayer.setParam("user.userName",s),DTM.dataLayer.setParam("user.country",i?i.toLowerCase():""),_satellite.getVar("platform")!=DTM.PLATFORM.WEB&&_satellite.getVar("platform")!=DTM.PLATFORM.FBIA||!0===DTM.paywallActive||DTM.dataLayer.setPaywallInfo(),_satellite.getVar("platform")==DTM.PLATFORM.AMP&&DTM.dataLayer.setPaywallInfoAMP(),DTM.notify("User info received from user.js lib"),DTM.utils.dispatchEvent("DTMUserInfoCompleted"),DTM.userInfoCompleted=!0},500)},getUserType:function(){if("not-set"==_satellite.getVar("userType")){var e="not-set",t="not-set",a="not-set",s=[];try{"undefined"!=typeof EP&&void 0!==EP.user&&(e=!0===EP.user.getData().product?"suscriptor":"0"==_satellite.getVar("registeredUser")?"anonimo":"1"==_satellite.getVar("registeredUser")?"registrado":"not-set");var i={629:{sku:"IDPPAR0001",access:"elpais.com"},630:{sku:"IMGPAR0004",access:"elpais.com"},631:{sku:"IDPPAR0003",access:"elpais.com"},719:{sku:"IDPPAR0002",access:"elpais.com"},720:{sku:"IMGPAR0005",access:"elpais.com"},721:{sku:"CDPEMR0006",access:"elpais.com"},733:{sku:"CDGEMP0008",access:"elpais.com"},739:{sku:"IDGPAR0019",access:"elpais.com"},740:{sku:"IDPPAR0009",access:"elpais.com"},741:{sku:"IDGEMR0011",access:"elpais.com"},742:{sku:"CDGCOR0012",access:"elpais.com"},743:{sku:"CDGCOR0013",access:"elpais.com"},744:{sku:"CDGDEM0014",access:"elpais.com"},745:{sku:"CDGDEM0015",access:"elpais.com"},746:{sku:"CDGDEM0017",access:"elpais.com"},747:{sku:"CDGDEM0016",access:"elpais.com"},748:{sku:"CDGVIP0018",access:"elpais.com"},749:{sku:"IDPEMP0022",access:"elpais.com"},750:{sku:"CDGPAR0021",access:"elpais.com"},751:{sku:"CDGEMP0023",access:"elpais.com"},754:{sku:"IDPPAR0024",access:"elpais.com"},755:{sku:"CDPEMR0025",access:"elpais.com"},756:{sku:"CDPEMR0026",access:"elpais.com"},757:{sku:"CDGDEM0027",access:"elpais.com"},758:{sku:"CDPEMR0029",access:"elpais.com"},759:{sku:"CDPEMR0030",access:"elpais.com"},760:{sku:"CDPEMR0031",access:"elpais.com"},761:{sku:"CDPEMR0032",access:"elpais.com"},762:{sku:"CDPEMR0034",access:"elpais.com"},763:{sku:"CDPEMR0035",access:"elpais.com"},764:{sku:"CDPEMR0036",access:"elpais.com"},765:{sku:"CDPEMR0037",access:"elpais.com"},766:{sku:"CDPEMR0033",access:"elpais.com"},767:{sku:"CDPEMR0038",access:"elpais.com"},768:{sku:"CDPEMR0039",access:"elpais.com"},769:{sku:"IDPEMP0044",access:"elpais.com"},770:{sku:"CDPEMR0040",access:"elpais.com"},771:{sku:"CDPEMR0041",access:"elpais.com"},772:{sku:"CDPEMR0049",access:"elpais.com"},773:{sku:"CDPEMR0042",access:"elpais.com"},774:{sku:"CDPEMR0043",access:"elpais.com"},775:{sku:"CDPEMR0045",access:"elpais.com"},776:{sku:"CDPEMR0046",access:"elpais.com"},777:{sku:"CDPEMR0047",access:"elpais.com"},778:{sku:"CDPOGP0059",access:"elpais.com"},779:{sku:"CDPEMR0048",access:"elpais.com"},782:{sku:"CDPEMR0050",access:"elpais.com"},783:{sku:"CDPEMR0053",access:"elpais.com"},784:{sku:"CDPEMR0051",access:"elpais.com"},785:{sku:"CDPEMR0062",access:"elpais.com"},786:{sku:"CDPEMR0052",access:"elpais.com"},787:{sku:"CDPEMR0063",access:"elpais.com"},788:{sku:"CDPEMR0057",access:"elpais.com"},789:{sku:"CDGEMR0069",access:"elpais.com"},791:{sku:"CDPEMR0064",access:"elpais.com"},795:{sku:"IDGCOR0071",access:"elpais.com"},796:{sku:"CDPEMR0065",access:"elpais.com"},797:{sku:"CDPEMR0072",access:"elpais.com"},805:{sku:"CDPEMR0073",access:"elpais.com"},806:{sku:"CDPEMR0083",access:"elpais.com"},807:{sku:"CDPEMR0075",access:"elpais.com"},808:{sku:"CDPEMR0077",access:"elpais.com"},809:{sku:"CDPEMR0074",access:"elpais.com"},810:{sku:"CDPEMR0076",access:"elpais.com"},811:{sku:"CDPEMR0082",access:"elpais.com"},812:{sku:"CDPEMR0055",access:"elpais.com"},813:{sku:"CDPEMR0078",access:"elpais.com"},815:{sku:"CDPEMR0080",access:"elpais.com"},816:{sku:"CDPEMR0096",access:"elpais.com"},817:{sku:"IDPPAR0095",access:"elpais.com"},818:{sku:"CDPEMR0097",access:"elpais.com"},819:{sku:"CDPEMR0084",access:"elpais.com"},820:{sku:"IDPPAR0099",access:"elpais.com"},821:{sku:"IDPPAR0098",access:"elpais.com"},822:{sku:"CDPEMR0100",access:"elpais.com"},823:{sku:"CDPEMR0079",access:"elpais.com"},824:{sku:"CDPEMR0101",access:"elpais.com"},833:{sku:"CDPEMR0102",access:"elpais.com"},834:{sku:"CDPOGP0070",access:"elpais.com"},835:{sku:"IDPPAR0105",access:"elpais.com"},836:{sku:"XDPPAR0106",access:"brasil.elpais.com"},848:{sku:"CDPEMRE0111",access:"elpais.com"},852:{sku:"CDPEMR0087",access:"elpais.com"},854:{sku:"CDPEMR0085",access:"elpais.com"},855:{sku:"IDPPAR0104",access:"elpais.com"},856:{sku:"XDPPAR0105",access:"elpais.com"},858:{sku:"IDPPARB0114",access:"brasil.elpais.com"},859:{sku:"IDPPARB0113",access:"brasil.elpais.com"},860:{sku:"IDPPARB0112",access:"brasil.elpais.com"},863:{sku:"CDPEMR0090",access:"elpais.com"},864:{sku:"CDPEMRE0119",access:"elpais.com"},865:{sku:"CDPEMPE0120",access:"elpais.com"},866:{sku:"CDPEMRE0122",access:"elpais.com"},867:{sku:"CDPEMRE0116",access:"elpais.com"},869:{sku:"CDPOGPE0108",access:"elpais.com"},870:{sku:"CDPEMRE0123",access:"elpais.com"},871:{sku:"CDGEMPE0124",access:"elpais.com"},874:{sku:"IDPPARA0125",access:"elpais.com"},875:{sku:"CDPEMR0054",access:"elpais.com"},876:{sku:"CDPEMR0056",access:"elpais.com"},877:{sku:"CDPEMR0058",access:"elpais.com"},878:{sku:"CDPEMR0061",access:"elpais.com"},879:{sku:"CDPEMR0066",access:"elpais.com"},880:{sku:"CDPEMR0067",access:"elpais.com"},881:{sku:"CDPEMR0068",access:"elpais.com"},883:{sku:"CDPEMR0081",access:"elpais.com"},884:{sku:"CDPEMR0094",access:"elpais.com"},885:{sku:"CDPEMR0086",access:"elpais.com"},886:{sku:"CDPOGPE0110",access:"elpais.com"},887:{sku:"CDPEMRE0109",access:"elpais.com"},888:{sku:"CDPOGPE0121",access:"elpais.com"},889:{sku:"IDPPARA0126",access:"elpais.com"},890:{sku:"CDPOGPE0128",access:"elpais.com"},891:{sku:"CDPEMRE0129",access:"elpais.com"},892:{sku:"CDPEMRE0130",access:"elpais.com"},893:{sku:"CDPEMRE0131",access:"elpais.com"},894:{sku:"CDPEMRE0132",access:"elpais.com"},895:{sku:"CDPEMRE0133",access:"elpais.com"},896:{sku:"CDPEMRE0146",access:"elpais.com"},897:{sku:"CDPEMRE0136",access:"elpais.com"},898:{sku:"CDPEMRE0135",access:"elpais.com"},899:{sku:"CDPEMRE0134",access:"elpais.com"},900:{sku:"CDPEMRE0151",access:"elpais.com"},905:{sku:"IDPPARE0156",access:"elpais.com"},913:{sku:"CDPEMREN0157",access:"elpais.com"},914:{sku:"IDGPAREN0158",access:"elpais.com"},915:{sku:"IDPPAREN0159",access:"elpais.com"},922:{sku:"IDPPAREN0160",access:"elpais.com"},924:{sku:"IDPPARAN0161",access:"elpais.com"},925:{sku:"CDPEMREN0162",access:"elpais.com"},926:{sku:"IDPPAREN0163",access:"elpais.com"},927:{sku:"IDPPARAN0165",access:"elpais.com"},928:{sku:"IDPPAR0103",access:"elpais.com"},929:{sku:"IDPPARB0117",access:"brasil.elpais.com"},930:{sku:"IDPPARBN0164",access:"brasil.elpais.com"},932:{sku:"CDPEMREN0166",access:"elpais.com"},935:{sku:"CDPEMREN0168",access:"elpais.com"},936:{sku:"IDPPAREN0170",access:"elpais.com"},937:{sku:"IDPPAREN0172",access:"elpais.com"},941:{sku:"IDPPARAN0174",access:"elpais.com"},942:{sku:"IDPPAREN0175",access:"elpais.com"},943:{sku:"IDPPARAN0177",access:"elpais.com"},944:{sku:"IDPPARBN0173",access:"brasil.elpais.com"},945:{sku:"IDPPARBN0176",access:"brasil.elpais.com"},946:{sku:"IDPPAREN0178",access:"elpais.com"},947:{sku:"IDPPARAN0180",access:"elpais.com"},948:{sku:"IDPPARBN0179",access:"brasil.elpais.com"},949:{sku:"CDPEMREN0181",access:"elpais.com"},951:{sku:"IDPPAREN0191",access:"elpais.com"},952:{sku:"IDPPAREN0182",access:"elpais.com"},953:{sku:"IDPPAREN0183",access:"elpais.com"},954:{sku:"IDPPAREN0184",access:"elpais.com"},955:{sku:"IDPPARAN0185",access:"elpais.com"},956:{sku:"IDPPARAN0186",access:"elpais.com"},957:{sku:"IDPPARAN0187",access:"elpais.com"},958:{sku:"IDPPARBN0188",access:"brasil.elpais.com"},959:{sku:"IDPPARBN0189",access:"brasil.elpais.com"},960:{sku:"IDPPARBN0190",access:"brasil.elpais.com"},963:{sku:"IDPPARBN0192",access:"brasil.elpais.com"},964:{sku:"IDPPAREN0193",access:"elpais.com"},965:{sku:"IDGPAREN0194",access:"elpais.com"},970:{sku:"IDPPAREN0200",access:"elpais.com"}},r=DTM.utils.getCookie("uid_ns");if(null!=r){var r=r.substr(7).split("#"),n=!1;if(2<r.length)for(var o=r[2].split(":"),c=0,l=o.length;c<l;c++){var p,d=/([0-9]*)\|([0-9]*)/gi.exec(o[c]);null==d||1<(p=d[1]).length&&i.hasOwnProperty(p)&&(new Date).getTime()<1e3*d[2]&&(s.push(i[p].sku),n||i[p].access!=_satellite.getVar("paywall:access")||(n=!0,t="suscriptor"))}n||(t="0"==_satellite.getVar("registeredUser")?"anonimo":"1"==_satellite.getVar("registeredUser")?"registrado":"not-set")}a="not-set"==e&&"not-set"==t?"0"==_satellite.getVar("registeredUser")?"anonimo":"not-set":"not-set"==t?e:t,DTM.dataLayer.setParam("user.userType",a),0<s.length&&(this.vars.cookiePaywallProduct=s.join(","))}catch(e){DTM.notify("Error al calcular el userType"),DTM.dataLayer.setParam("user.userType","not-set")}}},internalSearch:function(){"1"==this.vars.search&&(void 0!==window.texto_busqueda&&""!=window.texto_busqueda&&(this.vars.search_keyword=window.texto_busqueda),void 0!==window.contador_busqueda&&0<=parseInt(window.contador_busqueda)&&(this.vars.search_results=window.contador_busqueda)),this.setParam("page.pageInfo.onsiteSearch",this.vars.search),this.setParam("page.pageInfo.onsiteSearchTerm",this.vars.search_keyword),this.setParam("page.pageInfo.onsiteSearchResults",this.vars.search_results)},isBrandedContent:function(){var e=JSON.stringify(_satellite.getVar("tags"));return-1!=e.indexOf('"192925"')||-1!=e.indexOf('"197500"')||-1!=e.indexOf('"197760"')||-1!=e.indexOf('"branded_content')?"1":"0"},paramExists:function(e){if("string"!=typeof e)return!1;var t=e.split("."),a=t.length,s=window.digitalData[t[0]];if(void 0===s)return!1;if(1<a){for(var i=1;i<a;i++)if(void 0===(s=s[t[i]]))return!1;return!0}return!0},setParam:function(e,t){if(!this.paramExists(e)||"string"!=typeof e||void 0===t)return!1;var a=e.split(".");switch(a.length){case 1:digitalData[a[0]]=t;break;case 2:digitalData[a[0]][a[1]]=t;break;case 3:digitalData[a[0]][a[1]][a[2]]=t;break;default:return!1}},getPaywallProduct:function(){"not-set"==_satellite.getVar("paywall:product")?!1!==this.vars.cookiePaywallProduct?DTM.dataLayer.setParam("paywall.product",this.vars.cookiePaywallProduct):"undefined"!=typeof ArcP&&void 0!==ArcP._facts&&void 0!==ArcP._facts.sub&&void 0!==ArcP._facts.sub.p&&(0<ArcP._facts.sub.p.length&&"suscriptor"==_satellite.getVar("userType")?DTM.dataLayer.setParam("paywall.product",ArcP._facts.sub.p.join(",")):"suscriptor"==_satellite.getVar("userType")?DTM.dataLayer.setParam("paywall.product","not-set"):DTM.dataLayer.setParam("paywall.product","no-suscriptor")):0!=this.vars.cookiePaywallProduct&&_satellite.getVar("paywall:product")!=this.vars.cookiePaywallProduct&&DTM.dataLayer.setParam("paywall.product",this.vars.cookiePaywallProduct),("0"==_satellite.getVar("registeredUser")||"registrado"==_satellite.getVar("userType")&&"not-set"==_satellite.getVar("paywall:product"))&&DTM.dataLayer.setParam("paywall.product","no-suscriptor")},setPaywallInfo:function(e){if(void 0===e&&(e={}),"not-set"==_satellite.getVar("paywall:access"))switch(_satellite.getVar("server")){case"brasil.elpais.com":case"english.elpais.com":DTM.dataLayer.setParam("paywall.access",_satellite.getVar("server"));break;default:DTM.dataLayer.setParam("paywall.access","elpais.com")}var t;_satellite.getVar("platform")!=DTM.PLATFORM.WEB&&_satellite.getVar("platform")!=DTM.PLATFORM.FBIA||DTM.dataLayer.getUserType(),DTM.dataLayer.getPaywallProduct(),"not-set"==_satellite.getVar("paywall:privateMode")&&"undefined"!=typeof ArcP&&void 0!==ArcP._facts&&void 0!==ArcP._facts.pm&&DTM.dataLayer.setParam("paywall.privateMode",!0===ArcP._facts.pm?"1":"0"),e.hasOwnProperty("numArticulos")&&void 0!==e.numArticulos&&(void 0===e.numArticulos&&e.hasOwnProperty("contentRestriction")&&-1==e.contentRestriction.toLowerCase().indexOf("excluido")&&"suscriptor"==_satellite.getVar("userType")?DTM.dataLayer.setParam("paywall.counter","0"):DTM.dataLayer.setParam("paywall.counter",-1==e.numArticulos?"0":e.numArticulos.toString())),e.hasOwnProperty("contentRestriction")&&(t="undefined"!=typeof ArcP&&void 0!==ArcP._facts&&void 0!==ArcP._facts.s&&(-1!=ArcP._facts.s.indexOf("planeta_futuro")||-1!=ArcP._facts.s.indexOf("escaparate")),-1==e.contentRestriction.toLowerCase().indexOf("excluido")&&!1==t?(DTM.dataLayer.setParam("paywall.active","1"),"premium"==e.contentRestriction.toLowerCase()&&DTM.dataLayer.setParam("paywall.signwall","1"),"suscriptor"==_satellite.getVar("userType")?(DTM.dataLayer.setParam("paywall.ad","none"),DTM.dataLayer.setParam("paywall.status","0")):"registrado"!=_satellite.getVar("userType")&&"anonimo"!=_satellite.getVar("userType")||(e.hasOwnProperty("callbackResult")&&e.callbackResult.hasOwnProperty("triggered")&&null!=e.callbackResult.triggered?(DTM.dataLayer.setParam("paywall.ad","bloqueante"),DTM.dataLayer.setParam("paywall.status","1"),DTM.dataLayer.setParam("paywall.freePage","0"),DTM.dataLayer.setParam("paywall.counter","-1")):(DTM.dataLayer.setParam("paywall.ad","cuenta atras"),DTM.dataLayer.setParam("paywall.status","0"),DTM.dataLayer.setParam("paywall.freePage","1")))):DTM.pageDataLayer.hasOwnProperty("paywall")&&"reg"==DTM.pageDataLayer.paywall?(DTM.dataLayer.setParam("paywall.active","1"),DTM.dataLayer.setParam("paywall.signwall","1"),DTM.dataLayer.setParam("paywall.ad","signwall"),DTM.dataLayer.setParam("paywall.status","1")):(DTM.dataLayer.setParam("paywall.active","0"),DTM.dataLayer.setParam("paywall.signwall","0"),"suscriptor"==_satellite.getVar("userType")?DTM.dataLayer.setParam("paywall.ad","none"):DTM.dataLayer.setParam("paywall.ad","cuenta atras"),DTM.dataLayer.setParam("paywall.status","0")))},setPaywallInfoAMP:function(){if("not-set"==_satellite.getVar("paywall:access"))switch(_satellite.getVar("server")){case"brasil.elpais.com":case"english.elpais.com":DTM.dataLayer.setParam("paywall.access",_satellite.getVar("server"));break;default:DTM.dataLayer.setParam("paywall.access","elpais.com")}var e=DTM.utils.getQueryParam("paywallContentRestriction",location.href),t=DTM.utils.getQueryParam("paywallGranted",location.href),a=DTM.utils.getQueryParam("paywallType",location.href),s=DTM.utils.getQueryParam("paywallSection",location.href),i=DTM.utils.getQueryParam("rid",location.href),r=DTM.utils.getQueryParam("paywallSubscribed",location.href),n=DTM.utils.getQueryParam("paywallLoggedIn",location.href);if(""!=e&&""!=n){"true"===r?(DTM.dataLayer.setParam("user.userType","suscriptor"),DTM.dataLayer.setParam("user.registeredUserAMP","1"),DTM.dataLayer.setParam("user.registeredUser","1")):""!=paywallLoggedIn&&("true"===paywallLoggedIn?(DTM.dataLayer.setParam("user.userType","registrado"),DTM.dataLayer.setParam("user.registeredUserAMP","1"),DTM.dataLayer.setParam("user.registeredUser","1")):(DTM.dataLayer.setParam("user.userType","anonimo"),DTM.dataLayer.setParam("user.registeredUserAMP","0"),DTM.dataLayer.setParam("user.registeredUser","0")));r=""!=e?e.toLowerCase():"",e=""==t||"false"!=t,t="reg"===a,s=""!=s&&(-1!=s.indexOf("planeta_futuro")||-1!=s.indexOf("escaparate"));DTM.dataLayer.setParam("paywall.signwall",t?"1":"0"),-1==r.indexOf("excluido")&&!1==s?(DTM.dataLayer.setParam("paywall.active","1"),!1==e?(DTM.dataLayer.setParam("paywall.ad","bloqueante"),DTM.dataLayer.setParam("paywall.status","1"),DTM.dataLayer.setParam("paywall.freePage","0"),DTM.dataLayer.setParam("paywall.counter","-1")):(t&&"anonimo"==_satellite.getVar("userType")?(DTM.dataLayer.setParam("paywall.ad","signwall"),DTM.dataLayer.setParam("paywall.status","1")):(DTM.dataLayer.setParam("paywall.ad","none"),DTM.dataLayer.setParam("paywall.status","0")),DTM.dataLayer.setParam("paywall.freePage","1"))):(DTM.dataLayer.setParam("paywall.active","0"),t&&"anonimo"==_satellite.getVar("userType")?(DTM.dataLayer.setParam("paywall.ad","signwall"),DTM.dataLayer.setParam("paywall.status","1")):(DTM.dataLayer.setParam("paywall.ad","none"),DTM.dataLayer.setParam("paywall.status","0")))}else if(DTM.dataLayer.setParam("paywall.active","0"),DTM.dataLayer.setParam("paywall.status","0"),DTM.dataLayer.setParam("paywall.ad","none"),DTM.dataLayer.getUserType(),DTM.dataLayer.getPaywallProduct(),""!=i){DTM.dataLayer.setParam("user.registeredUserAMP","not-set");try{var o=new XMLHttpRequest;o.onreadystatechange=function(){var e;4==this.readyState&&200==this.status&&(DTM.notify("User info received from aws service"),e=JSON.parse(this.responseText).success,DTM.dataLayer.setParam("user.registeredUserAMP",!0===e?"1":"0"),e=a?"reg"==a?"1":"0":DTM.dataLayer.vars.paywall.type,DTM.dataLayer.setParam("paywall.signwall",e),"1"===e&&(e="1"==_satellite.getVar("registeredUserAMP")?"0":"0"==_satellite.getVar("registeredUserAMP")?"1":"not-set",DTM.dataLayer.setParam("paywall.status",e)))},o.open("GET","https://qygy5uq660.execute-api.eu-west-1.amazonaws.com/prod/amp-access?rid="+i+"&url="+_satellite.getVar("destinationURL")+"&ref=&_="+Math.random()+"&__amp_source_origin=https%3A%2F%2Fseguro.elpais.com",!0),o.send()}catch(e){DTM.notify("Error in getUserInfoAMP")}}else DTM.dataLayer.getUserType()}},utils:{addEvent:function(e,t,a){document.addEventListener?e.addEventListener(t,a,!1):e.attachEvent("on"+t,a)},dispatchEvent:function(e){var t;"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),document.dispatchEvent&&document.dispatchEvent(t)},decodeURIComponent:function(t){var a=t;try{a=decodeURIComponent(t)}catch(e){a=t,DTM.notify("decodedComponent: error al decodificar el componente: "+t)}return a},encoder:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,s,i,r,n,o="",c=0;for(e=this._utf8_encode(e);c<e.length;)s=(n=e.charCodeAt(c++))>>2,i=(3&n)<<4|(t=e.charCodeAt(c++))>>4,r=(15&t)<<2|(a=e.charCodeAt(c++))>>6,n=63&a,isNaN(t)?r=n=64:isNaN(a)&&(n=64),o=o+this._keyStr.charAt(s)+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(n);return o},decode:function(e){var t,a,s,i,r,n="",o=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");o<e.length;)t=this._keyStr.indexOf(e.charAt(o++))<<2|(s=this._keyStr.indexOf(e.charAt(o++)))>>4,a=(15&s)<<4|(i=this._keyStr.indexOf(e.charAt(o++)))>>2,s=(3&i)<<6|(r=this._keyStr.indexOf(e.charAt(o++))),n+=String.fromCharCode(t),64!=i&&(n+=String.fromCharCode(a)),64!=r&&(n+=String.fromCharCode(s));return this._utf8_decode(n)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?t+=String.fromCharCode(s):(127<s&&s<2048?t+=String.fromCharCode(s>>6|192):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128)),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",a=0,s=c1=c2=0;a<e.length;)(s=e.charCodeAt(a))<128?(t+=String.fromCharCode(s),a++):191<s&&s<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&s)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),a+=3);return t}},formatData:function(e){var t,a={};for(t in e)if(null!=e[t]){var s="object"!=typeof e[t]?e[t].toString().toLowerCase().replace(/"/g,'\\"'):e[t];switch(t){case"videoName":s=s.replace(/\-\d+$/,"").replace(/#/g,"");break;case"userID":case"videoYoutubeChannel":case"pageTitle":case"articleTitle":case"uniqueVideoID":s=e[t];break;case"pageName":s=_satellite.getVar("siteID")+e[t].replace(/[\?#].*?$/g,"").replace(/http.?:\/\/[^\/]*/,"")}a[t]=s}else a[t]="";return a},formatDate:function(e){return e<10?"0"+e:e},getCookie:function(e){for(var t=e+"=",a=document.cookie.split(";"),s=0,i=a.length;s<i;s++){for(var r=a[s];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null},getQueryParam:function(e,t){var a="";if(e=void 0===e||""==e?-1:e,url=void 0===t||""==t?window.location.href:t,!1!==DTM.dataLayer.vars.urlParams&&void 0===t){t=_satellite.getVar("urlParams");return-1!=e?t.hasOwnProperty(e)?t[e]:"":_satellite.getVar("urlParams")}if(-1==e){if(a=[],-1!=url.indexOf("?"))for(var s,i=url.substr(url.indexOf("?")+1).replace(/\?/g,"&"),r=0,n=(i=i.split("&")).length;r<n;r++)-1!=i[r].indexOf("=")?a[(s=i[r].split("="))[0]]=s[1].replace(/#(.*)/g,""):a[s]=""}else{a="",e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(url),a=null==e?"":DTM.utils.decodeURIComponent(e[1].replace(/\+/g," ").replace(/#(.*)/g,""))}return a},getVisitorID:function(){var e="",t=DTM.utils.getCookie("AMCV_2387401053DB208C0A490D4C%40AdobeOrg");return void 0!==DTM.s&&void 0!==DTM.s.marketingCloudVisitorID?e=DTM.s.marketingCloudVisitorID:void 0!==t&&(e=null!=(t=/(MCMID)\/([^\/]*)\/(.*)/.exec(DTM.utils.decodeURIComponent(t).replace(/\|/g,"/")))?t[2]:""),e},loadScript:function(e,t){var a=document.createElement("script");a.type="text/javascript",a.async=!0;var i=document.getElementsByTagName("head")[0];a.addEventListener?a.addEventListener("load",t,!1):a.onload?a.onload=t:document.all&&(s.onreadystatechange=function(){var e=s.readyState;"loaded"!==e&&"complete"!==e||(t(),s.onreadystatechange=null)}),a.src=e,i.appendChild(a)},localStorage:{getItem:function(e){var t=!1;try{"undefined"!=typeof localStorage&&"function"==typeof localStorage.getItem&&(t=localStorage.getItem(e))}catch(e){t=!1,DTM.notify("Error in getItem in localStorage")}return t},removeItem:function(e){var t=!1;try{"undefined"!=typeof localStorage&&"function"==typeof localStorage.removeItem&&(localStorage.removeItem(e),t=!0)}catch(e){t=!1,DTM.notify("Error in removeItem in localStorage")}return t},setItem:function(e,t){var a=!1;try{"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem&&(localStorage.setItem(e,t),a=!0)}catch(e){a=!1,DTM.notify("Error in setItem in localStorage")}return a}},setCookie:function(e,t,a,s){var i;i=s?((i=new Date).setTime(i.getTime()+s),"; expires="+i.toGMTString()):"",document.cookie=e+"="+t+i+";domain="+a+";path=/"}},events:{ABDESACT:"ABdesact",ABDETECTED:"ABdetected",ADEND:"adEnd",ADPLAY:"adPlay",ADERROR:"adError",ADSKIP:"adSkip",ADPAUSED:"adPaused",ADRESUMED:"adResumed",ADTIMEOUT:"adTimeout",AUDIOPLAY:"audioPlay",AUDIO50:"audio50",AUDIOEND:"audioEnd",AUDIOPAUSED:"audioPaused",AUDIORESUMED:"audioResumed",AUDIOREADY:"audioReady",BUTTONCLICK:"buttonClick",COMMENTS:"comments",CONC:"conc",CONCPARTICIPATE:"concParticipate",DOWNLOADLINK:"downloadLink",EMAILREGISTER:"emailRegister",EXITLINK:"exitLink",EXTERNALLINK:"externalLink",EXTERNALLINKART:"externalLinkArticle",FORMABANDON:"formAbandon",FORMERROR:"formError",FORMSUCESS:"formSucess",INTERNALPIXEL:"internalPixel",INTERNALSEARCH:"internalSearch",INTERNALSEARCHEMPTY:"internalSearchEmpty",INTERNALSEARCHRESULTS:"internalSearchResults",PAGEVIEW:"pageView",PAYERROR:"payError",PAYOK:"payOK",PHOTOGALLERY:"photogallery",PHOTOZOOM:"photoZoom",PRODVIEW:"prodView",PURCHASE:"purchase",READARTICLE:"readArticle",RECOMMENDERIMPRESSION:"recommenderImpression",SALEBUTTON:"saleButton",SCADD:"scAdd",SCCHECKOUT:"scCheckout",SCREMOVE:"scRemove",SCVIEW:"scView",SHARE:"share",SCROLL:"scroll",SCROLLINF:"scrollInf",TEST:"test",USERCONNECT:"userConnect",USERDISCONNECT:"userDisconnect",USERLOGIN:"userLogin",USERLOGININIT:"userLoginInit",USERLOGINREGISTER:"userLoginRegister",USERLOGOFF:"userLogOFF",USERNEWSLETTERIN:"userNewsletterIN",USERNEWSLETTEROFF:"userNewsletterOFF",USERPREREGISTER:"userPreRegister",USERREGISTER:"userRegister",USERUNREGISTER:"userUnregister",USERVINC:"userVinc",UUVINC:"UUvinc",VIDEOADSERVERRESPONSE:"videoAdserverResponse",VIDEOPLAY:"videoPlay",VIDEOEND:"videoEnd",VIDEO25:"video25",VIDEO50:"video50",VIDEO75:"video75",VIDEORESUMED:"videoResumed",VIDEOPAUSED:"videoPaused",VIDEOPLAYEROK:"videoPlayerOK",VIDEOREADY:"videoReady",VIEWARTICLE:"viewArticle",VIDEORELOAD:"videoReload",VIDEOREPLAY:"videoReplay",init:function(){if(_satellite.getVar("platform")==DTM.PLATFORM.WIDGET)return!1;for(var e in this.eventHandlers)switch(this.eventHandlers[e].type){case"domready":!function(e){DTM.utils.addEvent(document,"DOMContentLoaded",function(){DTM.events.eventHandlers[e].init(),DTM.notify("Event listener <"+e+"> added (domready)")})}(e);break;case"top":this.eventHandlers[e].init(),DTM.notify("Event listener <"+e+"> added");break;case"onload":!function(e){DTM.utils.addEvent(window,"load",function(){DTM.events.eventHandlers[e].init(),DTM.notify("Event listener <"+e+"> added (onload)")})}(e);break;case"custom":!function(e){DTM.utils.addEvent(document,DTM.events.eventHandlers[e].cevent,function(){DTM.events.eventHandlers[e].init(),DTM.notify("Event listener <"+e+"> added (custom)")})}(e)}},vars:{readArticleInterval:-1,trackLinks:!1,readArticleTime:6e4},eventHandlers:{userRegisterLogin:{type:"custom",cevent:"OmniturePVTracked",init:function(){if(DTM.tools.omniture.trackedPV){var e,t,a=DTM.utils.getQueryParam("event_log"),s=DTM.utils.getQueryParam("event"),i=DTM.utils.getQueryParam("o"),r=DTM.utils.getQueryParam("prod");return"okdesc"==DTM.utils.getQueryParam("event_log")&&"0"!=_satellite.getVar("registeredUser")?!1:("okdesc"==DTM.utils.getQueryParam("event_log")||"1"==_satellite.getVar("registeredUser"))&&(""==a||(e={oklogin:"clasico",okdesc:"clasico",okvinculacion:"clasico",fa:"facebook",tw:"twitter",go:"google",me:"msn",li:"linkedin"}).hasOwnProperty(a)&&(t="okdesc"==a?DTM.events.USERLOGOFF:"okvinculacion"==a?DTM.events.UUVINC:DTM.events.USERLOGIN,DTM.tools.omniture.loaded&&DTM.tools.omniture.trackedPV&&DTM.trackEvent(t,{registerType:e[a],registerOrigin:i,registerProd:r})),void(""==s||(a={okregistro:"clasico",fa:"facebook",tw:"twitter",go:"google",me:"msn",li:"linkedin"}).hasOwnProperty(s)&&DTM.tools.omniture.loaded&&DTM.tools.omniture.trackedPV&&DTM.trackEvent(DTM.events.USERREGISTER,{registerType:a[s],registerOrigin:i,registerProd:r})))}}},readArticle:{type:"top",init:function(){"articulo"==_satellite.getVar("pageType")&&(DTM.events.vars.readArticleInterval=setTimeout(function(){DTM.trackEvent(DTM.events.READARTICLE,{articleTitle:_satellite.getVar("pageTitle")})},DTM.events.vars.readArticleTime))}},shareLinks:{type:"domready",init:function(){if("articulo"!=_satellite.getVar("pageType")&&"fotogaleria"!=_satellite.getVar("pageType"))return!1;var e,t,a={superior_fb:"facebook_superior",superior_twit:"twitter_superior",superior_linkedin:"linkedin_superior",superior_gp:"google_superior",superior_enviar:"enviar_superior",superior_bomn_imprimir:"imprimir_superior",superior_bomn_whatsapp:"whatasapp_superior",superior_guardar:"guardar_superior",inferior_fb:"facebook_inferior",inferior_twit:"twitter_inferior",inferior_linkedin:"linkedin_inferior",inferior_gp:"google_inferior",inferior_enviar:"enviar_inferior",inferior_bomn_imprimir:"imprimir_inferior",inferior_bomn_whatsapp:"whatasapp_inferior",inferior_guardar:"guardar_inferior",fb:"facebook",twit:"twitter",linkedin:"linkedin",gp:"google",bomn_tuenti:"tuenti",bomn_meneame:"meneame",bomn_whatsapp:"whatasapp",bomn_eskup:"eskup",enviar:"enviar",bomn_imprimir:"imprimir",bomn_guardar:"guardar",superior_pinit:"pinterest_superior",inferior_pinit:"pinterest_inferior"};for(e in a)document.getElementById(e)&&(null!=(t=document.getElementById(e)).href&&""!=t.href&&-1==t.href.indexOf("javascript")&&(t.target="_blank"),t.idx=a[e],DTM.utils.addEvent(t,"click",function(){DTM.trackEvent(DTM.events.SHARE,{shareRRSS:this.idx})}))}},internalLinks:{type:"domready",init:function(){if(!DTM.events.vars.trackLinks||!document.getElementById("cuerpo_noticia"))return!1;for(var e=document.getElementById("cuerpo_noticia").getElementsByTagName("a"),t=0,a=e.length;t<a;t++){var s=e[t];""!=s.href&&-1==s.href.indexOf("javascript")&&DTM.utils.addEvent(s,"click",function(){DTM.trackEvent(DTM.events.EXTERNALLINKART,{articleTitle:_satellite.getVar("pageTitle"),buttonName:this.href})})}}},escButton:{type:"domready",init:function(){if(!document.getElementById("cuerpo_noticia")||void 0===document.querySelectorAll)return!1;var e=document.querySelectorAll(".escaparate_contenedor_boton a");if(0<e.length)for(var t=1,a=0,s=e.length;a<s;a++){var i,r=e[a];""!=r.href&&-1==r.href.indexOf("javascript")&&-1==r.href.indexOf("//elpais.com")&&(r.escOrder="btn-esc-"+t++,r.escBoton=r.innerHTML.trim().toLowerCase(),i=/^(.*) en (.*)$/gi.exec(r.escBoton),r.escVendor=null!=i?i[2]:"not-set",DTM.utils.addEvent(r,"click",function(){DTM.trackEvent(DTM.events.SALEBUTTON,{articleTitle:_satellite.getVar("pageTitle"),buttonName:this.escBoton+" ("+this.escOrder+")",externalURL:this.escVendor+":"+this.href})}))}}},widgetND:{type:"domready",init:function(){for(var e=document.getElementsByClassName("contenedor_clasificados__interior"),t=0,a=e.length;t<a;t++)for(var s=e[t].getElementsByTagName("a"),i={my_savings:"iahorro",apartment:"fotocasa",courses:"emagister cursos",directorio:"emagister centros"},r=e[t].id.trim().toLowerCase(),r=i.hasOwnProperty(r)?i[r]:r,n=0,o=s.length;n<o;n++){var c=s[n];c.idx="clasificados "+r,DTM.utils.addEvent(c,"click",function(e){var t;DTM.trackEvent(DTM.events.EXTERNALLINK,{buttonName:this.idx,externalURL:this.href}),"_blank"!=this.target&&(e.preventDefault(),t=this.href,window.setTimeout(function(){window.open(t,"_self")},500))})}}},videoWidgets:{type:"top",init:function(){DTM.utils.addEvent(window,"message",function(e){try{void 0!==e&&void 0!==e.data&&void 0!==e.data.eventType&&"object"==typeof e.data.data&&DTM.trackEvent(e.data.eventType,e.data.data)}catch(e){DTM.notify("Error en video iframe")}},!1)}}},validEvent:function(e){for(var t in this)if("string"==typeof this[t]&&this[t]==e)return!0;return!1}},tools:{init:function(){for(var e in DTM.allowAll=void 0===DTM.config.allowAll||DTM.config.allowAll,this)"function"==typeof this[e].init&&"object"==typeof this[e].dl&&this[e].init();DTM.toolsInitialized=!0,DTM.notify("Tools initialized")},omniture:{enabled:1,dl:{},consents:-1,consentsID:77,trackType:-1,eventQueue:[],eventRequired:!1,eventRequiredFired:!1,loaded:!1,trackedPV:!1,map:{events:{},vars:{},consents:{}},init:function(){this.enabled=this.isEnabled(),this.createMap(),this.trackType=DTM.TRACK_DELAY,this.eventRequired=this.getEventRequired(),this.consents=DTM.CONSENTS.DEFAULT,this.setDL({adobeTargetEnabled:!(void 0===DTM.config.atg||!DTM.config.atg),articleID:null!=/(\d+)_(\d+)/.exec(_satellite.getVar("articleID"))?_satellite.getVar("articleID"):"",authors:this.formatListVar(_satellite.getVar("author"),"id"),fromHome:"https://elpais.com/"==_satellite.getVar("referringURL").replace(/[\?#].*?$/g,"")?_satellite.getVar("pageName"):"",liveContent:void 0!==DTM.config.isLiveContent&&DTM.config.isLiveContent?"1":"0",tags:this.formatListVar(_satellite.getVar("tags"),"id")})},getEventRequired:function(){var e=!1;return void 0!==DTM.paywallActive&&!0===DTM.paywallActive?e="DTMPaywallActive":"1"==_satellite.getVar("paywall:signwall")&&_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&(e="DTMSignwallActive"),e},createMap:function(){this.map.events[DTM.events.INTERNALSEARCH]="event1",this.map.events[DTM.events.PAGEVIEW]="event2",this.map.events[DTM.events.SCROLL]="event5",this.map.events[DTM.events.VIDEO25]="event8",this.map.events[DTM.events.VIDEO75]="event9",this.map.events[DTM.events.SCROLLINF]="event10",this.map.events[DTM.events.VIDEOPLAY]="event11",this.map.events[DTM.events.VIDEOREPLAY]="event11",this.map.events[DTM.events.VIDEOEND]="event12",this.map.events[DTM.events.ADPLAY]="event13",this.map.events[DTM.events.ADEND]="event14",this.map.events[DTM.events.ADSKIP]="event15",this.map.events[DTM.events.AUDIOPLAY]="event16",this.map.events[DTM.events.AUDIOEND]="event17",this.map.events[DTM.events.AUDIO50]="event18",this.map.events[DTM.events.USERPREREGISTER]="event19",this.map.events[DTM.events.USERLOGINREGISTER]="event20",this.map.events[DTM.events.USERREGISTER]="event21",this.map.events[DTM.events.EXTERNALLINK]="event22",this.map.events[DTM.events.USERLOGIN]="event23",this.map.events[DTM.events.USERLOGININIT]="event24",this.map.events[DTM.events.USERUNREGISTER]="event25",this.map.events[DTM.events.FORMABANDON]="event26",this.map.events[DTM.events.FORMSUCESS]="event27",this.map.events[DTM.events.FORMERROR]="event28",this.map.events[DTM.events.INTERNALSEARCHRESULTS]="event31",this.map.events[DTM.events.INTERNALSEARCHEMPTY]="event32",this.map.events[DTM.events.BUTTONCLICK]="event33",this.map.events[DTM.events.COMMENTS]="event34",this.map.events[DTM.events.SALEBUTTON]="event35",this.map.events[DTM.events.USERCONNECT]="event36",this.map.events[DTM.events.USERDISCONNECT]="event37",this.map.events[DTM.events.USERNEWSLETTERIN]="event38",this.map.events[DTM.events.USERNEWSLETTEROFF]="event39",this.map.events[DTM.events.CONC]="event50",this.map.events[DTM.events.VIDEOPLAYEROK]="event59",this.map.events[DTM.events.USERVINC]="event62",this.map.events[DTM.events.EMAILREGISTER]="event63",this.map.events[DTM.events.SHARE]="event69",this.map.events[DTM.events.PHOTOZOOM]="event76",this.map.events[DTM.events.VIEWARTICLE]="event77",this.map.events[DTM.events.PHOTOGALLERY]="event78",this.map.events[DTM.events.VIDEO50]="event79",this.map.events[DTM.events.READARTICLE]="event80",this.map.events[DTM.events.CONCPARTICIPATE]="event81",this.map.events[DTM.events.USERLOGOFF]="event85",this.map.events[DTM.events.EXTERNALLINKART]="event99",this.map.events[DTM.events.TEST]="event100",this.map.events[DTM.events.PAYOK]="event102",this.map.events[DTM.events.PAYERROR]="event103",this.map.events[DTM.events.ABDETECTED]="event108",this.map.events[DTM.events.ABDESACT]="event109",this.map.events[DTM.events.UUVINC]="event110",this.map.events[DTM.events.DOWNLOADLINK]="",this.map.events[DTM.events.EXITLINK]="",this.map.vars.destinationURL="eVar1",this.map.vars.playerType="eVar2",this.map.vars.pageName="eVar3",this.map.vars.primaryCategory="eVar4",this.map.vars.subCategory1="eVar5",this.map.vars.subCategory2="eVar6",this.map.vars.pageType="eVar7",this.map.vars.videoName="eVar8",this.map.vars.adTitle="eVar9",this.map.vars.articleURL="eVar10",this.map.vars.language="eVar11",this.map.vars.scrollLevel="eVar13",this.map.vars.country="eVar14",this.map.vars.searchKeyword="eVar16",this.map.vars.sysEnv="eVar17",this.map.vars.org="eVar18",this.map.vars.publisher="eVar19",this.map.vars.domain="eVar20",this.map.vars.userStatus="eVar22",this.map.vars.articleID="eVar23",this.map.vars.adMode="eVar24",this.map.vars.videoSource="eVar25",this.map.vars.videoRepMode="eVar26",this.map.vars.businessUnit="eVar30",this.map.vars.formAnalysis="eVar34",this.map.vars.registeredUserAMP="eVar36",this.map.vars.registerType="eVar37",this.map.vars.videoID="eVar38",this.map.vars.articleTitle="eVar39",this.map.vars.videoRepType="eVar42",this.map.vars.userID="eVar43",this.map.vars.pageTitle="eVar45",this.map.vars.photoURL="eVar46",this.map.vars.cms="eVar50",this.map.vars.brandedContent="eVar51",this.map.vars.redention="eVar52",this.map.vars.scrollPercent="eVar56",this.map.vars.buttonName="eVar58",this.map.vars.editionNavigation="eVar61",this.map.vars.thematic="eVar62",this.map.vars.productID="eVar64",this.map.vars.formName="eVar65",this.map.vars.adEnable="eVar67",this.map.vars.externalURL="eVar68",this.map.vars.externalLink="eVar68",this.map.vars.downloadLink="eVar68",this.map.vars.shareRRSS="eVar69",this.map.vars.mediaFormat="eVar70",this.map.vars.uniqueVideoID="eVar71",this.map.vars.articleDays="eVar72",this.map.vars.test="eVar73",this.map.vars.videoDuration="eVar74",this.map.vars.videoChannels="eVar75",this.map.vars.videoOrder="eVar76",this.map.vars.videoCreateSection="eVar77",this.map.vars.videoTagsMediateca="eVar79",this.map.vars.trackingCode="eVar82",this.map.vars.registerOrigin="eVar85",this.map.vars.registerProd="eVar86",this.map.vars.videoYoutubeChannel="eVar95",this.map.vars.videoIframe="eVar98",this.map.vars.videoContractID="eVar99",this.map.vars.paywallType="eVar151",this.map.vars.paywallStatus="eVar153",this.map.vars.paywallCounter="eVar154",this.map.vars.paywallAd="eVar155",this.map.vars.paywallProduct="eVar156",this.map.vars.paywallActive="eVar157",this.map.vars.paywallTransactionID="eVar158",this.map.vars.privateMode="eVar161",this.map.vars.pageNameEP="eVar166",this.map.vars.pageTitleEP="eVar170",this.map.vars.adobeTargetURL="eVar191",this.map.vars.internalTest="eVar195",this.map.vars.serverAMP="eVar196",this.map.consents[DTM.CONSENTS.WAITING]="vacio",this.map.consents[DTM.CONSENTS.DEFAULT]="not-set",this.map.consents[DTM.CONSENTS.ACCEPT]="1",this.map.consents[DTM.CONSENTS.REJECT]="0"},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.omn_enabled?DTM.config.omn_enabled:DTM.allowAll;return e&&_satellite.getVar("platform")==DTM.PLATFORM.WIDGET&&(e=!1),e=e?DTM.TOOL_ENABLED:DTM.TOOL_DISABLED},formatListVar:function(e,t){if("string"==typeof e)return e.replace(/,;|,/g,";").replace(/^;/,"");var a=[];t=void 0===t?"id":t;try{for(var s=0,i=e.length;s<i;s++)a.push(e[s][t])}catch(e){a=[]}return"id"==t?a.join(";"):a.join(",")},trackPV:function(){var e,t=this.getDL();if(this.enabled!=DTM.TOOL_ENABLED||this.trackedPV||!this.loaded)return!1;if(!1!==this.eventRequired&&!this.eventRequiredFired||!1!==this.eventRequired&&!DTM.delayCompleted)return!1;for(e in DTM.s=window.s,"production"!=_satellite.buildInfo.environment||DTM.validPage||(DTM.s.account="prisacomfiltradourls"),DTM.s.debugTracking=!1,DTM.s.dstStart=_satellite.getVar("date:dstStart"),DTM.s.dstEnd=_satellite.getVar("date:dstEnd"),DTM.s.currentYear=_satellite.getVar("date:year"),DTM.s.cookieDomainPeriods=0<document.URL.indexOf(".com.")?"3":"2",DTM.s.siteID=_satellite.getVar("siteID"),DTM.s.trackInlineStats=!0,DTM.s.linkTrackVars="None",DTM.s.linkTrackEvents="None",DTM.s.dataLayer=this.getDL(),_satellite.getVar("platform")==DTM.PLATFORM.AMP&&(DTM.s.pageURL=_satellite.getVar("destinationURL"),DTM.s.referrer=_satellite.getVar("referringURL")),_satellite.getVar("platform")==DTM.PLATFORM.FBIA&&(DTM.s.referrer=_satellite.getVar("referringURL")),DTM.s.pageName=_satellite.getVar("pageName"),DTM.s.channel=_satellite.getVar("primaryCategory"),DTM.s.server=_satellite.getVar("server"),DTM.s.pageType="error-404"==_satellite.getVar("primaryCategory")?"errorPage":"",DTM.s.hier1='D=c18+">"+c19+">"+c20+">"+c1+">"pageName',DTM.s.list1=t.tags,DTM.s.list2=t.authors,DTM.s.campaign||(DTM.s.campaign=_satellite.getVar("campaign"),DTM.s.campaign=DTM.s.getValOnce(DTM.s.campaign,"s_campaign",0)),DTM.s.prop1=_satellite.getVar("subCategory1"),DTM.s.prop2=_satellite.getVar("subCategory2"),DTM.s.prop3=_satellite.getVar("pageType"),DTM.s.prop5="D=g",DTM.s.prop6="D=r",DTM.s.prop8=DTM.s.getTimeParting("d",_satellite.getVar("date:gmt")),DTM.s.prop9=DTM.s.getTimeParting("w",_satellite.getVar("date:gmt")),DTM.s.prop10="articulo"==_satellite.getVar("pageType")?"D=g":"",DTM.s.prop11=_satellite.getVar("language"),DTM.s.prop12=DTM.version,DTM.s.prop14=_satellite.getVar("geoRegion"),DTM.s.prop15=DTM.s.version,DTM.s.prop16=_satellite.getVar("onsiteSearchTerm"),DTM.s.prop17=_satellite.getVar("sysEnv"),DTM.s.prop18=_satellite.getVar("org"),DTM.s.prop19=_satellite.getVar("publisher"),DTM.s.prop20=_satellite.getVar("domain"),DTM.s.prop21=DTM.s.getNewRepeat(),DTM.s.prop23=t.articleID,DTM.s.prop24=_satellite.getVar("date:hours")+":"+_satellite.getVar("date:minutes")+":"+_satellite.getVar("date:seconds"),DTM.s.prop27="undefined"!=typeof Visitor&&void 0!==Visitor.version?"Visitor "+Visitor.version:"Visitor error",DTM.s.prop28=DTM.s.getVisitNum("d","s_vnum_d","s_invisit_d"),DTM.s.prop30=_satellite.getVar("businessUnit"),DTM.s.prop31=_satellite.getVar("thematic"),DTM.s.prop33=DTM.s.getVisitNum(),DTM.s.prop34=_satellite.getVar("profileID"),DTM.s.prop35=DTM.s.getTimeParting("h",_satellite.getVar("date:gmt")),DTM.s.prop36=DTM.s.getTimeParting("d",_satellite.getVar("date:gmt"))+"-"+_satellite.getVar("date:day")+"/"+_satellite.getVar("date:month")+"/"+_satellite.getVar("date:fullYear")+"-"+DTM.s.prop24,DTM.s.prop39="articulo"==_satellite.getVar("pageType")?_satellite.getVar("pageTitle"):"",DTM.s.prop44=_satellite.getVar("creationDate"),DTM.s.prop45=_satellite.getVar("pageTitle"),DTM.s.prop49=t.liveContent,DTM.s.prop50=_satellite.getVar("cms"),DTM.s.prop51="1"==_satellite.getVar("brandedContent")?_satellite.getVar("pageName"):"",DTM.s.prop53=_satellite.getVar("canonicalURL"),DTM.s.prop54=_satellite.getVar("clickOrigin"),DTM.s.prop61=_satellite.getVar("editionNavigation"),DTM.s.prop62="not-set"!=_satellite.getVar("registeredUser")?"0"==_satellite.getVar("registeredUser")?"anonimo":"logueado":_satellite.getVar("registeredUser"),DTM.s.prop66=t.fromHome,DTM.s.prop72=DTM.s.articleDays(_satellite.getVar("creationDate")),DTM.s.prop73=_satellite.getVar("test"),this.map.vars)DTM.s[this.map.vars[e]]="";DTM.s.eVar1="D=g",DTM.s.eVar3="D=pageName",DTM.s.eVar4="D=ch",DTM.s.eVar5=DTM.s.prop1?"D=c1":"",DTM.s.eVar6=DTM.s.prop2?"D=c2":"",DTM.s.eVar7=DTM.s.prop3?"D=c3":"",DTM.s.eVar10=DTM.s.prop10?"D=g":"",DTM.s.eVar11=DTM.s.prop11?"D=c11":"",DTM.s.eVar12=DTM.s.prop12?"D=c12":"",DTM.s.eVar13=DTM.s.prop13?"D=c13":"",DTM.s.eVar14=DTM.s.prop14?"D=c14":"",DTM.s.eVar15=DTM.s.prop15?"D=c15":"",DTM.s.eVar16=DTM.s.prop16?"D=c16":"",DTM.s.eVar17=DTM.s.prop17?"D=c17":"",DTM.s.eVar18=DTM.s.prop18?"D=c18":"",DTM.s.eVar19=DTM.s.prop19?"D=c19":"",DTM.s.eVar20=DTM.s.prop20?"D=c20":"",DTM.s.eVar21=DTM.s.prop21?"D=c21":"",DTM.s.eVar23=DTM.s.prop23?"D=c23":"",DTM.s.eVar22=DTM.s.prop62?"D=c62":"",DTM.s.eVar27=DTM.s.prop27?"D=c27":"",DTM.s.eVar28=DTM.s.prop28?"D=c28":"",DTM.s.eVar30=DTM.s.prop30?"D=c30":"",DTM.s.eVar32=DTM.s.prop33?"D=c33":"",DTM.s.eVar33=DTM.s.prop36?"D=c36":"",DTM.s.eVar35=DTM.s.prop35?"D=c35":"",DTM.s.eVar36="1"==_satellite.getVar("omniture:registeredUserAMP")?"logueado":"0"==_satellite.getVar("omniture:registeredUserAMP")?"anonimo":_satellite.getVar("omniture:registeredUserAMP"),DTM.s.eVar39=DTM.s.prop39?"D=c39":"",DTM.s.eVar43=DTM.s.prop34?"D=c34":"",DTM.s.eVar44=DTM.s.prop44?"D=c44":"",DTM.s.eVar45=_satellite.getVar("pageTitle"),DTM.s.eVar47=DTM.s.prop47?"D=c47":"",DTM.s.eVar48=DTM.s.prop8?"D=c8":"",DTM.s.eVar49=DTM.s.prop49?"D=c49":"",DTM.s.eVar50=DTM.s.prop50?"D=c50":"",DTM.s.eVar51=DTM.s.prop51?"D=c51":"",DTM.s.eVar53=DTM.s.prop53?"D=c53":"",DTM.s.eVar54=DTM.s.prop54?"D=c54":"",DTM.s.eVar55=_satellite.getVar("omniture:videoContent"),DTM.s.eVar57=DTM.s.prop57||"",DTM.s.eVar59=DTM.s.prop24?"D=c24":"",DTM.s.eVar61=DTM.s.prop61?"D=c61":"",DTM.s.eVar62=DTM.s.prop31?"D=c31":"",DTM.s.eVar63=DTM.s.prop6||"",DTM.s.eVar65=DTM.s.prop65?"D=c65":"",DTM.s.eVar66=DTM.s.prop9?"D=c9":"",DTM.s.eVar72=DTM.s.prop72?"D=c72":"",DTM.s.eVar73=DTM.s.prop73?"D=c73":"",DTM.s.eVar81="D=mid",DTM.s.eVar82=_satellite.getVar("campaign"),DTM.s.eVar83=DTM.s.prop43?"D=c43":"",DTM.s.eVar92=_satellite.getVar("userType"),DTM.s.eVar96=DTM.s.prop66?"D=c66":"",DTM.s.eVar151="1"===_satellite.getVar("paywall:signwall")?"reg":"free",DTM.s.eVar153="0"==_satellite.getVar("paywall:status")?"abierto":"cerrado",DTM.s.eVar154=_satellite.getVar("paywall:counter"),DTM.s.eVar155=_satellite.getVar("paywall:ad"),DTM.s.eVar156=_satellite.getVar("paywall:product"),DTM.s.eVar157="1"==_satellite.getVar("paywall:active")?"activo":"inactivo",DTM.s.eVar159=_satellite.getVar("paywall:freePage"),DTM.s.eVar161="1"==_satellite.getVar("paywall:privateMode")?"true":"0"==_satellite.getVar("paywall:privateMode")?"false":"not-set",DTM.s.eVar166=_satellite.getVar("pageName"),DTM.s.eVar170=_satellite.getVar("pageTitle"),DTM.s.eVar171=_satellite.getVar("pageTypology"),DTM.s.eVar185=this.map.consents[this.consents],DTM.s.eVar191=t.adobeTargetEnabled?_satellite.getVar("destinationURL"):"",DTM.s.eVar192=DTM.paywallSync,DTM.s.eVar195=DTM.internalTest,DTM.s.eVar196=_satellite.getVar("serverAMP"),DTM.s.eVar197="1"==_satellite.getVar("ssl")?DTM.s.trackingServerSecure:DTM.s.trackingServer,DTM.s.eVar198=_satellite.getVar("queryParam:mid"),DTM.s.eVar199=_satellite.getVar("queryParam:bid");var a,s="event2";for(a in"1"==_satellite.getVar("onsiteSearch")&&(s+=",event1",0!=parseInt(_satellite.getVar("onsiteSearchResults"))?s+=",event31":s+=",event32"),"articulo"==_satellite.getVar("pageType")&&(s+=",event77"),t.adobeTargetEnabled&&(s+=",event91"),DTM.s.events=s,DTM.s.t(),DTM.s.linkTrackEvents="None",DTM.s.linkTrackVars="None",this.trackedPV=!0,DTM.utils.dispatchEvent("OmniturePVTracked"),this.eventQueue)this.trackEvent(a)},trackEvent:function(e){if(this.enabled!=DTM.TOOL_DISABLED)if(this.enabled!=DTM.TOOL_ENABLED||this.trackedPV){var t=this.getDL();if(void 0!==_satellite.getVar("event")[e]){var a=_satellite.getVar("event")[e].eventInfo.eventName,s=_satellite.getVar("event")[e].attributes;if(this.map.events.hasOwnProperty(a)){var i=this.map.events[a];switch(a){case DTM.events.VIDEO25:case DTM.events.VIDEO75:if("0"==_satellite.getVar("brandedContent"))return;break;case DTM.events.SCROLLINF:i+=",event77",DTM.s.pageName=_satellite.getVar("pageName"),DTM.s.pageURL=_satellite.getVar("destinationURL"),t.tags=this.formatListVar(_satellite.getVar("tags"),"id");break;case DTM.events.PHOTOGALLERY:s.articleTitle=_satellite.getVar("pageTitle"),void 0!==s.photogalleryExternal&&(s.photoURL=document.location.protocol+"//"+document.location.hostname+document.location.pathname+"#imagen/"+(void 0!==s.photoID?s.photoID:0))}var r,n=void 0!==s.tags&&0<s.tags.length?this.formatListVar(s.tags,"id"):t.tags,o=void 0!==s.eventTags?this.formatListVar(s.eventTags,"id"):"";for(r in DTM.s.linkTrackEvents=i,DTM.s.events=i,DTM.s.server=(void 0!==s.server?s:DTM.s).server,DTM.s.pageName=void 0!==s.pageName?s.pageName:_satellite.getVar("pageName"),DTM.s.linkTrackVars="events,server,list1,list2,eVar1,eVar3,eVar4,eVar5,eVar7,eVar10,eVar12,eVar15,eVar17,eVar18,eVar19,eVar20,eVar22,eVar23,eVar30,eVar35,eVar36,eVar39,eVar43,eVar45,eVar48,eVar49,eVar50,eVar51,eVar53,eVar54,eVar55,eVar61,eVar72,eVar73,eVar81,eVar82,eVar92,eVar151,eVar153,eVar154,eVar155,eVar156,eVar157,eVar159,eVar161,eVar166,eVar170,eVar171,eVar185,eVar191,eVar195,eVar196,eVar197",DTM.s.list1=""==o?n:""==n?o:n+";"+o,DTM.s.list2=void 0!==s.authors?this.formatListVar(s.authors,"id"):t.authors,DTM.s.eVar1=_satellite.getVar("destinationURL"),DTM.s.eVar3=_satellite.getVar("pageName"),DTM.s.eVar4=_satellite.getVar("primaryCategory"),DTM.s.eVar5=_satellite.getVar("subCategory1"),DTM.s.eVar7=_satellite.getVar("pageType"),DTM.s.eVar10="articulo"==_satellite.getVar("pageType")?_satellite.getVar("destinationURL"):"",DTM.s.eVar12=DTM.version,DTM.s.eVar15=DTM.s.version,DTM.s.eVar17=_satellite.getVar("sysEnv"),DTM.s.eVar18=_satellite.getVar("org"),DTM.s.eVar19=_satellite.getVar("publisher"),DTM.s.eVar20=_satellite.getVar("domain"),DTM.s.eVar22="not-set"!=_satellite.getVar("registeredUser")?"0"==_satellite.getVar("registeredUser")?"anonimo":"logueado":_satellite.getVar("registeredUser"),DTM.s.eVar23=t.articleID,DTM.s.eVar30=_satellite.getVar("businessUnit"),DTM.s.eVar35=DTM.s.getTimeParting("h",_satellite.getVar("date:gmt")),DTM.s.eVar36="1"==_satellite.getVar("registeredUserAMP")?"logueado":"0"==_satellite.getVar("registeredUserAMP")?"anonimo":_satellite.getVar("registeredUserAMP"),DTM.s.eVar39="articulo"==_satellite.getVar("pageType")?_satellite.getVar("pageTitle"):"",DTM.s.eVar43=_satellite.getVar("profileID"),DTM.s.eVar45=_satellite.getVar("pageTitle"),DTM.s.eVar48=void 0!==DTM.s.prop8?DTM.s.prop8:"",DTM.s.eVar49=t.liveContent,DTM.s.eVar50=_satellite.getVar("cms"),DTM.s.eVar51="1"==_satellite.getVar("brandedContent")?_satellite.getVar("pageName"):"",DTM.s.eVar53=_satellite.getVar("canonicalURL"),DTM.s.eVar54=_satellite.getVar("clickOrigin"),DTM.s.eVar55=_satellite.getVar("omniture:videoContent"),DTM.s.eVar61=_satellite.getVar("editionNavigation"),DTM.s.eVar72=DTM.s.articleDays(_satellite.getVar("creationDate")),DTM.s.eVar73=_satellite.getVar("test"),DTM.s.eVar81="D=mid",DTM.s.eVar82=_satellite.getVar("campaign"),DTM.s.eVar92=_satellite.getVar("userType"),DTM.s.eVar151="1"==_satellite.getVar("paywall:signwall")?"reg":"free",DTM.s.eVar153="0"==_satellite.getVar("paywall:status")?"abierto":"cerrado",DTM.s.eVar154=_satellite.getVar("paywall:counter"),DTM.s.eVar155=_satellite.getVar("paywall:ad"),DTM.s.eVar156=_satellite.getVar("paywall:product"),DTM.s.eVar157="1"==_satellite.getVar("paywall:active")?"activo":"inactivo",DTM.s.eVar159=_satellite.getVar("paywall:freePage"),DTM.s.eVar161="1"==_satellite.getVar("paywall:privateMode")?"true":"0"==_satellite.getVar("paywall:privateMode")?"false":"not-set",DTM.s.eVar166=void 0!==s.pageName?s.pageName:_satellite.getVar("pageName"),DTM.s.eVar170=_satellite.getVar("pageTitle"),DTM.s.eVar171=_satellite.getVar("pageTypology"),DTM.s.eVar185=this.map.consents[this.consents],DTM.s.eVar191=t.adobeTargetEnabled?_satellite.getVar("destinationURL"):"",DTM.s.eVar195=DTM.internalTest,DTM.s.eVar196=_satellite.getVar("serverAMP"),DTM.s.eVar197="1"==_satellite.getVar("ssl")?DTM.s.trackingServerSecure:DTM.s.trackingServer,s.hasOwnProperty("pageName")&&(s.pageNameEP=s.pageName),s.hasOwnProperty("pageTitle")&&(s.pageTitleEP=s.pageTitle),this.map.vars)s.hasOwnProperty(r)&&(DTM.s[this.map.vars[r]]=s[r],DTM.s.linkTrackVars+=","+this.map.vars[r]);a!=DTM.events.EXITLINK&&a!=DTM.events.DOWNLOADLINK&&(DTM.s.tl(this,"o",a),DTM.s.linkTrackEvents="None",DTM.s.linkTrackVars="None"),DTM.notify("",e,"Adobe Analytics")}}else DTM.notify("Omniture event past not valid <"+a+">")}else this.eventQueue.push(e)}},krux:{enabled:1,dl:{},consents:-1,consentsID:"c:salesforce",trackType:-1,trackedPV:!1,eventRequired:!1,eventRequiredFired:!1,map:{events:{}},init:function(){this.enabled=this.isEnabled(),this.trackType=DTM.TRACK_DELAY,this.eventRequired=this.getEventRequired(),this.consents=DTM.CONSENTS.DEFAULT,this.createMap(),this.setDL({data:{},img:new Image(1,1),src:"//beacon.krxd.net/event.gif?",geoItem:"kxprisabrand_geo"})},getEventRequired:function(){var e=!1;return void 0!==DTM.paywallActive&&!0===DTM.paywallActive?e="DTMPaywallActive":"1"==_satellite.getVar("paywall:signwall")&&_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&(e="DTMSignwallActive"),e},createMap:function(){this.map.events[DTM.events.VIDEOPLAY]="vvid_0",this.map.events[DTM.events.VIDEOREPLAY]="vvid_0",this.map.events[DTM.events.VIDEO50]="vvid_50",this.map.events[DTM.events.VIDEOEND]="vvid_100",this.map.events[DTM.events.SHARE]="social",this.map.events[DTM.events.EXTERNALLINK]="default",this.map.events[DTM.events.FORMSUCESS]="fd",this.map.events[DTM.events.SALEBUTTON]="default",this.map.events[DTM.events.CONC]="pageview",this.map.events[DTM.events.USERREGISTER]="default"},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.krx_enabled?DTM.config.krx_enabled:DTM.allowAll;return!e||_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&_satellite.getVar("platform")!=DTM.PLATFORM.FBIA&&_satellite.getVar("platform")!=DTM.PLATFORM.WIDGET||(e=!1),e=void 0!==DTM.config.krx_enabledPV&&DTM.config.krx_enabledPV||""!=_satellite.getVar("articleID")||-1!=_satellite.getVar("subCategory1").indexOf("branded_content")?DTM.TOOL_ENABLED:e?DTM.TOOL_ONLYEVENTS:DTM.TOOL_DISABLED},formatListVar:function(e,t){if("string"==typeof e)return e.replace(/,;|,/g,";").replace(/^;/,"");var a=[];t=void 0===t?"id":t;try{for(var s=0,i=e.length;s<i;s++)""!=e[s][t]&&a.push(e[s][t].replace(/\/tag\//g,"").replace(/\//g,"_").replace(/_$/g,""))}catch(e){a=[]}return a.join(", ")},getGeo:function(){var t={country:"",zip:"",region:"",province:""},e=this.getDL(),a=DTM.utils.localStorage.getItem(e.geoItem);if(!a)return t;try{a=a.split("&");for(var s,i,r={},n=0,o=a.length;n<o;n++){var c=a[n].split("=");r[c[0]]=c[1]}t.country=void 0!==r.country?r.country:"",t.zip=void 0!==r.zip?r.zip:"",t.region=void 0!==r.region?r.region:"","es"==t.country&&1<t.zip.length&&(s={10:"caceres",11:"cadiz",12:"castellon",13:"ciudad_real",14:"cordoba",15:"la_coruña",16:"cuenca",17:"gerona",18:"granada",19:"guadalajara",20:"guipuzcoa",21:"huelva",22:"huesca",23:"jaen",24:"leon",25:"lerida",26:"la_rioja",27:"lugo",28:"madrid",29:"malaga",30:"murcia",31:"navarra",32:"orense",33:"asturias",34:"palencia",35:"las_palmas",36:"pontevedra",37:"salamanca",38:"santa_cruz_de_tenerife",39:"cantabria",40:"segovia",41:"sevilla",42:"soria",43:"tarragona",44:"teruel",45:"toledo",46:"valencia",47:"valladolid",48:"vizcaya",49:"zamora",50:"zaragoza",51:"ceuta",52:"melilla","01":"alava","08":"barcelona","02":"albacete","09":"burgos","03":"alicante","04":"almeria","05":"avila","06":"badajoz","07":"islas_baleares"},i=t.zip.substr(0,2),s.hasOwnProperty(i)&&(t.province=s[i]))}catch(e){t={country:"",zip:"",region:"",province:""},DTM.notify("Error in Krux getGeo")}return t},trackPV:function(){var e=!1;if(this.enabled==DTM.TOOL_DISABLED||!0===this.trackedPV)return e;var t=this.getDL();return this.enabled==DTM.TOOL_ENABLED?(t.data={businessUnit:_satellite.getVar("businessUnit"),creationDate:_satellite.getVar("creationDate").replace(/\//g,""),destinationURL:_satellite.getVar("destinationURL"),domain:_satellite.getVar("domain"),edition:_satellite.getVar("editionNavigation"),geo:this.getGeo(),geoRegion:_satellite.getVar("geoRegion"),language:_satellite.getVar("language"),pageTitle:_satellite.getVar("pageTitle"),pageType:_satellite.getVar("pageType"),primaryCategory:_satellite.getVar("primaryCategory"),profileID:_satellite.getVar("profileID"),publisher:_satellite.getVar("publisher"),referringURL:_satellite.getVar("referringURL"),source:_satellite.getVar("platform")===DTM.PLATFORM.WEB&&"mobile"==_satellite.getVar("device:type")?"web_movil":_satellite.getVar("sysEnv"),subCategory1:_satellite.getVar("subCategory1"),tags:_satellite.getVar("tags"),thematic:_satellite.getVar("thematic")},e=!0):t.data=!1,window.DataLayerKrx=t.data,DTM.utils.dispatchEvent("DataLayerKrxGenerated"),this.trackedPV=e,this.trackedPV},trackEvent:function(e){if(this.enabled!=DTM.TOOL_DISABLED&&this.consents==DTM.CONSENTS.ACCEPT){var t=this.getDL();if(void 0!==_satellite.getVar("event")[e]){var a=_satellite.getVar("event")[e].eventInfo.eventName,s=_satellite.getVar("event")[e].attributes;if(this.map.events.hasOwnProperty(a)){var i=this.map.events[a],r=[];switch(a){case DTM.events.VIDEO50:case DTM.events.VIDEOPLAY:case DTM.events.VIDEOREPLAY:case DTM.events.VIDEOEND:r.push("event_id=Lj2mKIH_"),r.push("event_type="+i.split("_")[0]),r.push("video.percent="+encodeURIComponent(i.split("_")[1])),r.push("publisher="+_satellite.getVar("publisher")),r.push("video.url="+encodeURIComponent(_satellite.getVar("destinationURL"))),s.hasOwnProperty("eventTags")&&r.push("video.meta_keywords="+encodeURIComponent(this.formatListVar(s.eventTags,"name"))),s.hasOwnProperty("videoName")&&r.push("video.title="+encodeURIComponent(s.videoName));break;case DTM.events.SHARE:r.push("event_id=L51Iqage"),r.push("event_type="+i),s.hasOwnProperty("shareRRSS")&&r.push("network.name="+encodeURIComponent(s.shareRRSS)),r.push("page.tags="+encodeURIComponent(this.formatListVar(_satellite.getVar("tags"),"name"))),r.push("page.title="+encodeURIComponent(_satellite.getVar("pageTitle"))),r.push("page.domain="+encodeURIComponent(_satellite.getVar("domain"))),r.push("page.url="+encodeURIComponent(_satellite.getVar("destinationURL")));break;case DTM.events.FORMSUCESS:s.hasOwnProperty("formAnalysis")&&0==s.formAnalysis.indexOf("cincodias calculadora")&&(r.push("event_id=L51HKfM0"),r.push("event_type="+i),r.push("type="+encodeURIComponent(s.formAnalysis)));break;case DTM.events.EXTERNALLINK:if(!s.hasOwnProperty("buttonName")||!s.hasOwnProperty("externalURL")||0!=s.buttonName.indexOf("clasificados"))return;r.push("event_id=MDggfE1S"),r.push("event_type="+i),r.push("link="+encodeURIComponent(s.externalURL)),r.push("type="+encodeURIComponent(s.buttonName));break;case DTM.events.SALEBUTTON:r.push("event_id=MSf8hf7h"),r.push("event_type="+i),r.push("tags="+encodeURIComponent(this.formatListVar(_satellite.getVar("tags"),"name")));break;case DTM.events.CONC:if(!s.hasOwnProperty("redention"))return;r.push("event_id=MUQkC414"),r.push("event_type="+i),r.push("step="+encodeURIComponent("thankyoupage")),r.push("title="+encodeURIComponent(s.redention));break;case DTM.events.USERREGISTER:if(-1==_satellite.getVar("subCategory1").indexOf("tematicos>elpaismas")&&"suscripciones"!=_satellite.getVar("primaryCategory"))return;r.push("event_id=M8fkDKVT"),r.push("event_type="+i);break;default:return!1}t.img.src=t.src+r.join("&")+"&rnd="+String(Math.random()).substr(2,9),DTM.notify("",e,"Krux")}}else DTM.notify("Krux event past not valid <"+a+">")}}},comscore:{enabled:1,dl:{},trackType:-1,consents:-1,consentsID:77,map:{consents:{}},trackedPV:!1,init:function(){this.enabled=this.isEnabled(),this.trackType=DTM.TRACK_TOP,this.consents=DTM.CONSENTS.DEFAULT,this.createMap(),this.setDL({id:"production"==_satellite.buildInfo.environment&&DTM.validPage?"8671776":"-1",pbn:"PRISA",src:"1"==_satellite.getVar("ssl")?"https://sb.scorecardresearch.com":"http://b.scorecardresearch.com",c3:encodeURIComponent("ELPAIS.COM Sites"),c4:encodeURIComponent("ELPAIS.COM"),img:new Image(1,1)}),this.enabled!=DTM.TOOL_DISABLED&&!1!==_satellite.getVar("videoContent")&&this.videoMetrix.load()},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.csc_enabled?DTM.config.csc_enabled:DTM.allowAll;return!e||_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&_satellite.getVar("platform")!=DTM.PLATFORM.FBIA&&_satellite.getVar("platform")!=DTM.PLATFORM.WIDGET||(e=!1),e=e?DTM.TOOL_ENABLED:DTM.TOOL_DISABLED},createMap:function(){this.map.consents[DTM.CONSENTS.WAITING]="",this.map.consents[DTM.CONSENTS.DEFAULT]="1",this.map.consents[DTM.CONSENTS.ACCEPT]="1",this.map.consents[DTM.CONSENTS.REJECT]="0"},videoMetrix:{initialized:!1,myStreamingAnalytics:[],load:function(){var e=DTM.tools.comscore.getDL();DTM.utils.loadScript("https://ep00.epimg.net/js/comun/streamsense.js",function(){window.ns_=ns_.analytics,window.ns_.PlatformApi.setPlatformAPI(window.ns_.PlatformApi.PlatformApis.WebBrowser),window.ns_.configuration.addClient(new window.ns_.configuration.PublisherConfiguration({publisherId:e.id})),window.ns_.configuration.setUsagePropertiesAutoUpdateMode(window.ns_.configuration.UsagePropertiesAutoUpdateMode.FOREGROUND_AND_BACKGROUND)})},init:function(e){return void 0!==window.ns_&&void 0!==e&&(this.initialized||(this.initialized=!0,window.ns_.start()),void 0===this.myStreamingAnalytics[e]&&(this.myStreamingAnalytics[e]={sa:new window.ns_.StreamingAnalytics,state:"",currentTime:0},this.myStreamingAnalytics[e].sa.createPlaybackSession()),!0)},setMetadata:function(e){if(void 0===window.ns_||void 0===e||!e.hasOwnProperty("videoID"))return!1;var t=DTM.tools.comscore.getDL(),a=new ns_.StreamingAnalytics.ContentMetadata;a.setMediaType(void 0!==e.videoRepType?"streaming"==e.videoRepType?window.ns_.StreamingAnalytics.ContentMetadata.ContentType.LIVE:window.ns_.StreamingAnalytics.ContentMetadata.ContentType.SHORT_FORM_ON_DEMAND:""),a.setUniqueId(void 0!==e.videoID?e.videoID:"null"),a.setLength(void 0!==e.videoDuration?1e3*parseInt(e.videoDuration):0),a.setDictionaryClassificationC3(t.c3),a.setDictionaryClassificationC4(t.c4),a.setDictionaryClassificationC6("*null"),a.setPublisherName(t.pbn),this.myStreamingAnalytics[e.videoID].sa.setMetadata(a)},setAdMetadata:function(e){if(void 0===window.ns_||void 0===e||!e.hasOwnProperty("videoID"))return!1;var t=DTM.tools.comscore.getDL(),a=new ns_.StreamingAnalytics.ContentMetadata;a.setMediaType(void 0!==e.videoRepType?"streaming"==e.videoRepType?window.ns_.StreamingAnalytics.ContentMetadata.ContentType.LIVE:window.ns_.StreamingAnalytics.ContentMetadata.ContentType.SHORT_FORM_ON_DEMAND:""),a.setUniqueId(void 0!==e.videoID?e.videoID:"null"),a.setLength(void 0!==e.videoDuration?1e3*parseInt(e.videoDuration):0),a.setDictionaryClassificationC3(t.c3),a.setDictionaryClassificationC4(t.c4),a.setDictionaryClassificationC6("*null"),a.setPublisherName(t.pbn);var t=new window.ns_.StreamingAnalytics.AdvertisementMetadata,s="";if(void 0!==e.adMode)switch(e.adMode){case"post-roll":case"postroll":s=window.ns_.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_POST_ROLL;break;case"pre-roll":case"preroll":s=window.ns_.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_PRE_ROLL;break;case"mid-roll":case"midroll":s=window.ns_.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_MID_ROLL}t.setMediaType(s),t.setRelatedContentMetadata(a),this.myStreamingAnalytics[e.videoID].sa.setMetadata(t)},play:function(e,t,a){if(void 0===window.ns_||void 0===e)return!1;t==DTM.events.VIDEORESUMED&&this.myStreamingAnalytics[e].state===DTM.events.VIDEOPAUSED&&a!=this.myStreamingAnalytics[e].currentTime?(DTM.notify("SEEEK"),this.myStreamingAnalytics[e].sa.startFromPosition(a),this.myStreamingAnalytics[e].sa.notifySeekStart()):this.myStreamingAnalytics[e].sa.notifyPlay(),this.myStreamingAnalytics[e].state=t,this.myStreamingAnalytics[e].currentTime=a},replay:function(e,t,a){if(void 0===window.ns_||void 0===e)return!1;void 0!==this.myStreamingAnalytics[e]&&delete this.myStreamingAnalytics[e],this.myStreamingAnalytics[e].state=t,this.myStreamingAnalytics[e].currentTime=a},pause:function(e,t,a){if(void 0===window.ns_||void 0===e)return!1;this.myStreamingAnalytics[e].sa.notifyPause(),this.myStreamingAnalytics[e].state=t,this.myStreamingAnalytics[e].currentTime=a},end:function(e,t,a){if(void 0===window.ns_||void 0===e)return!1;this.myStreamingAnalytics[e].sa.notifyEnd(),this.myStreamingAnalytics[e].state=t,this.myStreamingAnalytics[e].currentTime=a}},trackPV:function(){if(this.enabled!=DTM.TOOL_ENABLED||!0===this.trackedPV)return!1;var e=this.getDL();window._comscore=window._comscore||[],window._comscore.push({c1:"2",c2:e.id,cs_ucfr:this.map.consents[this.consents]}),function(){function e(e,t){var a,s,i,r,n="comScore=",o=document,c=o.cookie,l="",p="&ns_",d=window,u=d.encodeURIComponent||escape;if(c.indexOf(n)+1)for(i=0,r=(s=c.split(";")).length;i<r;i++)(a=s[i].indexOf(n))+1&&(l="&"+unescape(s[i].substring(a+n.length)));2048<(e+=p+"_t="+ +new Date+p+"c="+(o.characterSet||o.defaultCharset||"")+(d===d.top?"":p+"if=1")+"&cv=3.6.3.200713&c8="+u(o.title)+l+"&c7="+u(o.URL)+"&c9="+u(o.referrer)).length&&0<e.indexOf("&")&&(c=e.substring(0,2040).lastIndexOf("&"),e=(e.substring(0,c)+p+"cut="+u(e.substring(c+1))).substring(0,2048)),o.images?(a=new Image,d.ns_p||(d.ns_p=a),"function"==typeof t&&(a.onload=a.onerror=t),a.src=e):o.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}var g=e;window.udm_=e;var v=(function(e){Object.defineProperty(e,"o",{value:!0}),e.t=void 0;var r=[1,7,8,9,10];e.t=function(){try{var e=(t=null,"function"==typeof __tcfapi&&__tcfapi("getTCData",2,function(e){t=e}),t);if(e)return{i:!0,p:!!e.gdprApplies,u:!0,s:e.isServiceSpecific,l:e.purposeOneTreatment,v:e.vendor.legitimateInterests[77],m:e.vendor.consents[77],g:function(e){var t={};if(!e)return t;for(var a=0,s=r;a<s.length;a++){var i=s[a];t[i]=e.purpose.consents[i]}return t}(e),_:e.publisherCC||""}}catch(e){}var t;return{i:!1,p:!1}}}((t={C:{}}).C),t.C);function s(e){if(e){var t,a,s,i,r,n,o=[],c=0,l="";for(n in e)"string"!=(a=typeof e[n])&&"number"!=a||(o[o[m]]=n+"="+h(e[n]),"c2"==n?l=e[n]:"c1"==n&&(c=1));if(!(o[m]<=0||""==l)){if((i=e.options||{}).d=i.d||document,"string"==typeof i.url_append){n=0;for(var p,d=(s=i.url_append.replace(/&amp;/,"&").split("&"))[m];n<d;n++)2==(p=s[n].split("="))[m]&&(o[o[m]]=p[0]+"="+h(p[1]))}if(i.disableTcfIntegration||(r=function(){var e=v.t();if(!e.i)return{h:!0,labels:{}};var t,a={gdpr:"0",gdpr_p1t:"",gdpr_li:"",gdpr_purps:"",gdpr_pcc:""};if(!e.p)return{h:!0,labels:a};if(a.gdpr="1",!e.u)return{h:!1,labels:a};a.gdpr_li=e.v?"1":"0",a.gdpr_pcc=e._,t=e.s&&e.l?(a.gdpr_p1t="1",!0):(a.gdpr_p1t="0",e.g[1]);var s,i=!1;return e.m&&(s=[],(i=t)&&s.push(1),e.g[7]&&s.push(7),e.g[8]&&s.push(8),e.g[9]&&s.push(9),e.g[10]&&s.push(10),a.gdpr_purps=s.join(",")),{h:i,labels:a}}()),t=["https://sb.scorecardresearch.com/"+(!r||r.h?"b":"b2")+"?",c?"":"c1=2&",o.join("&").replace(/&$/,"")],r)for(var u in r.labels)t.push("&"+u+"="+r.labels[u]);g(t.join(""))}}}(a=v)&&a.o&&Object.prototype.hasOwnProperty.call(a,"default")&&a.default,v.t,"undefined"==typeof _comscore&&(window._comscore=[]);var m="length",t=window,h=t.encodeURIComponent?encodeURIComponent:escape,a=function(e){for(var t=0,a=(e=e||_comscore)[m];t<a;t++)s(e[t]);e=_comscore=[]};a(),(t=t.COMSCORE=t.COMSCORE||{}).purge=a,t.beacon=s}(),this.trackedPV=!0},trackEvent:function(e){if(this.enabled!=DTM.TOOL_DISABLED){var t=this.getDL();if(void 0!==_satellite.getVar("event")[e]){var a=_satellite.getVar("event")[e].eventInfo.eventName,s=_satellite.getVar("event")[e].attributes,i=s.hasOwnProperty("currentTime")?1e3*s.currentTime:-1;switch(a){case DTM.events.PHOTOGALLERY:"undefined"!=typeof COMSCORE&&COMSCORE.beacon({c1:"2",c2:t.id,cs_ucfr:this.map.consents[this.consents]});break;case DTM.events.VIDEOREADY:if(!s.player.hasOwnProperty("idMedia")||!this.videoMetrix.init(s.player.idMedia))return!1;break;case DTM.events.VIDEORELOAD:this.videoMetrix.replay(s.videoID);break;case DTM.events.ADPLAY:case DTM.events.ADRESUMED:case DTM.events.VIDEOPLAY:case DTM.events.VIDEORESUMED:if(!s.hasOwnProperty("videoID")||!this.videoMetrix.init(s.videoID))return!1;a==DTM.events.ADPLAY||a==DTM.events.ADRESUMED?this.videoMetrix.setAdMetadata(s):this.videoMetrix.setMetadata(s),this.videoMetrix.play(s.videoID,a,i);break;case DTM.events.VIDEOEND:case DTM.events.ADEND:case DTM.events.ADSKIP:if(!s.hasOwnProperty("videoID")||!this.videoMetrix.init(s.videoID))return!1;this.videoMetrix.end(s.videoID,a,i);break;case DTM.events.VIDEOPAUSED:case DTM.events.ADPAUSED:if(!s.hasOwnProperty("videoID")||!this.videoMetrix.init(s.videoID))return!1;this.videoMetrix.pause(s.videoID,a,i);break;default:return}DTM.notify("",e,"ComScore")}else DTM.notify("ComScore event past not valid <"+a+">")}}},chartbeat:{enabled:1,dl:{},eventRequired:!1,eventRequiredFired:!1,trackType:-1,trackedPV:!1,init:function(){this.enabled=this.isEnabled(),this.trackType=DTM.TRACK_DELAY,this.eventRequired=this.getEventRequired();var e=_satellite.getVar("platform")==DTM.PLATFORM.FBIA?"//ep00.epimg.net/js/gdt/chartbeat/chartbeat_fia.js":"//ep00.epimg.net/js/gdt/chartbeat/chartbeat_video.js",t="production"==_satellite.buildInfo.environment&&DTM.validPage?"elpais.com":"staging.elpais.com",a=_satellite.getVar("canonicalURL")==_satellite.getVar("destinationURL").replace(/[\?#].*?$/g,""),s=a?"":document.location.pathname;this.enabled&&(window._sf_async_config=window._sf_async_config||{},window._sf_async_config.uid="61731",window._sf_async_config.flickerControl=!1,window._sf_async_config.autoDetect=!1,window._sf_async_config.domain=t,window._sf_async_config.useCanonical=a,window._sf_async_config.useCanonicalDomain=!1,a||(window._sf_async_config.path=s),this.videoStrategy(),this.headLineTesting()),this.setDL({authors:this.getAuthors(),autoDetect:!1,domain:t,id:"61731",path:s,sections:this.getSections(),src:e,useCanonical:a})},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.chb_enabled?DTM.config.chb_enabled:DTM.allowAll;return!e||_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&_satellite.getVar("platform")!=DTM.PLATFORM.WIDGET||(e=!1),e&&(e=-1==["archivo","buscador","comentario","concursos","descargables","desconocido","elpais","elpais_html","entrevistas","eskup","estaticos","eventos","eyeblaster","firmas","formularios","gp","kioskoymas","lomasvisto","misfavoritos","proxy","scripts","servicios","suscripciones"].indexOf(_satellite.getVar("primaryCategory"))),e=e?DTM.TOOL_ENABLED:DTM.TOOL_DISABLED},getEventRequired:function(){var e=!1;return void 0!==DTM.paywallActive&&!0===DTM.paywallActive?e="DTMPaywallActive":"1"==_satellite.getVar("paywall:signwall")&&_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&(e="DTMSignwallActive"),e},headLineTesting:function(){if(_satellite.getVar("platform")==DTM.PLATFORM.FBIA)return!1;if("portada"!=_satellite.getVar("pageType")&&"articulo"!=_satellite.getVar("pageType"))return!1;window._sf_async_config.flickerControl=!1;var e=document.createElement("script");e.setAttribute("language","javascript"),e.setAttribute("type","text/javascript"),e.setAttribute("async",""),e.setAttribute("src","//ep00.epimg.net/js/gdt/chartbeat/chartbeat_mab.js"),document.head.appendChild(e)},videoStrategy:function(){function e(e){this.player_=e,this.ready_=!1,this.currentAdPosition_=void 0,this.videoPlayed_=!1,this.viewStartTime_=(new Date).getTime(),this.videoStartTime_=void 0,this.subscribeEvents_()}window._cbv_strategies=window._cbv_strategies||[],window._cbv_strategies.push(e),e.ContentType={AD:"ad",CONTENT:"ct"},e.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"},e.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"},e.prototype.subscribeEvents_=function(){2<this.player_.readyState&&(this.ready_=!0),0<this.player_.currentTime&&!this.player_.paused&&!this.player_.ended&&this.onVideoPlay_(),this.player_.addEventListener("canplay",this.bind_(this.onPlaybackReady_,this)),this.player_.addEventListener("playing",this.bind_(this.onVideoPlay_,this))},e.prototype.bind_=function(e,t){return function(){e.call(t)}},e.prototype.onPlaybackReady_=function(){this.ready_=!0},e.prototype.onVideoPlay_=function(){this.videoStartTime_=(new Date).getTime(),this.videoPlayed_=!0},e.prototype.isReady=function(){return this.ready_},e.prototype.getTitle=function(){return this.player_.attributes.title&&this.player_.attributes.title.value||""},e.prototype.getVideoPath=function(){var e=void 0!==this.player_.idMedia?this.player_.idMedia:this.player_.currentSrc;return e||""},e.prototype.getContentType=function(){return e.ContentType.CONTENT},e.prototype.getAdPosition=function(){return""},e.prototype.getTotalDuration=function(){var e=this.player_.duration;return this.getTimeInSeconds_(e)},e.prototype.getState=function(){return this.videoPlayed_?this.player_.ended?e.VideoState.COMPLETED:this.player_.paused?e.VideoState.STOPPED:e.VideoState.PLAYED:e.VideoState.UNPLAYED},e.prototype.timeElapsed_=function(e){return void 0===e?0:(new Date).getTime()-e},e.prototype.onEmbedCodeChanged_=function(){this.currentAdPosition_=void 0,this.adStartTime_=void 0},e.prototype.getCurrentPlayTime=function(){var e=this.player_.currentTime;return this.getTimeInSeconds_(e)},e.prototype.getBitrate=function(){return-1},e.prototype.getThumbnailPath=function(){return this.player_.attributes.poster&&this.player_.attributes.poster.value||""},e.prototype.getPlayerType=function(){},e.prototype.getViewStartTime=function(){return isNaN(this.viewStartTime_)?0:this.timeElapsed_(this.viewStartTime_)},e.prototype.getViewPlayTime=function(){return this.videoPlayed_?this.timeElapsed_(this.viewStartTime_):-1},e.prototype.getViewAdPlayTime=function(){return-1},e.prototype.getTimeInSeconds_=function(e){return-1===e||isNaN(e)?-1:1e3*e},e.verify=function(e){return e instanceof HTMLElement&&"VIDEO"===e.nodeName&&void 0!==e.idMedia},window.PNCHVideoStrategy=e},getSections:function(){var e=_satellite.getVar("primaryCategory");if("brasil.elpais.com"==_satellite.getVar("domain"))e="brasil";else if("icon_design"==_satellite.getVar("primaryCategory"))e="icon-design,icon-total";else if("icon"==_satellite.getVar("primaryCategory"))e="icon,icon-total";else for(var t=["ccaa>catalunya","ccaa>madrid","cultura>television","cultura>babelia","cincodias>territorio_pyme","cincodias>smartlife"],a=0,s=t.length;a<s;a++)"0"==_satellite.getVar("subCategory1").indexOf(t[a])&&-1!=t[a].indexOf(">")&&(e+=","+t[a].split(">")[1]);return"1"==_satellite.getVar("brandedContent")&&(e+=",branded content"),e},getAuthors:function(){for(var e,t=[],a=_satellite.getVar("author"),s="",i=0,r=a.length;i<r;i++){s=a[i].name;(e=/^(.*)_a$/.exec(s))&&(s=e[1]),t.push(s.replace(/_/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}))}return t.join(",")},trackPV:function(){if(this.enabled!=DTM.TOOL_ENABLED||this.trackedPV)return!1;if(!1!==this.eventRequired&&!this.eventRequiredFired||!1!==this.eventRequired&&!DTM.delayCompleted)return!1;var e=this.getDL();window._sf_async_config.sections=e.sections,window._sf_async_config.title=_satellite.getVar("pageTitle"),window._sf_async_config.type=_satellite.getVar("pageType"),window._sf_async_config.authors=e.authors,window._sf_async_config.alias=_satellite.getVar("destinationURL"),(window._cbq=window._cbq||[]).push(["_acct","suscriptor"==_satellite.getVar("userType")?"paid":"1"==_satellite.getVar("registeredUser")?"lgdin":"anon"]),_satellite.getVar("platform")==DTM.PLATFORM.WEB&&(window._sf_async_config.idSync=_sf_async_config.idSync||{},window._sf_async_config.idSync.l=_satellite.getVar("profileID"));var t=document.createElement("script"),a=document.getElementsByTagName("script")[0];t.type="text/javascript",_satellite.getVar("platform")==DTM.PLATFORM.FBIA?t.setAttribute("defer",""):t.async=!0,t.src=e.src,a.parentNode.insertBefore(t,a),this.trackedPV=!0},trackEvent:function(e){if(this.enabled==DTM.TOOL_DISABLED)return!1;this.getDL();if(void 0!==_satellite.getVar("event")[e]){var t=_satellite.getVar("event")[e].eventInfo.eventName,a=_satellite.getVar("event")[e].attributes;switch(t){case DTM.events.VIDEOREADY:window._cbv=window._cbv||(window._cbv=[]),window._cbv.push(a.player);break;case DTM.events.SCROLLINF:"undefined"!=typeof pSUPERFLY&&pSUPERFLY.virtualPage({sections:_satellite.getVar("primaryCategory"),path:_satellite.getVar("destinationURL").replace(/http.?:\/\/[^\/]*/,""),title:_satellite.getVar("pageTitle")});break;default:return}DTM.notify("",e,"Chartbeat")}}},facebook:{enabled:1,dl:{},consents:-1,consentsID:"facebook",trackType:-1,trackedPV:!1,initialized:!1,init:function(){this.enabled=this.isEnabled(),this.trackType=DTM.TRACK_DELAY,this.consents=DTM.CONSENTS.DEFAULT,this.setDL({id:"1461658713846525",src:"https://www.facebook.com/tr",trackingCode:""!=_satellite.getVar("campaign")?_satellite.getVar("campaign"):"none",campaign:""!=_satellite.getVar("campaign")?_satellite.getVar("campaign"):"none",imgPV:new Image(1,1),imgVC:new Image(1,1),imgEv:new Image(1,1)})},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.fbk_enabled?DTM.config.fbk_enabled:DTM.allowAll;return!e||_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&_satellite.getVar("platform")!=DTM.PLATFORM.WIDGET||(e=!1),(e=e&&!0===DTM.validPage&&!1===DTM.translatePage)?DTM.TOOL_ENABLED:DTM.TOOL_DISABLED},trackPV:function(){if(this.enabled!=DTM.TOOL_ENABLED||this.trackedPV||_satellite.getVar("platform")!=DTM.PLATFORM.FBIA&&this.consents!==DTM.CONSENTS.ACCEPT)return!1;var e=this.getDL();e.imgPV.src=e.src+"?id="+e.id+"&ev=PageView&dl="+encodeURIComponent(_satellite.getVar("destinationURL"))+"&rl="+encodeURIComponent(_satellite.getVar("referringURL"))+"&ts="+Math.floor(1e13*Math.random()),e.imgVC.src=e.src+"?id="+e.id+"&ev=ViewContent&dl="+encodeURIComponent(_satellite.getVar("destinationURL"))+"&rl="+encodeURIComponent(_satellite.getVar("referringURL"))+"&cd[campaign]="+e.campaign+"&cd[content_name]="+_satellite.getVar("pageName")+"&cd[content_category]="+_satellite.getVar("primaryCategory")+"&cd[registeredUser]="+("1"==_satellite.getVar("registeredUser")?"reg":"anon")+"&cd[sysEnv]="+_satellite.getVar("sysEnv")+"&cd[trackingCode]="+e.trackingCode+"&ts="+Math.floor(1e13*Math.random()),this.trackedPV=!0},trackEvent:function(e){if(this.enabled==DTM.TOOL_DISABLED||this.consents!==DTM.CONSENTS.ACCEPT)return!1;var t=this.getDL();if(void 0!==_satellite.getVar("event")[e]){var a=_satellite.getVar("event")[e].eventInfo.eventName,s=_satellite.getVar("event")[e].attributes;switch(a){case DTM.events.UUVINC:case DTM.events.USERREGISTER:t.imgEv.src=t.src+"?id="+t.id+"&ev=CompleteRegistration&dl="+encodeURIComponent(_satellite.getVar("destinationURL"))+"&rl="+encodeURIComponent(_satellite.getVar("referringURL"))+"&cd[content_name]="+_satellite.getVar("pageName")+"&cd[content_category]="+_satellite.getVar("primaryCategory")+"&cd[sysEnv]="+_satellite.getVar("sysEnv")+"&cd[status]="+(a==DTM.events.USERREGISTER?"register":"vinculation")+"&cd[reg_origin]="+(void 0!==s.registerOrigin?s.registerOrigin:"")+"&cd[reg_prod_origin]="+(void 0!==s.registerProd?s.registerProd:"")+"&cd[reg_type]="+(a==DTM.events.UUVINC?"vinculation":"undefined"!=s.registerType?"clasico"==s.registerType?"classic":"social("+s.registerType+")":"")+"&rnd="+Math.floor(1e13*Math.random());break;default:return}DTM.notify("",e,"Facebook")}}},elpais:{enabled:1,dl:{},trackType:-1,trackedPV:!1,eventQueue:[],eventRequired:!1,eventRequiredFired:!1,map:{events:{},vars:{}},init:function(){this.enabled=this.isEnabled(),this.createMap(),this.trackType=DTM.TRACK_DELAY,this.eventRequired=this.getEventRequired(),this.setDL({img:null,src:{realTime:"production"==_satellite.buildInfo.environment&&DTM.validPage?"https://tracker.datanoticias.prisasd.com/pixel.png":"https://tracker.dev.datanoticias.prisasd.com/pixel.png",pep:"//pxlctl.elpais.com/pxlctl.gif",cloudfront:"//d30wo2lffetbp8.cloudfront.net/"},realTime:{pn:_satellite.getVar("pageName"),g:_satellite.getVar("destinationURL"),ch:_satellite.getVar("primaryCategory"),tit:_satellite.getVar("pageTitle"),typ:_satellite.getVar("pageType"),h:_satellite.getVar("server"),r:_satellite.getVar("referringURL"),cms:_satellite.getVar("cms"),edc:"not-set",edn:_satellite.getVar("editionNavigation"),ts:this.getTimeStamp(),co:"not-set",sys:_satellite.getVar("sysEnv"),arcid:"not-set",uid:"not-set",aid:"not-set",ust:"not-set",usty:"not-set",ustamp:"not-set",pwt:"not-set",pws:"not-set",pwp:"not-set",pwstep:"not-set",pwact:"not-set",pwcou:"not-set",pwad:"not-set",pwfp:"not-set",pwbc:"not-set"}})},createMap:function(){this.map.events[DTM.events.PHOTOGALLERY]="photogallery",this.map.events[DTM.events.SCROLLINF]="scrollInf",this.map.events[DTM.events.RECOMMENDERIMPRESSION]="r",this.map.events[DTM.events.INTERNALPIXEL]="internalPixel",this.map.events[DTM.events.USERREGISTER]="okreg",this.map.events[DTM.events.USERLOGIN]="oklog",this.map.events[DTM.events.READARTICLE]="readArticle",this.map.vars.recommenderTime1="t1",this.map.vars.recommenderTime="t",this.map.vars.recommenderError="e",this.map.vars.recommenderTo="to",this.map.vars.recommenderS="s",this.map.vars.userID="u",this.map.vars.registerType="rgt",this.map.vars.registerOrigin="rgo",this.map.vars.registerProd="rgp"},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.ep_enabled?DTM.config.ep_enabled:DTM.allowAll;return e&&_satellite.getVar("platform")==DTM.PLATFORM.WIDGET&&(e=!1),e=e?DTM.TOOL_ENABLED:DTM.TOOL_DISABLED},getEventRequired:function(){var e=!1;return void 0!==DTM.paywallActive&&!0===DTM.paywallActive?e="DTMPaywallActive":"1"==_satellite.getVar("paywall:signwall")&&_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&(e="DTMSignwallActive"),e},getTimeStamp:function(e){return e?_satellite.getVar("date:fullYear")+"/"+_satellite.getVar("date:month")+"/"+_satellite.getVar("date:day")+"T"+_satellite.getVar("date:hours")+":"+_satellite.getVar("date:minutes")+":"+_satellite.getVar("date:seconds"):(e=new Date).getFullYear()+"/"+DTM.utils.formatDate(e.getMonth()+1)+"/"+DTM.utils.formatDate(e.getDate())+"T"+DTM.utils.formatDate(e.getHours())+":"+DTM.utils.formatDate(e.getMinutes())+":"+DTM.utils.formatDate(e.getSeconds())},trackPV:function(){if(this.enabled!=DTM.TOOL_ENABLED||this.trackedPV)return!1;if(!1!==this.eventRequired&&!this.eventRequiredFired||!1!==this.eventRequired&&!DTM.delayCompleted)return!1;var e,t,a=this.getDL(),s=[];for(e in s.push("ev=pageView"),a.realTime.pn=_satellite.getVar("pageName"),a.realTime.g=_satellite.getVar("destinationURL"),a.realTime.ch=_satellite.getVar("primaryCategory"),a.realTime.tit=_satellite.getVar("pageTitle"),a.realTime.typ=_satellite.getVar("pageType"),a.realTime.h=_satellite.getVar("server"),a.realTime.r=_satellite.getVar("referringURL"),a.realTime.cms=_satellite.getVar("cms"),a.realTime.sys=_satellite.getVar("sysEnv"),a.realTime.ts=this.getTimeStamp(),a.realTime.edc="",a.realTime.edn=_satellite.getVar("editionNavigation"),a.realTime.aid=DTM.utils.getVisitorID(),a.realTime.uid=_satellite.getVar("profileID"),a.realTime.co=_satellite.getVar("country"),a.realTime.ust=_satellite.getVar("registeredUser"),a.realTime.ustamp=_satellite.getVar("registeredUserAMP"),a.realTime.usty=_satellite.getVar("userType"),a.realTime.pwt="1"===_satellite.getVar("paywall:signwall")?"reg":"free",a.realTime.pws="1"==_satellite.getVar("paywall:status")?"cerrado":"abierto",a.realTime.pwp=_satellite.getVar("paywall:product"),a.realTime.pwstep="",a.realTime.pwact="1"===_satellite.getVar("paywall:active")?"activo":"inactivo",a.realTime.pwcou=_satellite.getVar("paywall:counter"),a.realTime.pwad=_satellite.getVar("paywall:ad"),a.realTime.pwfp=_satellite.getVar("paywall:freePage"),a.realTime.pwbc="not-set",a.realTime)s.push(e+"="+encodeURIComponent(a.realTime[e]));for(t in a.img=new Image(1,1),a.img.src=a.src.realTime+"?"+s.join("&")+"&rnd="+String(Math.random()).substr(2,9),this.trackedPV=!0,this.eventQueue)this.trackEvent(t)},trackEvent:function(e){if(this.enabled!=DTM.TOOL_DISABLED){var t=this.getDL();if(void 0!==_satellite.getVar("event")[e]){var a=_satellite.getVar("event")[e].eventInfo.eventName,s=_satellite.getVar("event")[e].attributes;if(this.map.events.hasOwnProperty(a)){var i,r,n=this.map.events[a];switch(a){case DTM.events.PHOTOGALLERY:case DTM.events.SCROLLINF:"undefined"!=typeof PRISA&&void 0!==PRISA.user&&void 0!==PRISA.user.trackAgain?PRISA.user.trackAgain():(t.img=new Image(1,1),t.img.src=t.src.pep+"?"+parseInt(1e7*Math.random()));break;case DTM.events.USERREGISTER:case DTM.events.USERLOGIN:case DTM.events.READARTICLE:if(this.isEnabled==DTM.TOOL_ENABLED&&!this.trackedPV)return this.eventQueue.push(e),!1;for(i in t.realTime.ts=this.getTimeStamp(),(r=[]).push("ev="+n),t.realTime)r.push(i+"="+encodeURIComponent(t.realTime[i]));for(o in this.map.vars)s.hasOwnProperty(o)&&r.push(this.map.vars[o]+"="+s[o]);t.img=new Image(1,1),t.img.src=t.src.realTime+"?"+r.join("&")+"&rnd="+String(Math.random()).substr(2,9);break;case DTM.events.INTERNALPIXEL:case DTM.events.RECOMMENDERIMPRESSION:(r=[]).push("ch="+_satellite.getVar("primaryCategory")),s.hasOwnProperty("userID")||(s.userID=_satellite.getVar("profileID"));var o,c="";if("object"==typeof s.extraParams)for(var l in s.extraParams)c+="&"+l+"="+s.extraParams[l];for(o in this.map.vars)s.hasOwnProperty(o)&&r.push(this.map.vars[o]+"="+("e"==this.map.vars[o]?s[o].toUpperCase():s[o]));n=s.hasOwnProperty("pixelName")?s.pixelName:"r";t.img=new Image(1,1),t.img.src=t.src.cloudfront+encodeURIComponent(n)+".gif?"+r.join("&")+c;break;default:return}DTM.notify("",e,"EL PAIS")}}else DTM.notify("EL PAIS event past not valid <"+a+">")}}},google:{enabled:!0,dl:{},consents:-1,consentsID:"google",trackType:-1,trackedPV:!1,init:function(){this.enabled=this.isEnabled(),this.trackType=DTM.TRACK_TOP,this.consents=DTM.CONSENTS.DEFAULT,this.setDL({src:"//googleads.g.doubleclick.net/pagead/viewthroughconversion/",id:965296472,id2:802913665,img:new Image(1,1),img2:new Image(1,1)})},getDL:function(){return this.dl},setDL:function(e){this.dl=e},isEnabled:function(){var e=void 0!==DTM.config.goo_enabled?DTM.config.goo_enabled:DTM.allowAll;return!e||_satellite.getVar("platform")!=DTM.PLATFORM.AMP&&_satellite.getVar("platform")!=DTM.PLATFORM.FBIA&&_satellite.getVar("platform")!=DTM.PLATFORM.WIDGET||(e=!1),e=e?DTM.TOOL_ENABLED:DTM.TOOL_DISABLED},trackPV:function(){if(this.enabled!=DTM.TOOL_ENABLED||this.consents!==DTM.CONSENTS.ACCEPT)return!1;var e=this.getDL();e.img.src=e.src+e.id+"/?value=0&guid=ON&script=0&rnd="+String(Math.random()).substr(2,9),"mx"==_satellite.getVar("country")&&(e.img2.src=e.src+e.id2+"/?value=0&guid=ON&script=0&rnd="+String(Math.random()).substr(2,9)),this.trackedPV=!0}}},trackGDPRPV:function(t,a){var s,i=DTM.tools[t].consentsID;"undefined"!=typeof Didomi&&"function"==typeof Didomi.getObservableOnUserConsentStatusForVendor?Didomi.getObservableOnUserConsentStatusForVendor(i).subscribe(function(e){DTM.tools[t].consents=void 0===e?DTM.CONSENTS.WAITING:!0===e?DTM.CONSENTS.ACCEPT:DTM.CONSENTS.REJECT,!1!==DTM.tools[t].trackPV()&&DTM.notify("PV tracked in tool <"+t+"> ("+a+")")}):(s=t,window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push(function(e){Didomi.getObservableOnUserConsentStatusForVendor(i).subscribe(function(e){DTM.tools[s].consents=void 0===e?DTM.CONSENTS.WAITING:!0===e?DTM.CONSENTS.ACCEPT:DTM.CONSENTS.REJECT,!1!==DTM.tools[s].trackPV()&&DTM.notify("PV tracked in tool <"+s+"> ("+a+" delayed)")})}))},trackPV:function(){if(this.toolsInitialized){var e,t,a={};for(e in this.tools)if("object"==typeof this.tools[e]){switch(this.tools[e].trackType){case DTM.TRACK_TOP:void 0!==this.tools[e].consentsID&&void 0!==window.gdprAppliesGlobally?DTM.trackGDPRPV(e,"consents"):!1!==DTM.tools[e].trackPV()&&DTM.notify("PV tracked in tool <"+e+"> (immediate)");break;case DTM.TRACK_DELAY:a[e]=e}void 0!==this.tools[e].eventRequired&&!1!==this.tools[e].eventRequired&&function(e){window.DTM.utils.addEvent(document,DTM.tools[e].eventRequired,function(){window.DTM.tools[e].eventRequiredFired=!0,void 0!==DTM.tools[e].consentsID&&void 0!==window.gdprAppliesGlobally?DTM.trackGDPRPV(e,"eventRequired:"+window.DTM.tools[e].eventRequired+" + consents"):!1!==DTM.tools[e].trackPV()&&window.DTM.notify("PV tracked in tool <"+e+"> (eventRequired: "+window.DTM.tools[e].eventRequired+")")})}(e)}t=a,window.setTimeout(function(){for(var e in DTM.delayCompleted=!0,t)void 0!==DTM.tools[e].consentsID&&void 0!==window.gdprAppliesGlobally?DTM.trackGDPRPV(e,"delayed + consents"):!1!==DTM.tools[e].trackPV()&&window.DTM.notify("PV tracked in tool <"+e+"> (delayed)")},DTM.TIME_DELAY)}else this.notify("Uninitialized tools")},trackPaywallPage:function(e){if("object"!=typeof e&&!e.hasOwnProperty("status"))return!1;!1===DTM.paywallActive&&(this.dataLayer.setParam("paywall.signwall","1"),this.dataLayer.setParam("paywall.status","abierto"==e.status?"0":"1")),this.utils.dispatchEvent("DTMSignwallActive")},trackPaywall:function(e){if("object"!=typeof e)return!1;!0===DTM.userInfoCompleted?(DTM.paywallSync="event",DTM.dataLayer.setPaywallInfo(e),DTM.utils.dispatchEvent("DTMPaywallActive")):DTM.utils.addEvent(document,"DTMUserInfoCompleted",function(){DTM.paywallSync="event",DTM.dataLayer.setPaywallInfo(e),DTM.utils.dispatchEvent("DTMPaywallActive")})},trackEvent:function(e,t){if(this.notify("DTM.trackEvent fired <"+e+">",!0),"string"==typeof e&&(void 0===t||"object"==typeof t))if(this.events.validEvent(e)){t=this.utils.formatData(t);var a,s=window.digitalData.event.length;for(a in window.digitalData.event.push({eventInfo:{eventName:e,eventAction:e,timeStamp:new Date,effect:""},category:{primaryCategory:_satellite.getVar("primaryCategory"),subCategory1:_satellite.getVar("subCategory1"),pageType:_satellite.getVar("pageType")},attributes:t}),DTM.tools)"object"==typeof DTM.tools[a]&&"function"==typeof DTM.tools[a].trackEvent&&DTM.tools[a].trackEvent(s)}else DTM.notify("Event not valid <"+e+">")}},window.trackPublicarComentario=function(){DTM.trackEvent(DTM.events.COMMENTS)},DTM.init();